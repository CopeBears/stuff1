<html>
<head>
    <title>Plants VS.Zombies</title>
    <style>
		#dBody {
			position: fixed;
			top: 1.5%;
			left:6%;
			width: 500;
			transform: scale(.8, 1.2);
			}

			#DivTeach {
			font-family: Arial, sans-serif;
			}

			#imgSF {
			position: relative;
			margin-top: -75px;
			}

			#dServer {
			font-family: Arial, sans-serif;
			}

			#dSelectCard {
			transform: scale(1.5, 1.1);
			}

			#dTitle {
			transform: scale(1.7, 1.7);
			}

			#dOptionsMenuback {
			transform: scale(1.6, 1.1);
			}

			#iGameOver {
			position: relative;
			margin-left: 240px;
			margin-top: 100px;
			}

			/* .minigame-names {
			font-size: 40px;
			} */

			#DivA {
			display: none;
			}

			#dFlagMeterContent {
			transform: scale(3.2, 1.5);
			position: relative;
			margin-left: -150px;
			margin-top: 0px;
			}

			#dCardList {
			transform: scale(1.3, 1.1);
			}

			#dSunNum {
			transform: scale(1.9, 1.4);
			position: relative;
			margin-left: 80px;
			}

			#dMenu {
			transform: scale(1, 2);
			position: fixed;
			top: 20px;
			}

			#dSpeed {
			transform: scale(1.5, 3);
			position: relative;
			margin-top: 90px;
			margin-left: 320px;
			}

			#speedAdjustment {
			transform: scale(2, 2.8);
			position: relative;
			margin-left: 30px;
			}

			#currentSpeed {
			transform: scale(2, 2.8);
			}

			#speedButtons {
			transform: scale(2, 2.8);
			}

			#dSelectCard {
			transform: scale(1.6, 1.1);
			/*   position: relative;
			margin-left: 30px; */
			}

			/* #bTitle {
				position: relative;
			margin-top: -350px;
			} */

			#btnOK {
			transform: scale(1.4, 2);
			}

			#btnReset {
			transform: scale(1.4, 2);
			}

			#plantList {
			transform: scale(1.35, 1.05);
			}

			#zombieList {
			transform: scale(1.05, 1.15);
			}

			#dProducePlant {
			font-size: 24px;
			letter-spacing: 1px;
			line-height: 120%;
			}

			#dProduceZombie {
			font-size: 22px;
			letter-spacing: 1px;
			line-height: 80%;
			}

			#btnViewPlant {
			transform: scale(1.8, 2.6);
			}

			#btnViewZombie {
			transform: scale(1.8, 2.6);
			}

			#handbookTitle {
			transform: scale(3.8, 2.6);
			position: relative;
			margin-top: -20px;
			}

			#handbookTitleZombie {
			transform: scale(3.8, 2.6);
			position: relative;
			margin-top: -20px;
			}

			/* #dMini0 {
			position: relative;
			transform: scale(1, 1.05);
			letter-spacing: 1px;
			line-height: 1px;
			margin: 0px;
			} */

			/* #exitMinigame {
			position: absolute;
			top: 700px;
			left: 200px;
			} */

			#minigameSheet {
			position: relative;
			transform: scale(2.1, 1.2);
			margin-left: 240px;
			margin-top: 25px;
			}

			#minigameSheet2 {
			position: relative;
			transform: scale(1.9, 1.15);
			margin-left: 240px;
			margin-top: 25px;
			}

			#closeButton {
			transform: scale(2, 2);
			}

			#exitMinigame {
			transform: scale(2, 2);
			}

			#exitMenu {
			transform: scale(2, 2);
			}

			#dRiddleClose {
			transform: scale(2, 2);
			}

			#dMenu0 {
			font-size: 24px;
			}

			#dMenu1 {
			font-size: 24px;
			}

			#pZombieBack {
			position: fixed;
			transform: scale(1.5, 1.1);
			left: 120px;
			}

			#dHandBookZCard {
			transform: scale(1.15, 1.5);
			position: relative;
			margin-top: 160px;
			margin-left: 50px;
			}

			#pHandBookZombie {
			position: relative;
			margin-left: 40px;
			}
	</style>

	<style>
		body{-moz-user-select:none;overflow-x:hidden;overflow-y:hidden;background:#000;Verdana,fixedsys;overflow-x:hidden}td{font-family:Verdana;font-size:12px}div{left:0}#preloader{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999}#status{background-image:url(images/interface/Logo1.png);background-repeat:no-repeat;background-position:center;z-index:999}span{cursor:default}span,div,h2,h3{padding:0;margin:0}td.HandBookZombie{background:url(images/interface/Almanac_ZombieWindow2.png) no-repeat;width:20%;height:16%;text-align:center}#DivTeach{filter:"alpha(opacity=90)";filter:alpha(opacity=90);opacity:.9;-moz-opacity:.9;position:absolute;width:900px;height:50px;top:170px;left:100;z-index:100;text-align:center;font-family: Arial, Helvetica, sans-serif;font-size:18px;font-weight:bold;color:#000;background-color:rgba(91,67,46,0)}.WindowFrame{position:absolute;top:0;width:900px;left:50%;margin-left:-450px;height:600px;overflow:hidden}#DivParty{filter:"alpha(opacity=90)";filter:alpha(opacity=90);opacity:.9;-moz-opacity:.9;position:absolute;width:420px;height:0;top:500px;left:0;z-index:100;text-align:center;font-size:18px;font-weight:bold;color:#FFF;background-color:#5b432e}.WindowFrame{position:absolute;top:0;width:900px;left:50%;margin-left:-450px;height:600px;overflow:hidden}#dLvlLink{position:absolute;top:587px;color:#fff;width:500px;left:50%;margin-left:-230px;font-size:13px;line-height:14px;height:15px;font-family:arial,sans-serif;z-index:1;text-align:left}#dLvlLink span{font-weight:bold;text-decoration:underline}#dLvlLink a{color:#fff}#dAD2,#dTitleSmallContainer,#dMiniSmallContainer,#dxiyouji{display:none}#dAdFlash{display:block}#dAdFlash div{width:336px;arial,verdana;font-size:11px;position:absolute;left:60px;top:380px;text-align:right;padding-right:50px}#dFlagMeter{visibility:hidden;position:absolute;z-index:255;left:50%;margin-left:-340px;top:0;height:45px}#dFlagMeterTitle{position:absolute;text-align:right}#sFlagMeterTitleF{display:none;position:absolute;color:#F93;font-size:25px;font-weight:bold;width:440px;top:19px;left:-6px;}#dFlagMeterTitleB{position:absolute;color:#000;font-size:25px;font-weight:bold;width:440px;height:21px;top:20px;left:-5px; display: none;}#dFlagMeterContent{position:absolute;left:444px;width:157px;height:40px}#dFlagMeterContent .flag{top:14px;visibility:hidden}#imgFlagMeterFull{top:17px;clip:rect(0,auto,auto,157px)}#imgFlagMeterEmpty{top:17px}#imgFlag1{left:10px}#imgFlag2{left:40px}#imgFlag3{left:70px}#imgFlag4{left:100px}#imgGQJC{left:35px;top:29px;visibility:hidden}#imgFlagHead{left:139px;top:13px}#dFlagMeter1{visibility:hidden;position:absolute;z-index:255;left:50%;margin-left:-340px;top:0;height:45px}#dFlagMeterTitle1{position:absolute;text-align:right}#sFlagMeterTitleF1{position:absolute;color:#F93;font-size:18px;font-weight:bold;width:440px;top:19px;left:-6px;}#dFlagMeterTitleB1{position:absolute;color:#000;font-size:18px;font-weight:bold;width:440px;height:21px;top:20px;left:-5px;}#dFlagMeterContent1{position:absolute;left:444px;width:157px;height:40px}#dFlagMeterContent1 .flag{top:14px;visibility:hidden}#imgFlagMeterFull1{top:17px;clip:rect(0,auto,auto,157px)}#imgFlagMeterEmpty1{top:17px}#imgFlag11{left:10px}#imgFlag21{left:40px}#imgFlag31{left:70px}#imgFlag41{left:100px}#imgGQJC1{left:35px;top:29px;visibility:hidden}#imgFlagHead1{left:139px;top:13px}#dSurface{display:none;z-index:255}#dAdventure{position:absolute;left:472px;top:80px;width:331px;height:146px;cursor:pointer}#iSurfaceBackground .adventure0{background:url() no-repeat;_background:url() no-repeat}#iSurfaceBackground .adventure1{background:url() no-repeat;_background:url() no-repeat}#iSurfaceBackground .mini{position:absolute;background:url() no-repeat;_background:url() no-repeat;left:474px;top:203px;width:313px;height:133px;cursor:pointer}#iSurfaceBackground .riddle{position:absolute;background:url(images/interface/SelectorScreenChallenges_32.png) no-repeat;_background:url(images/interface/SelectorScreenChallenges_8.png) no-repeat;left:478px;top:303px;width:286px;height:122px;cursor:pointer}#iSurfaceBackground .handbook{position:absolute;background:url(images/interface/SelectorScreen_Almanac_32.png) no-repeat;_background:url(images/interface/SelectorScreen_Almanac_8.png) no-repeat;left:84px;top:428px;width:200px;height:200px;cursor:pointer}#ZombieHand{position:absolute;width:330px;height:330px;left:262px;top:264px;display:none;overflow:hidden}#dName{position:absolute;left:35px;width:230px;top:93px;height:25px;text-align:center;color:#FC6;font-weight:bold;font-size:18px;font-family:Verdana,Tahoma}#dNameDiv0{position:absolute;left:20px;top:-260px;width:293px;height:260px;_background:url(images/interface/SelectorScreen_WoodSign3_8.png) no-repeat;overflow:hidden}#dSurfaceBack{position:absolute;top:0;width:0;height:0;z-index:255}@#dSelectLevel{position:absolute;width:100%;height:100%;font-weight:bold;display:none}#dOptionsMenuBack{position:absolute;text-align:center;left:244px;top:60px;width:412px;height:483px;display:none;background:url(images/interface/OptionsMenuback32.png) no-repeat;_background:url(images/interface/OptionsMenuback32.png) no-repeat}.TitleBigContainer{position:relative;width:220px;margin:120px auto 0 auto;height:240px;overflow:hidden}@#dTitleSmallContainer span{cursor:pointer}#dMiniSmallContainer .SmallLevel{width:100%}#dMiniSmallContainer .BigLevel span{cursor:pointer}#dxiyouji .SmallLevel{width:100%}#dxiyouji .BigLevel span{cursor:pointer}#dMiniLvl2{position:absolute;left:0;top:0;display:none}#dBigLvl2,#dBigLvl3{position:absolute;left:0;top:0;display:none}.SmallLevel{float:left;cursor:pointer;width:50%;font-size:14px}.BigLevel{float:left;color:#FC6;font-size:18px;width:100%;height:35px}.OptionsMenuButton,.OptionsMenuButtonDown{background:url(images/interface/OptionsBackButton32.png) no-repeat;_background:url(images/interface/OptionsBackButton8.png) no-repeat;float:left;font-size:32px;cursor:pointer;width:360px;height:100px;margin-left:26px;display:inline;color:#FC6}.OptionsMenuButton{background-position:0 0}.OptionsMenuButtonDown{background-position:0 -100px}.OptionsMenuButtonSpan{height:100px;line-height:100px;cursor:pointer}.SelectModal{color:#FC6;font-weight:bold;cursor:pointer;background:url(images/interface/Button.png) no-repeat center;text-align:center;height:43px;width:115px}.Menu{float:left;text-align:center;line-height:41px;font-weight:bold;color:#00cb08;height:41px;width:113px;background:url(images/interface/Button.png) no-repeat}#imgSF{position:absolute;cursor:pointer;z-index:256}#PointerUD{position:absolute;z-index:50}#dTitle{visibility:hidden;position:absolute;background-color:#FFD;width:180px;font-size:12px;text-align:center;line-height:1.5;border:1px solid #000;padding:3px;z-index:254}#dAll{background:url('images/interface/ing.png')}#dAll img,#dFlagMeter img,#dHandBookPCard img{position:absolute;border-style:none}#dPZ{position:absolute}#dFog{position:absolute;left:1290px;top:10px;height:600px;width:800px;z-index:24}#dFog img{opacity:.7;filter:alpha(opacity=70)}#tGround{position:absolute;width:1400px;height:600px;visibility:hidden;z-index:0}#dCardList{visibility:hidden;position:absolute;left:500px;top:0;width:100px;overflow:visible;z-index:254}#dCardList div{position:relative;cursor:pointer;padding:0;height:60px;overflow:hidden}#dCardList span{cursor:pointer;text-align:right;position:absolute;left:58px;width:18px;top:30px;font-family:Cafeteria Black;font-size:30px}#dCardList img{position:absolute}#dZombie{position:absolute;width:335px;height:600px;left:1065px;top:0;z-index:1}#bShowHandBook{visibility:hidden;position:absolute;left:1300px;top:555px;text-align:center;cursor:pointer;width:89px;height:26px;z-index:201;line-height:26px;background:url(images/interface/Almanac_CloseButton.png);color:#000080;font-size:12px}#dSelectCard{visibility:hidden;position:absolute;left:700px;top:20px;width:465px;height:550px;z-index:20;background:url('images/interface/SeedChooser_Background.png') no-repeat}#dSelectCard .title{text-align:center;line-height:35px;font-size:14px;color:#FC6;height:35px;width:100%;top:0;font-weight:bold}#dSelectCard .bTitle{width:100%;height:40px;line-height:40px;text-align:center;margin-top:10px}#dSelectCard .button{width:65px;height:35px;border-left:3px solid #85411c;border-right:3px solid #4e250c;border-top:3px solid #85411c;border-bottom:3px solid #4e250c;background-color:#602d11;font-weight:bold;font-size:14px;cursor:pointer}#dPCard{position:relative;width:96%;height:455px;padding-left:13px;_padding-left:10px}#dPCard .span1,#dHandBookPCard .span1{cursor:pointer;width:70px;height:42px;overflow:hidden;float:left;margin:8px 0 0 2px;position:relative}#dPCard .span2,#dHandBookPCard .span2{cursor:pointer;text-align:right;position:absolute;left:42px;width:18px;top:20px;font-family:Cafeteria Black;font-size:20px}#dPCard img,#dHandBookPCard img{left:0;width:70px;height:84px}#dTop{position:absolute;left:605px;top:561px;height:35px;width:123px;visibility:hidden;z-index:1}#dSunNum{background:url('images/interface/SunBack.png') no-repeat;position:absolute;width:123px;height:35px}#sSunNum{text-align:center;position:absolute;top:4px;left:43px;width:68px;font-family:Verdana;font-weight:bold;font-size:18pt}#tdShovel{position:absolute;width:71px;height:35px;left:130px;background:url('images/interface/ShovelBack.png') no-repeat;visibility:hidden}#dPlants,#dZombies{position:absolute;left:0;top:0;z-index:2}#dMenu{visibility:hidden;position:absolute;top:0;left:50%;margin-left:227px;cursor:pointer;width:226px;height:41px;z-index:254}#dHandBook{visibility:hidden;position:absolute;z-index:255;width:900px;background:url(images/interface/Almanac_IndexBack.jpg) no-repeat}#dHandBook .title{position:relative;text-align:center;line-height:92px;height:88px;width:100%;font-size:32px;font-weight:bold}#dHandBook .content{position:relative;height:423px;width:100%}#dHandBook .content div{position:absolute;width:50%;text-align:center;padding-top:135px}#dHandBook .content div .button{cursor:pointer;width:113px;height:41px;font-size:14pt;font-weight:bold}#dHandBook .close{margin-top:20px;margin-left:670px;text-align:center;cursor:pointer;width:89px;height:26px;line-height:26px;background:url(images/interface/Almanac_CloseButton.png);color:#000080;font-size:12px}#btnViewPlant{cursor:pointer;width:113;height:41;border-left:3px solid #85411c;border-right:3px solid #4e250c;border-top:3px solid #85411c;border-bottom:3px solid #4e250c;background-color:#8f431b;color:#fc6;font-weight:bold;font-size:14pt;margin-top:43px}#btnViewZombie{cursor:pointer;width:113;height:41;background:#404364;color:#00f500;font-weight:bold;font-size:14pt;margin-top:25px;border-left:3px solid #6c6c85;border-right:3px solid #686788;border-top:3px solid #6c6c85;border-bottom:3px solid #727390}#dHandBookPZ{visibility:hidden;position:absolute;z-index:255;width:900px}#dHandBookPZ .dButton{position:absolute;left:0;top:568px;width:100%}#dHandBookPZ .dButton div{position:absolute;text-align:center;cursor:pointer;height:26px;line-height:26px;color:#000080;font-size:12px}#dHandBookPZ .dButton .button1{left:30px;width:164px;background:url(images/interface/Almanac_IndexButton.png)}#dHandBookPZ .dButton .button2{left:670px;width:89px;background:url(images/interface/Almanac_CloseButton.png)}#dHandBookP{position:absolute;top:0;width:100%;height:567px}#dHandBookP .title,#dHandBookZ .title{position:absolute;top:0;width:100%;height:70px;text-align:center;font-size:20px;font-weight:bold}#dHandBookP .title{line-height:90px;color:#ceaa31}#dHandBookP .list,#dHandBookZ .list{position:absolute;text-align:center;left:55%;height:497px;top:71px}#dHandBookP .list{width:45%;background:url(images/interface/Almanac_PlantCard.png) no-repeat 20px 10px}#dHandBookP .list .cost_cool{width:74%;font-size:14px;margin-left:auto;margin-right:auto;text-align:left}#dHandBookP .list .cost_cool .cost{float:left;width:20%}#dHandBookP .list .cost_cool .cool{float:left;width:30%}#dHandBookPCard{position:absolute;top:71px;width:55%;height:497px;margin:25px 0 0 15px}#pPlantBack,#pZombieBack{position:absolute;width:250px;height:250px;background:url('images/interface/Almanac_Ground.jpg') no-repeat}#pPlantBack{left:518px;top:84px}#pHandBookPlant{width:100%;height:180px;background-repeat:no-repeat;background-position:50% 70%}#dHandBookPlantName{width:100%;height:60px;text-align:center;line-height:60px;font-size:40px;color:#deb887;}#dProducePlant{margin-left:auto;margin-right:auto;width:74%;height:210px;text-align:left;font-size:13px;line-height:16px}#spSunNum,#spCoolTime{float:left;width:24%}#dHandBookZ{display:none;position:absolute;top:0;width:100%;height:567px}#dHandBookZ .title{line-height:90px;color:#0F0}#dHandBookZ .list{width:42%;background:url(images/interface/Almanac_ZombieCard.png) no-repeat 10px 8px}#dHandBookZCard{position:absolute;top:71px;width:55%;height:650px;margin:25px 0 0 20px}#dHandBookZCard img{position:absolute}#dHandBookZCard .span1{cursor:pointer;overflow:hidden;width:60px;height:70px;float:left;margin:0px 0 0 2px;position:relative}#dHandBookZCard .span2{cursor:pointer;text-align:right;width:25px;position:absolute;left:63px;width:18px;top:30px;font-family:Cafeteria Black;font-size:25px;color:#fff}#pZombieBack{left:512px;top:111px}#pHandBookZombie{width:90%;height:250px;background-repeat:no-repeat;background-position:50% 70%}#dHandBookZombieName{width:100%;height:60px;text-align:center;line-height:60px;font-size:30px;color:#000;font-weight:bold}#dProduceZombie{margin-left:auto;margin-right:auto;width:76%;height:210px;text-align:left;font-size:12px;line-height:16px}#dNewPlant{visibility:hidden;position:absolute;top:0;left:50%;margin-left:-450px;width:900px;height:600px;background:url(images/interface/AwardScreen_Back.jpg) no-repeat}#dNewPlant .card{position:absolute;top:100px;width:900px;height:191px;line-height:191px;text-align:center}#dNewPlantTitle{position:absolute;left:50%;text-align:center;margin-left:-250px;color:#FC6;font-size:20px;height:90px;line-height:90px;font-weight:bold;width:500px}#dNewPlantName{position:absolute;position:absolute;top:320px;text-align:center;left:50%;margin-left:-150px;width:300px;height:55px;font-size:30px;color:#000;font-weight:bold;line-height:55px}#dNewPlantTooltip{position:absolute;left:50%;top:400px;text-align:center;margin-left:-140px;width:280px;font-weight:bold;font-size:15px;color:#232323}#btnNextLevel{position:absolute;cursor:pointer;width:113px;height:41px;border-left:3px solid #85411c;border-right:3px solid #4e250c;border-top:3px solid #85411c;border-bottom:3px solid #4e250c;background-color:#8f431b;color:#FC6;font-weight:bold;font-size:14px;left:400px;top:507px}#dProcess{text-align:center;border:1px solid #FFF;background:#000;color:#FFF;position:absolute;left:50%;margin-left:-442px;top:10px;width:865px;height:550px;visibility:hidden;z-index:250;padding:6px;*padding:6px 5px 10px 2px}#dProcess img{margin:5px 0}#dProcess .button{cursor:pointer;width:113px;height:30px;border-left:3px solid #85411c;border-right:3px solid #4e250c;border-top:3px solid #85411c;border-bottom:3px solid #4e250c;background-color:#8f431b;color:#FC6;font-weight:bold;font-size:14px}#sFailed{line-height:30px;font-size:16px;color:#FF0;font-weight:bold}#dProcess2{overflow:auto;line-height:18px;font-size:12px;text-align:left;width:100%;height:500px}dt{line-height:20px;font-size:15px;margin:8px 0 0 15px;color:#E80;font-family:Verdana,Tahoma;font-weight:bold}dd{line-height:22px;font-size:12px;margin:0}dd.yellow{color:#FF0}.Tom1{left:0;top:0;width:86px;height:91px;background:url(images/interface/Tombstones.png) no-repeat}.Tom2{position:absolute;left:0;top:0;width:86px;height:91px;background:url(images/interface/Tombstone_mounds.png) no-repeat}.flipH{-moz-transform:matrix(-1,0,0,1,0,0);-webkit-transform:matrix(-1,0,0,1,0,0);-o-transform:matrix(-1,0,0,1,0,0)}#dText1,#dText2{position:relative;width:100%}#dText1{height:90px;_margin-bottom:10px}#dLink{position:absolute;top:602px;left:0}#dLinkTop,#dChatView2{position:relative;float:left;width:393px;_width:384px}#dLink,#dLinkTop{color:#FFF;padding:0;height:59px}#dLink div,#dLinkTop div,#dChatView2 div{float:left;margin-right:2px;height:59px;_margin-right:1px}#dAdFlash{position:absolute;top:100px;left:50%;width:320px;height:290px;padding:45px 107px 45px 107px;margin-left:-275px;z-index:254;display:none}#dAdFlash div{position:absolute}#dAD2{position:absolute;left:50%;margin-left:-234px;top:500px;height:15px;width:468px;z-index:250}.a5gg{position:relative;width:161px;text-align:center;background:#f0f0f0;font-size:12px;border:0 solid #ccd3df}.a5gg dt{margin-top:0;line-height:17px}.a5gg a{text-decoration:none;color:#336cd8;font-size:12px}.a5gg dd{margin-left:2px;width:30px;height:14px;line-height:14px;float:left;_margin-left:1px}#dChat{position:absolute;left:50%;margin-left:-421px;top:5px;z-index:255}#dChat div{position:absolute}#dChatView{display:none;width:842px;height:585px;background:url()}#dChatView .bg{position:absolute;left:20px;top:20px;width:800px;height:395px;background:#ffcf94;filter:alpha(opacity=90);opacity:.9}#dChatView iframe{background-color:transparent}#dChatView .IF2{position:absolute;left:60px;top:530px;width:710px;height:35px}.Almanac_IndexBack{background:url(images/interface/Almanac_ZombieBack.jpg) no-repeat;width:900px;height:600px}.Almanac_PlantBack{background:url(images/interface/Almanac_PlantBack.jpg) no-repeat;width:900px;height:600px}.Almanac_ZombieBack{background:url(images/interface/Almanac_ZombieBack.jpg) no-repeat;width:900px;height:600px}.Almanac_ZombieBack1{background:url(images/interface/Almanac_ZombieBack1.jpg) no-repeat;width:900px;height:600px}.Almanac_ZombieBack2{background:url(images/interface/Challenge_Background_Xiyouji.jpg) no-repeat;width:900px;height:600px}.Challenge_Background{background:url(images/interface/Challenge_Background.jpg) no-repeat;width:900px;height:600px}.Challenge_Background_Level{background:url(images/interface/Challenge_Background_Level.jpg) no-repeat;width:900px;height:600px}.Xiyouji_Background{background:url(images/interface/xiyouji_guanqia.jpg) no-repeat;width:900px;height:600px}.Sunflower_trophy{position:absolute;left:15px;top:310px;width:157px;height:269px;overflow:hidden;cursor:pointer}.Sunflower_trophy img{position:absolute;left:-157px;*filter:glow(color=#ffffff,strength=8)}#dLogin{position:absolute;left:0;top:0;width:900px;height:600px;z-index:255;display:none;font-weight:bold}#dLogin table{position:absolute;left:233px;top:90px;height:400px;width:434px}#dLogin .list{position:absolute;left:0;top:90px;margin-top:0;z-index:200;width:100%;font-size:13px;text-align:center;color:#FFF}#dLogin .list div,#dPause .list div{position:relative;width:100%}#dLogin .button,#dPause .button{position:absolute;cursor:pointer;top:410px;color:#F93;font-size:24px;font-weight:700}#dPause .button{left:150px;top:404px}#dPauseAD{left:0;height:100%}#dLoadUserName{visibility:hidden;top:170px;height:100%;text-align:center}#dPause{position:absolute;left:233px;top:20px;width:434px;display:none;font-weight:bold}#dPause .list{position:absolute;left:0;top:90px;z-index:200;width:100%;text-align:center}#dPause .list .hidden{cursor:pointer;height:20px;color:#F93;font-size:16px;line-height:20px}#dPause .list .pause{color:#000;font-size:18px;line-height:30px}#dOptionsMenu{line-height:30px;position:absolute;width:100%;height:100%;display:none;font-weight:bold}#dOptionsMenu .button{cursor:pointer;color:#632f00;text-decoration:none;font-size:30}#dOptionsMenu .OMd0{margin-top:120px;height:65px;position:relative}#dOptionsMenu .OMd0 .OMd1{position:absolute;left:150px;text-align:left}#dOptionsMenu .OMd0 .OMd1 div{height:30px}#dOptionsMenu .OMd0 .OMd1 div label{color:#000}#dMiniSmallContainer,#dxiyouji,#dRiddleSmallContainer,#dRiddleSmallContainer1,#dAdvSmallContainer{display:none;position:absolute;left:0;top:0}#dMiniSmallContainer table{position:absolute;left:0}#dxiyouji table{position:absolute;left:0}#dRiddleTitle,#dRiddleTitle1,#dMiniSmallTitle,#dAdvSmallTitle{position:relative;text-align:center;line-height:88px;height:88px;width:100%;font-size:30px;font-weight:bold;color:#fff}#dRiddleTitle{color:#fff}#dRiddleTitle1{color:#fff}#dRiddleInx{position:relative;height:473px;width:100%}#dRiddleInx div{position:absolute;width:50%;height:442px;text-align:center}#dRiddleInx .button{cursor:pointer;width:113px;height:41px;border-left:3px solid #85411c;border-right:3px solid #4e250c;border-top:3px solid #85411c;border-bottom:3px solid #4e250c;background-color:#8f431b;color:#FC6;font-weight:bold;font-size:14pt;margin-top:26px}#dRiddleInx .inx0{cursor:pointer;top:0;left:0;margin-left:0;width:450px;height:600px;background:url(images/interface/Almanac_IndexBack.png) no-repeat left top}#dRiddleInx .inx1{cursor:pointer;top:0;left:0;margin-left:0;width:450px;height:600px;background:url(images/interface/Almanac_IndexBack.png) no-repeat right top}#dRiddleInx1{position:relative;height:473px;width:100%}#dRiddleInx1 div{position:absolute;width:50%;height:442px;text-align:center}#dRiddleInx1 .button{cursor:pointer;width:113px;height:41px;border-left:3px solid #85411c;border-right:3px solid #4e250c;border-top:3px solid #85411c;border-bottom:3px solid #4e250c;background-color:#8f431b;color:#FC6;font-weight:bold;font-size:14pt;margin-top:26px}#dRiddleInx1 .inx01{cursor:pointer;top:0;left:50%;margin-left:-110px;width:221px;height:310px;background:url(images/interface/Almanac_IndexBack.png) no-repeat left top}#dRiddleInx1 .inx11{cursor:pointer;top:0;left:50%;margin-left:-110px;width:221px;height:310px;background:url(images/interface/Almanac_IndexBack.png) no-repeat right top}#dRiddle0 td,#dMini0 td,#dMini1 td{cursor:pointer;width:20%;text-align:center;background:url(images/interface/Challenge.png) no-repeat 50%;padding-top:18px}#dRiddle0{position:relative;height:473px;width:94%;display:none}#dRiddle0 .list,#dMini0 .list,#dMini1 .list{margin-top:15px;height:45px}#dRiddle0 .button,#dRiddle1 .button{top:475px;position:absolute;left:30px;text-align:center;cursor:pointer;width:164px;height:26px;line-height:26px;background:url(images/interface/Almanac_IndexButton.png);color:#000080;font-size:12px}#dRiddle1{text-align:left;position:relative;height:473px;width:100%;display:none;top:-10px}#dRiddleClose,#dMini1 .button,#dMini0 .button,#dAdvSmallContainer .button{position:absolute;left:650px;top:564px;text-align:center;cursor:pointer;width:89px;height:26px;line-height:26px;background:url(images/interface/Almanac_CloseButton.png);color:#000080;font-size:12px}#dRiddle1 .list{width:48%}#dAdvSmallContainer{padding-left:50px}#dAdvSmallContainer img{position:absolute}#dAdvSmallContainer .lvl{font-size:16px;font-weight:bold;float:left;cursor:pointer;margin-left:40px}#dAdvSmallContainer .lvl2{position:relative;float:left;width:500px;line-height:35px;padding-top:15px}#dAdvSmallContainer .list{position:relative;width:700px;height:80px;float:left}#dAdvSmallContainer .list .title{position:relative;color:#000;font-size:25px;line-height:25px;font-weight:bold;height:90px;width:60px;float:left;padding-top:25px}#dAdvSmallContainer .list .icon{position:relative;height:100px;width:100px;float:left;margin-left:20px}#dAdvSmallContainer .img1{top:17px}#dAdvSmallContainer .img2{left:8px;top:11px}.Announcement{position:absolute;left:50%;margin-top:-20px;margin-left:-450px;padding-top:25px;height:60px;overflow:hidden;top:600px;width:900px;background:url('new_skin/game_bg.png') no-repeat 0 0;z-index:65535}.Announcement .d1{float:left;position:relative;height:40px;width:75%}.Announcement .d1 .share{font-weight:bold;float:left;line-height:40px;margin-left:0;font-size:14px}.dLittleChat{float:left;width:25%;margin-top:5px}.dLittleChat a{color:#060;font-size:14px}.game_ipt_01{float:left;width:79px;height:26px;margin-right:10px;background:url(new_skin/game_ipt.png) no-repeat;border:0;font-weight:600;color:#FFF;font-size:12px;vertical-align:top;cursor:pointer}#dSpeedContainer{position:absolute;left:50%;padding:10px;margin-left:-300px;top:87px;width:600px;font-size:14px;height:430px;border:1px solid #000;background:#666;color:#FFF;text-align:center;display:none;z-index:255}#dSpeedContainer .title{position:relative;height:25px;width:538px;line-height:25px;font-weight:bold;color:#FF0}#dSpeedContainer .nowspeed{height:50px;line-height:50px;font-weight:bold;color:#FF0}#dSpeedContainer .content{text-align:left;line-height:30px}#dSpeedContainer .content span{font-weight:700;color:#FF0}.dSpeed{position:relative;margin-top:20px;height:50px;width:100%}.dSpeed div{cursor:pointer}.dSpeed .dS1{float:left;width:40%;line-height:50px;font-weight:bold}.dSpeed .dS2 div{float:left}button.jhp{background-image:-webkit-gradient(linear,left top,left bottom,from(#f5f5f5),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f5f5f5,#f1f1f1);-webkit-border-radius:2px;-webkit-user-select:none;background-color:#f5f5f5;background-image:linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-o-linear-gradient(top,#f5f5f5,#f1f1f1);border:1px solid #dcdcdc;border:1px solid rgba(0,0,0,0.1);border-radius:2px;color:#666;cursor:pointer;font-family:arial,sans-serif;font-size:11px;font-weight:bold;text-align:center}button.jhp:hover{background-image:-webkit-gradient(linear,left top,left bottom,from(#f8f8f8),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f8f8f8,#f1f1f1);-webkit-box-shadow:0 1px 1px rgba(0,0,0,0.1);background-color:#f8f8f8;background-image:linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-o-linear-gradient(top,#f8f8f8,#f1f1f1);border:1px solid #c6c6c6;box-shadow:0 1px 1px rgba(0,0,0,0.1);color:#333}button.jhp:focus{border:1px solid #4d90fe;outline:0}
	</style>
	 
    <body id="dBody" topmargin="0" leftmargin="0" oncontextmenu="return false" ondragstart="return false" onselectstart="return false">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
   <div id="preloader">
	    <div id="status" class="WindowFrame"></div>
    </div>
    <script>
		var $User=function(){var b=navigator.platform,i=navigator.userAgent,f=b=="Win32"||b=="Windows",g=b=="Mac68K"||b=="MacPPC"||b=="Macintosh",d=b=="X11"&&!f&&!g,h=f||g||d,a="",c=!!(window.attachEvent&&!window.opera),e=c&&!window.XMLHttpRequest,j=location.protocol.toLowerCase()=="http:"?1:0;$Random=j?"#":"?";innerText=c?function(l,k){l.innerText=k}:function(l,k){l.textContent=k};e?(document.execCommand("BackgroundImageCache",false,true),ShadowPNG=""):ShadowPNG="images/interface/plantshadow32.png";return{Browser:{IE:c,IE6:e,IE9:c&&i.indexOf("MSIE 9.0")>0,Opera:!!window.opera,WebKit:i.indexOf("AppleWebKit/")>-1,Gecko:i.indexOf("Gecko")>-1&&i.indexOf("KHTML")==-1},Server:{List:[[]],SpeedURL:"",DataURL:"",SpeedInx:0,DataInx:0,ErrNum:0},HTML5:function(){return!!document.createElement("canvas").getContext}(),System:{Win:f,Mac:g,Unix:d},Client:{PC:h,Mobile:!h},HTTP:j,AuthorWebsite:a,isAuthorWebsite:false,Visitor:{UserName:"",UserAuthority:0,Progress:1,SelectServerT:0,NowStep:1,TimeStep:10,SaveLvl:1,SaveLvlCallBack:null}}}(),oSym={Init:function(b,a){this.Now=0;this.Timer=this.execTask=null;this.TQ=[{T:0,f:b,ar:a||[]}];this.NowStep=1;this.TimeStep=10;this.Start()},Clear:function(){this.TQ.length=0},Start:function(){if(this.Timer==null){(function(){var a=oSym;try{a.Now+=a.NowStep}catch(b){alert("timeout");location.reload()}a.Timer=setTimeout(arguments.callee,a.TimeStep)})();(function(){var d=oSym,a=d.TQ,c=a.length,b,e;while(c--){d.Now>=(b=a[c]).T&&((e=b.f).apply(e,b.ar),d.removeTask(c))}d.execTask=setTimeout(arguments.callee,d.TimeStep)})()}},Stop:function(){clearTimeout(oSym.Timer);clearTimeout(oSym.execTask);oSym.Timer=null;oSym.execTask=null},addTask:function(b,c,a){var d=this.TQ;d[d.length]={T:this.Now+b,f:c,ar:a};return this},removeTask:function(a){this.TQ.splice(a,1);return this}},oS={W:880,H:600,C:9,LawnMowerX:70,Lvl:0,GlobalVariables:{},LvlVariables:{},SelfVariables:[],LvlClearFunc:null,Init:function(e,g,b,d){var c,a=window;e.LoadMusic?(PlayMusic(e.LoadMusic),NewAudio({source:"Look up at the Sky",loop:true})):PlayMusic(e.LoadMusic="Look up at the Sky");if(b!=d){for(c in b){a[c]!=d?(this.GlobalVariables[c]=a[c],a[c]=b[c]):this.LvlVariables[c]=a[c]=b[c]}}ArCard=[];ArPCard=[];ArSun=[];$Pn=[];$Z=[];$P=[];EDAll=$("dAll");EDPZ=$("dPZ");EDAlloffsetLeft=EDAll.offsetLeft/2.2 + 200;EDNewAll=EDAll.cloneNode(true);EDNewFlagMeter=$("dFlagMeter").cloneNode(true);ESSunNum=$("sSunNum");this.AudioArr=[];this.MustAllReady=true;this.LoadAccess=null;this.InitLawnMower=null;this.StartGame=null;this.ChoseCard=this.MPID="";this.PicNum=this.AccessNum=this.MCID=this.Chose=0;this.Monitor=null;this.UserDefinedFlagFunc=null;this.SunNum=d;this.BrainsNum=d;this.HaveFog=0;for(c in e){this.SelfVariables.push(c);this[c]=e[c]}$User.isAuthorWebsite&&oS.LevelEName!=0&&(ClearChild($("JSPVZAjax")),NewEle("JSPVZAjax","script",0,{src:$User.Server.DataURL+"asp/SaveUserPosition.asp?l="+escape(oS.LevelName),type:"text/javascript"},document.body));!this.PicArr&&(this.PicArr=[]);!this.PName&&(this.PName=[]);!this.ZName&&(this.ZName=[]);!this.backgroundImage&&(this.backgroundImage="images/interface/background1.jpg");!this.LF&&(this.LF=[0,1,1,1,1,1]);!this.ZF&&(this.ZF=this.LF);!this.LargeWaveFlag&&(this.LargeWaveFlag={});!this.StartGameMusic&&(this.StartGameMusic="UraniwaNi");this.ArCard=this.CardKind==d?e.PName:e.ZName;this.SunNum==d&&(this.SunNum=50);this.CanSelectCard==d&&(this.CanSelectCard=1);this.DKind==d&&(this.DKind=1);this.StaticCard==d&&(this.StaticCard=1);this.ShowScroll==d&&(this.ShowScroll=true);this.ProduceSun==d&&(this.ProduceSun=true);this.Coord==d&&(this.Coord=1);oCoord[this.Coord]();oP.Init(g);oT.Init(this.R);oZ.Init(this.R);oGd.Init();this.LoadTips();this.LoadProgress()},LoadTips:function(){var b=NewEle("dTips","div","position:absolute;color:#fff;top:450px;width:100%;text-align:center;font-size:16px","",EDAll),a=[""];b.innerHTML='<span style="font-weight:bold"></span><span>'+a[Math.floor(Math.random()*a.length)]+"</span>"},LoadProgress:function(r,l,a,t,b){SetVisible($("dFlagMeter"));SetHidden($("imgGQJC"));var p=oS,j=[],i=p.PicArr,k=p.PName,s=p.ZName,w=0,u=GetX(11),g=oGd.$LF,c=oGd.$ZF,d=oS.R+1,x=$("sFlagMeterTitleF"),y=$("dFlagMeterTitle"),e=p.LoadImage,h=p.CheckImg,f=p.InitPn,m,q;NewImg(0,"images/interface/brain.png","",$Pn.oBrains=NewEle(0,"div","position:absolute"));switch(p.Coord){case 2:NewImg(0,"images/interface/PoolCleaner.png","",$Pn.oPoolCleaner=NewEle(0,"div","position:absolute"));case 1:NewImg(0,"images/interface/LawnCleaner.png","",$Pn.oLawnCleaner=NewEle(0,"div","position:absolute"));break}while(r--){a=(l=k[r].prototype).PicArr.slice(0);Array.prototype.push.apply(i,a);if($User.HTML5){t=l.AudioArr;b=t.length;while(b--){NewAudio({source:t[b]})}}}for(r in oS.LargeWaveFlag){s[s.length]=oS.FlagZombie||oFlagZombie;break}r=s.length;while(r--){Array.prototype.push.apply(i,(l=(q=s[r]).prototype).PicArr.slice(0));if($User.HTML5){t=l.AudioArr;b=t.length;while(b--){NewAudio({source:t[b]})}}l.Init.call(q,u,l,c,d)}p.PicNum=w+=i.length;r=i.length;y.setAttribute("title","");y.style.cursor="pointer";y.onclick=function(){oS.MustAllReady=false;oS.LoadReady(oS)};while(r--){e(i[r],h)}r=j.length;oS.LoadAudio()},LoadAudio:$User.HTML5?function(){var b=oS.AudioArr,a=b.length;while(a--){NewAudio({source:b[a]})}}:function(){},InitPn:function(a){var b=$Pn[a[0]]=NewEle(0,"div","position:absolute");NewImg(0,ShadowPNG,a[2],b);NewImg(0,a[1],"",b);oS.CheckImg()},LoadImage:$User.Browser.IE?function(b,d,c){var a=new Image;a.onreadystatechange=function(){a.readyState=="complete"&&d(c,1)};a.onerror=function(){a.onreadystatechange=null;a.title=b;d(c,0)};a.src=b}:function(b,d,c){var a=new Image;a.src=b;a.complete?d(c,1):(a.onload=function(){a.complete&&d(c,1)},a.onerror=function(){a.title=b;d(c,0)})},LoadScript:$User.Browser.IE?function(f,c,e,a,d){var b=NewEle(f,"script",0,{type:"text/javascript"});b.onreadystatechange=function(){(b.readyState=="loaded"||b.readyState=="complete")&&(b.onreadystatechange=null,e(d,1))};b.onerror=function(){b.onreadystatechange=null;e(d,0)};b.src=c;a.appendChild(b)}:function(f,c,e,a,d){var b=NewEle(f,"script",0,{type:"text/javascript"});b.onload=function(){e(d,1)};b.onerror=function(){e(d,0)};b.src=c;a.appendChild(b)},CheckImg:function(b,a){var c=oS;if(c.AccessNum>c.PicNum||!c.MustAllReady){return}b=139-c.AccessNum++*140/c.PicNum-11;$("imgFlagHead").style.left=b+"px";$("sFlagMeterTitleF").innerHTML='<span style="cursor:pointer;font-family:Arial, sans-serif;color:#fff">loading...('+c.AccessNum+"/"+c.PicNum+")</span>";$("imgFlagMeterFull").style.clip="rect(0,auto,21px,"+(b+11)+"px)";if(c.AccessNum==c.PicNum){oS.Lvl==0;if(c.MustAllReady){c.LoadReady(c)}}},LoadReady:function(f){var c=$("dFlagMeterTitle");if(c.onclick==null){return}ClearChild($("dTips"));oSym.NowStep=$User.Visitor.NowStep;oSym.TimeStep=$User.Visitor.TimeStep;c.onclick=null;c.title=null;c.style.cursor="default";SetHidden($("dFlagMeterContent"),dFlagMeter);$("dFlagMeter").style.top="545px";$("sFlagMeterTitleF").innerHTML=$("dFlagMeterTitleB").innerHTML=f.LevelName;$("imgFlagHead").style.left="139px";$("imgFlagMeterFull").style.clip="rect(0,auto,auto,157px)";delete f.PicArr;delete f.Coord;delete f.LF;delete f.ZF;var a={background:"url("+f.backgroundImage+") no-repeat",visibility:"visible"};!f.ShowScroll&&(a.left="-115px");SetStyle($("tGround"),a);$("tGround").innerHTML=oS.GifHTML;var d=function(h){var i=oS,g=$User.Visitor;NewImg("imgGrowSoil","images/interface/GrowSoil.gif","visibility:hidden;z-index:50",EDAll);NewImg("imgGrowSpray","images/interface/GrowSpray.gif","visibility:hidden;z-index:50",EDAll);NewEle("dTitle","div",0,0,$("dBody"));innerText(ESSunNum,i.SunNum);InitPCard();i.ShowScroll?oSym.addTask(h==undefined?200:h,function(j){ClearChild(j);i.ScrollScreen()},[NewEle("DivParty","div","line-height:50px;color:#FFFFFF;font-size:50px;font-family:方正少儿简体",{},EDAll)]):(SetVisible($("dMenu")),AutoSelectCard(),LetsGO())};f.LoadAccess?f.LoadAccess(d):d()},ScrollScreen:function(){(EDAll.scrollLeft+=25)<500?oSym.addTask(2,arguments.callee,[]):(DisplayZombie(),SetVisible($("dMenu")),oS.CanSelectCard?SetVisible($("dTop"),$("dSelectCard"),$("dCardList")):(AutoSelectCard(),oSym.addTask(200,oS.ScrollBack,[LetsGO])))},ScrollBack:function(a){SetHidden($("dZombie"),$("dSelectCard"),$("dTitle"),$("dCardList"));$("tGround").style.left="-115px";$("dZombie").innerHTML="";(function(c){var b=EDAll.scrollLeft;(b-=25)>0?(EDAll.scrollLeft=b,oSym.addTask(2,arguments.callee,[c])):(EDAll.scrollLeft=0,c())})(a)}},oCoord={1:function(){oS.R=5;ChosePlantX=function(a){return Compare(GetC(a),1,oS.C,GetX)};ChosePlantY=function(a){return $SSml(a,[86,181,281,386,476],[[75,0],[175,1],[270,2],[380,3],[470,4],[575,5]])};GetC=function(a){return $SSml(a,[-50,100,140,220,295,379,460,540,625,695,775,855,935],[-2,-1,0,1,2,3,4,5,6,7,8,9,10,11])};GetR=function(a){return $SSml(a,[86,181,281,386,476],[0,1,2,3,4,5])};GetX=function(a){return $SEql(a,{"-2":-50,"-1":100,0:140,1:187,2:267,3:347,4:427,5:507,6:587,7:667,8:747,9:827,10:865,11:950})};GetY=function(a){return $SEql(a,{0:75,1:175,2:270,3:380,4:470,5:575})};GetY1Y2=function(a){return $SEql(a,{0:[0,85],1:[86,180],2:[181,280],3:[281,385],4:[386,475],5:[476,600]})};GetX1X2=function(a){return $SEql(a,{"-2":[-100,-49],"-1":[-50,99],0:[100,139],1:[140,219],2:[220,294],3:[295,378],4:[379,459],5:[460,539],6:[540,624],7:[625,694],8:[695,774],9:[775,854],10:[855,934],11:[950,1030]})};!oS.InitLawnMower&&(oS.InitLawnMower=function(){var a=6;while(--a){CustomSpecial(oLawnCleaner,a,-1)}});oS.GifHTML=""},2:function(){oS.R=6;ChosePlantX=function(a){return Compare(GetC(a),1,oS.C,GetX)};ChosePlantY=function(a){return $SSml(a,[86,171,264,368,440,532],[[75,0],[161,1],[254,2],[358,3],[430,4],[524,5],[593,6]])};GetC=function(a){return $SSml(a,[-50,100,140,220,295,379,460,540,625,695,775,855,935],[-2,-1,0,1,2,3,4,5,6,7,8,9,10,11])};GetR=function(a){return $SSml(a,[86,171,264,368,440,532],[0,1,2,3,4,5,6])};GetX=function(a){return $SEql(a,{"-2":-50,"-1":100,0:140,1:187,2:267,3:347,4:427,5:507,6:587,7:667,8:747,9:827,10:865,11:950})};GetY=function(a){return $SEql(a,{0:75,1:165,2:253,3:355,4:430,5:522,6:587})};GetY1Y2=function(a){return $SEql(a,{0:[0,85],1:[86,170],2:[171,263],3:[264,367],4:[368,439],5:[440,531],6:[532,600]})};GetX1X2=function(a){return $SEql(a,{"-2":[-100,-49],"-1":[-50,99],0:[100,139],1:[140,219],2:[220,294],3:[295,378],4:[379,459],5:[460,539],6:[540,624],7:[625,694],8:[695,774],9:[775,854],10:[855,934],11:[950,1030]})};!oS.InitLawnMower&&(oS.InitLawnMower=function(){CustomSpecial(oLawnCleaner,1,-1);CustomSpecial(oLawnCleaner,2,-1);CustomSpecial(oPoolCleaner,3,-1);CustomSpecial(oPoolCleaner,4,-1);CustomSpecial(oLawnCleaner,5,-1);CustomSpecial(oLawnCleaner,6,-1)});oS.GifHTML='<img style="position:absolute;left:253px;top:278px" src="">';!oS.DKind&&oGd.MakeFog()}},oP={Init:function(a){var r=this;r.NumZombies=r.FlagZombies=0;if(a){var l;for(l in a){r[l]=a[l]}if(a.AZ){var k,b={},g,c,q,p,d,m=[],h,e,n;r.ArZ=[];h=(k=r.AZ).sort(function(i,f){return i[2]-f[2]}).length;while(h--){c=(n=k[h])[0];q=n[1];p=n[2];while(q--){m.push([c,p])}if(d=n[3]){e=d.length;while(e--){b[g=d[e]]?b[g].push(c):b[g]=[c]}}}r.AZ=m;r.MustShowAtFlag=b}}a&&a.FlagNum?(r.FlagHeadStep=Math.floor(140/(a.FlagNum-1)),r.MonPrgs=function(){var u=oP,j,i=u.FlagZombies,s,t,f=$User.Visitor;!--u.NumZombies&&(i<u.FlagNum?(u.ReadyFlag=++i,oSym.addTask(500,u.FlagPrgs,[])):(u.FlagToEnd(),$User.isAuthorWebsite&&$User.Visitor.UserName!=""&&(ClearChild($("JSPVZAjax")),f.SaveLvl&&NewEle("JSPVZAjax","script",0,{},document.body)),f.SaveLvlCallBack&&f.SaveLvlCallBack({UserName:f.UserName,SunNum:oS.SunNum,Lvl:s,T:oSym.Now-oS.StartTime}),!isNaN(Math.floor(s))&&(t=$("dAdventure"),$User.Visitor.Progress=++s,t.firstChild.innerHTML=Math.ceil(s/10),t.childNodes[1].innerHTML=(s=s-Math.floor(s/10)*10)?s:s+1),NewEle("DivA","div","position:absolute;width:450px;height:420px;background:#FFF;filter:alpha(opacity=0);opacity:0;z-index:255",0,EDAll),PauseGame($("dMenu0"),1)))}):r.MonPrgs=function(){};(!a||!a.FlagToEnd)&&(r.FlagToEnd=function(){NewImg("imgSF","images/interface/trophy.png","left:417px;top:233px;z-index:255",EDAll,{onclick:function(){PlayAudio("winmusic");SelectModal(0);HiddenOptions();SetBlock($("dSurface"),$("iSurfaceBackground"));ShowNameDiv()}})})},AddZombiesFlag:function(d){var g=oP,c=oS.LargeWaveFlag,e,b=g.FlagHeadStep,a=g.FlagNum;SetVisible($("imgGQJC"),$("dFlagMeterContent"));for(e in c){Math.floor(e)<a?SetStyle(c[e],{visibility:"visible",left:150-(e-1)*b+"px"}):SetVisible(c[e])}PlayAudio("awooga");$User.HTML5&&function(){oSym.addTask(2e3,function(){[function(){PlayAudio(["groan1","groan2"][Math.floor(Math.random()*2)])},function(){PlayAudio(["groan3","groan4"][Math.floor(Math.random()*2)])},function(){PlayAudio(["groan5","groan6"][Math.floor(Math.random()*2)])},function(){PlayAudio("groan1");oSym.addTask(150,function(){PlayAudio("groan5")},[])},function(){PlayAudio("groan2");oSym.addTask(150,function(){PlayAudio("groan6")},[])}][Math.floor(Math.random()*3)]();oSym.addTask(2e3,arguments.callee,[])},[])}();g.ReadyFlag=1;g.FlagPrgs(d)},SelectFlagZombie:function(j,d){var e=oP,m=e.ArZ,k=e.AZ,s=k.length,q,r,i=[],g=0,n=oS.LargeWaveFlag[d],c=false,h=!n?150:(PlayAudio("siren"),n.style.top="5px",--j,i[g++]=oS.FlagZombie||oFlagZombie,30),p,b,f=e.MustShowAtFlag,a;while(s--){if((r=(q=k[s])[1])>d){break}else{m.push(q[0]);--k.length;c=true}}c&&m.sort(function(t,l){return t.prototype.Lvl-l.prototype.Lvl});if(a=f[d]){s=a.length;while(s--){j-=(i[g++]=a[s]).prototype.Lvl}}b=m[s=(p=m.length)-1].prototype.Lvl;while(j>0){if(s&&b>j){while(--s&&m[s].prototype.Lvl>j){}p=s+1;b=m[s].prototype.Lvl}j-=(i[g++]=m[Math.floor(Math.random()*p)]).prototype.Lvl}e.NumZombies+=g;e.SetTimeoutZombie(i,h)},SelectFlagZombie1:function(d){var h=oP,c=[],a=0,g=h.ArZ,f=oS.LargeWaveFlag[h.FlagZombies],e=h.SumToZombie,b=!f?150:(f.style.top="5px",--d,c[a++]=oS.FlagZombie||oFlagZombie,30);while(d>0){d-=(c[a++]=g[Math.floor(Math.random()*$SEql(d,e))]).prototype.Lvl}h.NumZombies+=a;h.SetTimeoutZombie(c,b)},SetTimeoutTomZombie:function(c){var f=[],d=[],e=0,a=c.length,b,g;for(b in oGd.$Tombstones){g=b.split("_");d[e]=(f[e]=new(c[Math.floor(Math.random()*a)])).CustomBirth(g[0],g[1],100);++e}this.AppearUP(d,f,e)},SetTimeoutWaterZombie:function(j,b,e,h){var f=oGd.$LF,l=[],c=f.length,m=[],k=[],g=h.length,a,d=b-j+1;while(--c){f[c]==2&&l.push(c)}a=l.length;c=e;while(c--){k[c]=(m[c]=new(h[Math.floor(Math.random()*g)])).CustomBirth(l[Math.floor(Math.random()*a)],Math.floor(j+Math.random()*d))}this.AppearUP(k,m,e)},AppearUP:function(a,c,b){oP.NumZombies+=b;asyncInnerHTML(a.join(""),function(h,f){EDPZ.appendChild(h);var e=f.length,g,d;while(e--){g=f[e];g.Birth.call(g);SetBlock(g.Ele);oSym.addTask(10,function(l,k,i,j){k=Math.max(k-j,0);SetStyle(l,{top:k+"px",clip:"rect(0,auto,"+(i+=j)+"px,0)"});k&&oSym.addTask(10,arguments.callee,[l,k,i,j])},[g.EleBody,d=g.height,0,d*.1])}},c)},SetZombie:function(j,b,e,h){var f=[],l=[],c=f.length,m=[],k=[],g=h.length,a,d=b-j+1;while(--c){f[c]==2&&l.push(c)}a=l.length;c=e;while(c--){k[c]=(m[c]=new(h[Math.floor(Math.random()*g)])).CustomBirth(l[Math.floor(Math.random()*a)],Math.floor(j+Math.random()*d))}this.AppearUP1(k,m,e)},AppearUP1:function(a,c,b){oP.NumZombies+=b;asyncInnerHTML(a.join(""),function(h,f){EDPZ.appendChild(h);var e=f.length,g,d;while(e--){g=f[e];g.Birth.call(g);SetBlock(g.Ele);oSym.addTask(10,function(l,k,i,j){k=Math.max(k-j,0);SetStyle(l,{top:k+"px",clip:"rect(0,auto,"+(i+=j)+"px,0)"});k&&oSym.addTask(10,arguments.callee,[l,k,i,j])},[g.EleBody,d=g.height,0,d*.1])}},c)},SetTimeoutZombie:function(b,d){var f=[],c=[],e=0,g=0,a=b.length;while(e<a){c[e]=(f[e]=new b[e]).prepareBirth(g);g+=d;++e}asyncInnerHTML(c.join(""),function(k,j){EDPZ.appendChild(k);var h=j.length;while(h--){j[h].Birth()}},f)},FlagPrgs:function(){var f=oP,c=f.FlagZombies,e=f.FlagToSumNum,a=139-c*f.FlagHeadStep,d=$SSml(c,e.a1,e.a2),b;f.FlagNum>(c=++f.FlagZombies)?($("imgFlagHead").style.left=a+"px",$("imgFlagMeterFull").style.clip="rect(0,157px,21px,"+(a+11)+"px)",(b=$SEql(c,f.FlagToMonitor))&&oSym.addTask(1690,function(g){!g[1]&&(g[0](),g[1]=1)},[b]),oSym.addTask(1990,function(g){var h=oP;h.ReadyFlag==g++&&(h.ReadyFlag=g,h.FlagPrgs())},[c])):($("imgFlagHead").style.left="-1px",$("imgFlagMeterFull").style.clip="rect(0,157px,21px,0)");f.SelectFlagZombie.call(f,d,c);f.UserDefinedFlagFunc&&f.UserDefinedFlagFunc()},Monitor:function(a,b){a&&a.f.apply(a.f,a.ar);oP.UserDefinedFlagFunc=b?b:null;(function(){oZ.traversalOf();oSym.addTask(10,arguments.callee,[])})()}},oGd={Init:function(){this.$=[];this.$Crater=[];this.$Tombstones={};this.$Torch=[];this.$Plantern=[];this.$LF=oS.LF;this.$ZF=oS.ZF;this.$Ice=[];this.$JackinTheBox=0;this.$Balloon=new Array(oS.R+1);this.$Fog=[]},add:function(c,a,b,d){(b=(d=this.$)[a])&&b.Die();d[a]=c},del:function(a){delete this.$[a.R+"_"+a.C+"_"+a.PKind]},MakeFog:function(){var d="",g=tx=ri=cj=0,c=oGd.$Fog,b,a=2*oS.HaveFog+3,e=function(){return function(f){var h=$User.Browser.IE&&!$User.Browser.IE9;d+='<img id="'+f+'" src="images/interface/fog'+Math.floor(Math.random()*4)+"."+(h?"gif":"png")+'" style="left:'+g+"px;top:"+tx+'px">'}}();for(ri=1,tx=0;ri<7;g=0,ri++){for(ci=0;ci<=a;ci++){e(c[b=ri+"_"+ci]="Fog"+b);g+=35}tx+=90}NewEle("dFog","div","",{innerHTML:d},EDAll)},MoveFogLeft:function(a){(function(c,d,b,e){d-=50;d>b?(c.style.left=d+"px",oSym.addTask(5,arguments.callee,[c,d,b,e])):(c.style.left=b+"px",e&&e())})($("dFog"),900,GetX(oS.C-oS.HaveFog)-30,a)},MoveFogRight:function(){if(arguments.callee.caller.caller==null){return}(function(a,b){(b+=50)<901?(a.style.left=b+"px",oSym.addTask(5,arguments.callee,[a,b])):a.style.left="450px"})($("dFog"),GetX(oS.C-oS.HaveFog)-3)},GatherFog:function(d,r,x,t,z){var c=d-x,b=d+x,q=r-t,p=r+t,e=[SetNone,SetBlock][z],w=oS.C,m=oS.R,h=w+1,g=oS.HaveFog,a=g*2,k=[],l,j,u,n=function(i){return(i-w)*2+a},s=function(i){return(i-w)*2+a-2};if(c>0){l=s(q>0?q+1:1);j=n(p>h?h:p-1);do{l>-1&&k.push("Fog"+c+"_"+l)}while(l++<j)}if(b<=m){l=s(q>0?q+1:1);j=n(p>h?h:p-1);do{l>-1&&k.push("Fog"+b+"_"+l)}while(l++<j)}++c;--b;l=s(q<1?1:q);j=n(p>h?h:p);u=l;do{do{l>-1&&k.push("Fog"+c+"_"+l)}while(l++<=j);l=u}while(c++<b);for(l=0;l<k.length;e($(k[l])),l++){}if(z){var y=oGd.$Torch,f;for(u in y){f=$P[y[u]];this.GatherFog(f.R,f.C,1,1,0)}}}},oZ={Init:function(b){this.$=[];this.$R=[];var a;for(a=b;a;this.$[a]=[],this.$R[a--]=[]){}},add:function(b,a){(a=oZ.$[b.R]).push(b);a.sort(function(d,c){return d.AttackedLX-c.AttackedLX});a.RefreshTime=oSym.Now},getZ0:function(b,d){if(d<1||d>oS.R){return}var c=0,e=this.$[d],f,a=e.length;while(c<a&&(f=e[c++]).AttackedLX<=b){if(f.PZ&&f.HP&&f.AttackedRX>=b){return f}}},getZ1:function(h,b){if(b<1||b>oS.R){return}var d=0,j=this.$[b],f=this.$R[b],g,c,k,e;(k=j.RefreshTime)==f.RefreshTime?g=f:(g=(this.$R[b]=j.slice(0)).sort(function(l,i){return i.AttackedRX-l.AttackedRX})).RefreshTime=k;e=g.length;while(d<e&&(c=g[d++]).AttackedRX>=h){if(c.PZ&&c.HP&&c.AttackedLX<=h){return c}}},getArZ:function(e,d,b){var g=0,l=this.$[b],f=[],k=0,c,h=l.length,j;while(g<h&&(j=(c=l[g++]).AttackedLX)<d){c.PZ&&c.HP&&(j>e||c.AttackedRX>e)&&(f[k++]=c)}return f},getRangeLeftZ:function(e,d,b){if(b<1||b>oS.R){return}var g=0,l=this.$[b],f=[],k=0,c,h=l.length,j;while(g<h&&(j=(c=l[g++]).AttackedLX)<d){if(c.PZ&&c.HP&&(j>e||c.AttackedRX>e)){return c}}return},moveTo:function(g,f,c){var b=this.$[f],a=this.$[c],e=b.length,d;while(e--){(o=b[e]).id==g&&(b.splice(e,1),o.R=c,a.push(o),a.sort(function(i,h){return i.AttackedLX-h.AttackedLX}).RefreshTime=b.RefreshTime=oSym.Now,e=0)}},traversalOf:function(){var a,b=this.$,j,l=0,d=0,k=1e3,i,h,f=[function(n){d=1;k=i},function(n){(i=n.AttackedLX)>k&&(l=d=1);k=i}],e=b.length,m,c,g;(function(r){var q=(j=b[r]).length,n=arguments.callee,p=oT.$[r],s=oT.$L[r];while(q--){a=j[q];a.HP&&a.PZ&&a.ZX<901&&oT["chkD"+a.WalkDirection](a,r,p,s);!a.HP?(j.splice(q,1),f[0](a)):f[a.ChkActs(a,r,j,q)](a)}l?(l=d=0,j.sort(function(u,t){return u.AttackedLX-t.AttackedLX}),j.RefreshTime=oSym.Now):d&&(d=0,j.RefreshTime=oSym.Now);--r&&oSym.addTask(0,n,[r])})(b.length-1)}},oT={Init:function(b){this.$=[];this.$L=[];for(var a=b;a;){this.$[a]=[];this.$L[a--]=[]}},add:function(f,c,g){if(f<=0||f>oS.R){return}var e=this.$[f],d=c.length,b;while(d--){b=c[d];e.push([b[0],b[1],b[2],g])}e.sort(function(i,h){return h[1]-i[1]});e.RefreshTime=new Date},chkD0:function(g,e,d,h){var f=g.AttackedLX,c=0,b,a;while(c<d.length&&(b=d[c])[1]>=f){(a=$P[b[3]]).canTrigger&&b[0]<=f&&a.TriggerCheck(g,b[2],c);++c}},chkD1:function(b,e,c,g){var j=b.AttackedLX,h=b.AttackedRX,f=0,m,l,d,a,k;(l=c.RefreshTime)==g.RefreshTime?m=g:(m=(this.$L[e]=c.slice(0)).sort(function(n,i){return n[0]-i[0]})).RefreshTime=l;while(f<m.length&&(d=m[f])[0]<=h){(a=$P[d[3]]).canTrigger&&d[1]>=h&&a.TriggerCheck(b,d[2],f);++f}},delP:function(e){var b=e.oTrigger,f=e.id,d,a,c;for(d in b){for(c=(a=this.$[d]).length;c--;a[c][3]==f&&a.splice(c,1)){}a.RefreshTime=new Date}},indexOf:function(j,d){var f=new RegExp(d+",","g"),h=(j.toString()+",").replace(f,"┢,").replace(/[^,┢]/g,""),i=0,g=0,b=[];for(;(g=h.indexOf("┢",g))>0;b.push((g++-i++-2)/3)){}return b}},asyncInnerHTML=function(d,c,a){var b=$n("div"),e=document.createDocumentFragment();b.innerHTML=d;(function(g){var f=arguments.callee;g--?(e.appendChild(b.firstChild),setTimeout(function(){f(g)},0)):c(e,a)})(b.childNodes.length)},WhichMouseButton=function(a){a=window.event||a;var b=$User.Browser;return!b.Gecko?$SEql(a.button,{1:1,0:b.IE?2:1,2:2,default:1}):$SEql(a.which,{1:1,3:2,default:1})},GroundOnmousedown=function(i){i=window.event||i;var a=i. clientX*1.2||EElement.scrollLeft,k=i.clientY*.8+EBody.scrollTop-0||EElement.scrollTop,g=ChosePlantX(a),h=ChosePlantY(k),d=g[0],c=h[0],f=h[1],b=g[1],j=GetAP(a,k,f,b);switch(oS.Chose){case 1:WhichMouseButton(i)<2?GrowPlant(j[0],d,c,f,b):(PlayAudio("tap"),CancelPlant());break;case-1:WhichMouseButton(i)<2?(PlayAudio("plant2"),ShovelPlant(j)):(PlayAudio("tap"),CancelShovel())}},GetAP=function(a,h,d,c){var f,i=oGd.$,e,g=[],b;for(f=0;f<4;g.push(e=i[d+"_"+c+"_"+f++]),e&&!(a<e.pixelLeft||a>e.pixelRight||h<e.pixelTop||h>e.pixelBottom)&&(b=e)){}return[g,b]},GroundOnkeydown=function(b){var a;if((a=(b||event).keyCode)==27){switch(oS.Chose){case 1:CancelPlant();break;case-1:CancelShovel()}return false}else{!oS.Chose&&KeyBoardGrowPlant(a)}},KeyBoardGrowPlant=function(b,a){a=a||0;if(b>47&&b<58){switch(a){case 0:ChosePlant({clientX:450,clientY:300},String.fromCharCode(b))}}},GroundOnmousemove=function(){},GroundOnmousemove1=function(j){j=window.event||j;var d=j. clientX*1.2||EElement.scrollLeft,b=j.clientY*.8+EBody.scrollTop-0||EElement.scrollTop,k=oS.ChoseCard,h=ChosePlantX(d),i=ChosePlantY(b),f=h[0],c=i[0],g=i[1],a=h[1],m=GetAP(d,b,g,a);var l=ArCard[k].PName.prototype;SetStyle($("MovePlant"),{left:d-.5*(l.beAttackedPointL+l.beAttackedPointR)+"px",top:b+20-l.height+"px"});l.CanGrow(m[0],g,a)?SetStyle($("MovePlantAlpha"),{visibility:"visible",left:f+l.GetDX()+"px",top:c-l.height+l.GetDY(g,a,m[0])+"px"}):SetHidden($("MovePlantAlpha"))},GroundOnmousemove2=function(k){k=window.event||k;var d=k. clientX*1.2||EElement.scrollLeft,b=k.clientY*.8+EBody.scrollTop-0||EElement.scrollTop,m=oS.ChoseCard,h=ChosePlantX(d),i=ChosePlantY(b),f=h[0],c=i[0],g=i[1],a=h[1],n=GetAP(d,b,g,a);var j=n[1],l=j?j.id:"",p=oS.MPID;p!=l&&(p&&SetAlpha($(p).childNodes[1],100,1),(oS.MPID=l)&&SetAlpha($(l).childNodes[1],60,.6));SetStyle($("tShovel"),{left:d-15+"px",top:b-16+"px"})},DisplayZombie=function(){SetVisible($("bShowHandBook"));var d=oP.AZ.slice(0),b=d.length,c,g,h=$("dZombie"),f=[],e=[],a;while(b--){d[b][0].prototype.CanDiaplay==0&&d.splice(b,1)}c=b=d.length;while(c--){f.push(Math.floor(150+Math.random()*444))}f.sort(function(j,i){return j-i});while(b){g=d[a=Math.floor(Math.random()*b)][0].prototype;g.CanDisplay?(d.splice(a,1),e[b--]=g.getHTML("",Math.floor(50+Math.random()*201)-g.width*.5,f[b]-g.height,1,"block","auto",g.GetDTop,g.PicArr[g.StandGif])):--b}asyncInnerHTML(e.join(""),function(i){h.appendChild(i)})},AutoSelectCard=function(){var c=oS.ArCard,b=-1,a=c.length;while(++b<a){SelectCard(c[b].prototype.EName)}},InitPCard=function(){var d="",f,e=oS.ArCard,a=e.length,b=0,c;while(b<a){f=e[b];c=f.prototype;if(!c.CanSelect){++b;continue}ArPCard[EName=c.EName]={Select:0,PName:f};d+='<div class="span1" id="Card'+EName+'" onmouseout="SetHidden($(\'dTitle\'))" onmousemove="ViewCardTitle('+EName+',event)" onclick="SelectCard(\''+EName+'\')"><img src="'+c.PicArr[0]+'"><span class="span2">'+c.SunNum+"</span></div>";b++%6==5&&(d+="<br>")}$("dPCard").innerHTML=d},InitHandBookPCard=function(){PlayAudio("gravebutton");var d="",g,f,e=[oPeashooter,oSunFlower,oCherryBomb,oWallNut,oPotatoMine,oSnowPea,oChomper,oRepeater,oPuffShroom,oSunShroom,oFumeShroom,oGraveBuster,oHypnoShroom,oScaredyShroom,oIceShroom,oDoomShroom,oLilyPad,oSquash,oThreepeater,oTangleKlep,oJalapeno,oSpikeweed,oTorchwood,oTallNut,oCactus,oPlantern,oSplitPea,oStarfruit,oPumpkinHead,oFlowerPot,oCoffeeBean,oGarlic,oSeaShroom,oOxygen,ostar,oTTS,oGun,oSeaAnemone,oGatlingPea,oGloomShroom,oTwinSunflower,oSpikerock,oTenManNut,oSnowRepeater,oLing,oLotusRoot,oMagneticmuShroom,oLaserBean,oBigChomper,oFlamesMushroom],a=e.length,b=0,c;while(b<a){g=e[b];c=g.prototype;f=c.EName;d+='<div class="span1" onclick="ViewProducePlant('+f+')"><img src="'+c.PicArr[0]+'"><div class="span2">'+c.SunNum+"</div></div>";b++%6==5&&(d+="<br>")}$("dHandBookPCard").innerHTML=d;ViewProducePlant(e[0]);$("dHandBookPZ").className="WindowFrame Almanac_PlantBack";SetVisible($("dHandBookPZ"));SetNone($("dHandBookZ"));SetBlock($("dHandBookP"))},InitHandBookZCard=function(){PlayAudio("gravebutton");var d="",g,f,e=[oZombie,oConeheadZombie,oPoleVaultingZombie,oBucketheadZombie,oFlagZombie,oNewspaperZombie,oScreenDoorZombie,oFootballZombie,oHeiFootballZombie,oDancingZombie,oBackupDancer,oDuckyTubeZombie1,oSnorkelZombie,oZomboni,oDolphinRiderZombie,oBalloonZombie,oJackinTheBoxZombie,oImp,oCZombie,oCConeheadZombie,oCBucketheadZombie,oEunZombie,othugZombie,oZZ,oEmperor,oCXZombie,oXBZombie,oJX,oJY,oLGBOSS,oWarshipsZombie,oSubZombie,oWJY,oMustacheZombie,oTrashZombie,oLionDanceZombie],a=e.length,b=0,c;while(b<a){g=e[b];c=g.prototype;f=c.EName;d+='<div class="span1" onclick="ViewProduceZombie('+f+')"><img src="'+c.PicArr[0]+'"><div class="span2">'+c.SunNum+"</div></div>";b++}$("dHandBookZCard").innerHTML=d;ViewProduceZombie(e[0]);$("dHandBookPZ").className="WindowFrame Almanac_ZombieBack";SetVisible($("dHandBookPZ"));SetNone($("dHandBookP"));SetBlock($("dHandBookZ"))},ViewProducePlant=function(b){PlayAudio("plant1");var a=b.prototype;$("pHandBookPlant").style.backgroundImage="url("+a.PicArr[a.StaticGif]+")";$("dProducePlant").innerHTML=a.Produce;innerText($("dHandBookPlantName"),a.CName);innerText($("spSunNum"),a.SunNum);innerText($("spCoolTime"),a.coolTime+"sec.");$("pPlantBack").style.backgroundPosition=-200*a.BookHandBack+"px 0"},ViewProduceZombie=function(b){PlayAudio("plant1");var a=b.prototype;$("pHandBookZombie").style.background="url("+a.PicArr[a.StaticGif]+") no-repeat scroll "+a.BookHandPosition;$("dProduceZombie").innerHTML=a.Produce;innerText($("dHandBookZombieName"),a.CName);$("pZombieBack").style.backgroundPosition=-200*a.BookHandBack+"px 0"},ViewCardTitle=function(b,c){c=c||window.event;var f=$("dTitle"),a=b.prototype;f.innerHTML=a.CName+"<br>Cooldown:"+a.coolTime+"sec.<br>"+(oS.DKind&&a.night?'<span style="color:#F00">Nocturnal</span><br>'+a.Tooltip:a.Tooltip||'<span style="text-align:left">'+a.Produce+"</span>");SetStyle(f,{left:c.clientX*.9+(EBody.scrollLeft||EElement.scrollLeft)-3+"px",top:c.clientY+18+EBody.scrollTop||EElement.scrollTop+"px",visibility:"visible"})},SelectCard=function(c){PlayAudio("tap");var h=$("Card"+c).childNodes,f=h[0],b=ArPCard[c],i=b.PName.prototype,g,a,j,e=$("btnOK");if(!b.Select){if(!(ArPCard.SelNum|=0)){e.disabled="";e.style.color="#FC6"}else{if(ArPCard.SelNum>9){return}}++ArPCard.SelNum;b.Select=1;oS.StaticCard&&(g=NewEle("dCard"+c,"div","",{onclick:function(){SelectCard(c)}},$("dCardList")),NewImg(0,f.src,"width:100px;height:120px",g),innerText(NewEle("sSunNum"+c,"span",0,0,g),i.SunNum),f.style.top="-42px")}else{b.Select=0;!--ArPCard.SelNum&&(e.disabled="disabled",e.style.color="#888");(g=$("dCard"+c)).onclick=null;ClearChild(g.firstChild,g.childNodes[1],g.lastChild,g);f.style.top=0}},ResetSelectCard=function(){var b,a=$("btnOK");for(b in ArPCard){ArPCard[b].Select&&SelectCard(b)}a.disabled="disalbed";a.style.color="#888"},LetsGO=function(){var e=$("dCardList"),g=0,k=e.childNodes.length,f,h,l,c,j,a,b=document.body;SetStyle($("dTop"),{left:"105px",top:0});e.style.left=0;SetVisible(e);while(g<k){(function(d){f=(j=e.childNodes[d]).id.substr(5);l=(h=ArPCard[f].PName).prototype;j.onclick=function(i){ChosePlant(i,d)};j.onmouseover=function(){SetVisible($("dTitle"));ViewPlantTitle(oS.MCID=d)};j.onmouseout=function(){SetHidden($("dTitle"))};j.firstChild.style.top="-60px";(a=j.lastChild).id="sSunNum"+d;innerText(a,l.SunNum);ArCard.push({DID:j.id,CDReady:0,SunReady:0,PName:h})})(g++)}b.onkeydown=function(d){GroundOnkeydown(d)};b.onmousedown=function(d){GroundOnmousedown(d)};b.onmousemove=function(d){GroundOnmousemove(d)};SetVisible(e);!oS.BrainsNum&&CustomSpecial(oBrains,oS.R-1,-2);(oS.StartGame||function(){StopMusic();PlayMusic(oS.LoadMusic=oS.StartGameMusic);NewMusic(oS.LoadMusic=oS.StartGameMusic);SetVisible($("tdShovel"),$("dFlagMeter"),$("dTop"));oS.InitLawnMower();PrepareGrowPlants(function(){oP.Monitor(oS.Monitor,oS.UserDefinedFlagFunc);BeginCool();oS.DKind&&AutoProduceSun(50);oSym.addTask(1500,function(){oP.AddZombiesFlag();SetVisible($("dFlagMeterContent"))},[])})})();oS.StartTime=oSym.Now},ViewPlantTitle=function(b){var f=$("dTitle"),e=ArCard[b],c=e.PName.prototype,a=c.CName;!oS.CardKind&&(a+="<br>Cooldown:"+c.coolTime+"secs.<br>"+c.Tooltip,!e.CDReady&&(a+='<br><span style="color:#F00">reloading...</span>'));!e.SunReady&&(a+='<br><span style="color:#F00">no sunlight!</span>');f.innerHTML=a;SetStyle(f,{top:60*b+"px",left:EDAlloffsetLeft+100+"px"})},BeginCool=function(){var b=ArCard.length,c,d,a,e;while(b--){a=(c=(d=ArCard[b]).PName.prototype).coolTime;e=c.SunNum;switch(a){case 0:case 7.5:d.CDReady=1;e<=oS.SunNum&&(d.SunReady=1,$(d.DID).childNodes[0].style.top="0");break;case 30:DoCoolTimer(b,20);break;default:DoCoolTimer(b,35)}}},ImmediatelyCool=function(){var b=ArCard.length,c,d,a,e;while(b--){a=(c=(d=ArCard[b]).PName.prototype).coolTime;e=c.SunNum;d.CDReady=1;d.SunReady=1;$(d.DID).childNodes[0].style.top=0}},MonitorCard=function(d){var b=ArCard.length,c,a=Number(ESSunNum.innerHTML);a!=oS.SunNum&&(oS.SunNum=Math.min(a,oS.SunNum));if(oS.Chose<1){while(b--){(c=(d=ArCard[b]).PName.prototype).SunNum>oS.SunNum?(d.SunReady&&(d.SunReady=0),$(d.DID).childNodes[0].style.top="-60px"):(!d.SunReady&&(d.SunReady=1),d.CDReady&&($(d.DID).childNodes[0].style.top=0))}}else{while(b--){(c=(d=ArCard[b]).PName.prototype).SunNum>oS.SunNum?d.SunReady&&(d.SunReady=0):!d.SunReady&&(d.SunReady=1)}}ViewPlantTitle(oS.MCID)},DoCoolTimer=function(c,b){var a=$(ArCard[c].DID);NewEle("dCD1"+c,"span","position:absolute;left:22px;top:22px;font-size:18px;font-weight:500;font-family:Verdana;color:#000","",a);NewEle("dCD2"+c,"span","position:absolute;left:20px;top:20px;font-size:18px;font-weight:500;font-family:Verdana;color:#FF0","",a);(function(d,e){d>0?(innerText($("dCD1"+e),d),innerText($("dCD2"+e),d),oSym.addTask(50,arguments.callee,[(d-.5).toFixed(1),e])):(ClearChild($("dCD1"+e),$("dCD2"+e)),ArCard[e].CDReady=1,MonitorCard())})(b,c)},ChosePlant=function(h,d){PlayAudio("seedlift");var g=ArCard[oS.ChoseCard=d];if(!(g.CDReady&&g.SunReady)){return}h=window.event||h;var b=h. clientX*1.2||EElement.scrollLeft,a=h.clientY*.8+EBody.scrollTop-0||EElement.scrollTop,j=g.PName.prototype,e=ArCard.length,f,c=j.PicArr;oS.Chose=1;!oS.CardKind?EditImg(NewImg("MovePlant",c[j.StaticGif],"left:"+b-.5*(j.beAttackedPointL+j.beAttackedPointR)+"px;top:"+a+20-j.height+"px;z-index:254",EDAll).cloneNode(false),"MovePlantAlpha","",{visibility:"hidden",filter:"alpha(opacity=40)",opacity:.4,zIndex:30},EDAll):(NewImg("MovePlant",j.PicArr[j.StandGif],"left:"+(b-.5*(j.beAttackedPointL+j.beAttackedPointR))+"px;top:"+(a+20-j.height)+"px;z-index:254",EDAll),NewImg("MovePlantAlpha",j.PicArr[j.StandGif],"visibility:hidden;filter:alpha(opacity=40);opacity:0.4;z-index:30",EDAll));while(e--){$(ArCard[e].DID).childNodes[0].style.top="-60px"}SetHidden($("dTitle"));GroundOnmousemove=GroundOnmousemove1},CancelPlant=function(){ClearChild($("MovePlant"),$("MovePlantAlpha"));oS.Chose=0;MonitorCard();GroundOnmousemove=function(){}},ShovelPlant=function(a){PlayAudio("plant2");var b=a[0],c=a[1];c&&(c.PKind||!(b[1]||b[2]))&&(c.Die(),oS.MPID="");CancelShovel()},ChoseShovel=function(a){PlayAudio("shovel");WhichMouseButton(a)<2&&(SetHidden($("imgShovel")),NewImg("tShovel","images/interface/Shovel/0.gif","left:"+(a.clientX-10)+"px;top:"+(a.clientY+document.body.scrollTop-17)+"px;z-index:1",EDAll),oS.Chose=-1,GroundOnmousemove=GroundOnmousemove2,StopBubble(a))},CancelShovel=function(a){var b=oS.MPID;ClearChild($("tShovel"));oS.Chose=0;SetVisible($("imgShovel"));b&&SetAlpha($(b).childNodes[1],100,1);GroundOnmousemove=function(){}},StopBubble=function(a){window.event?event.cancelBubble=true:a.stopPropagation()},GrowPlant=function(l,d,c,e,b){var j=oS.ChoseCard,f=ArCard[j],h=f.PName,k=h.prototype,i=k.coolTime,a,g=oGd.$LF[e];k.CanGrow(l,e,b)&&(PlayAudio(g!=2?"plant"+Math.floor(1+Math.random()*2):"plant_water"),!oS.CardKind?(new h).Birth(d,c,e,b,l):asyncInnerHTML((a=new h).CustomBirth(e,b,0,"auto"),function(n,m){EDPZ.appendChild(n);m.Birth()},a),innerText(ESSunNum,oS.SunNum-=k.SunNum),i&&(f.CDReady=0,DoCoolTimer(j,k.coolTime)),oSym.addTask(20,SetHidden,[SetStyle(g!=2?$("imgGrowSoil"):$("imgGrowSpray"),{left:d-30+"px",top:c-30+"px",zIndex:3*e+1,visibility:"visible"})]));CancelPlant()},AutoProduceSun=function(a){AppearSun(GetX(Math.floor(1+Math.random()*oS.C)),GetY(Math.floor(1+Math.random()*oS.R)),a,1);oSym.addTask(Math.floor(9+Math.random()*3)*100,AutoProduceSun,[a])},AppearSun=function(h,f,e,a){var b,d,g="Sun"+Math.random(),c="cursor:pointer;z-index:25;filter:alpha(opacity=80);opacity:0.8;left:"+h+"px;";switch(e){case 25:c+="width:78px;height:78px";b=39;break;case 15:c+="width:46px;height:46px";b=23;break;default:c+="width:100px;height:100px";b=55}a?(d=0,oSym.addTask(10,MoveDropSun,[g,f])):(d=f-b-20,c+=";top:"+d+"px",oSym.addTask(1,function(q,p,n,j,l,k,m,i){if(ArSun[q]&&ArSun[q].C){SetStyle($(q),{left:(p=p+j*k)+"px",top:(n=n+Number(l[0]))+"px"});l.shift();--m;m>0&&(l.length==0&&(l=[8,16,24,32]),oSym.addTask(i,arguments.callee,[q,p,n,j,l,k,m,++i]))}},[g,h,d,Math.floor(Math.random()*4),[-32,-24,-16,-8],[-1,1][Math.floor(Math.random()*2)],8,2]),oSym.addTask(800,DisappearSun,[g],3));ArSun[g]={id:g,N:e,C:1,left:h,top:d};NewImg(g,"images/interface/Sun.gif",c,EDAll,{onclick:function(){ClickSun(this.id)}});oS.AutoSun&&oSym.addTask(100,ClickSun,[g])},MoveDropSun=function(c,b){var a=ArSun[c];a&&a.C&&(a.top<b-53?($(c).style.top=(a.top+=3)+"px",oSym.addTask(5,MoveDropSun,[c,b])):oSym.addTask(800,DisappearSun,[c]))},DisappearSun=function(b){var a=ArSun[b];a&&a.C&&(delete ArSun[b],ClearChild($(b)))},ClickSun=function(b){PlayAudio("points");var a=ArSun[b];a&&a.C&&(a.C=0,oSym.addTask(0,MoveClickSun,[b]))},MoveClickSun=function(b){var a=15,c=ArSun[b],e=85,i=-20,d=c.left,h=c.top,g=Math.round((d-e)/a),f=Math.round((h-i)/a);(function(k,l,n,s,m,r,j,q,p){(m-=q)>n?(SetStyle($(k),{left:m+"px",top:(r-=p)+"px"}),oSym.addTask(j,arguments.callee,[k,l,n,s,m,r,j+=.3,q,p])):(SetStyle($(k),{left:n+"px",top:s+"px"}),Number(ESSunNum.innerHTML)!=oS.SunNum&&(oS.SunNum=Math.min(Number(ESSunNum.innerHTML),oS.SunNum)),innerText(ESSunNum,oS.SunNum=Math.min(oS.SunNum+l.N,9990)),MonitorCard(),delete ArSun[k],oSym.addTask(20,ClearChild,[$(k)]))})(b,c,e,i,d,h,1,g,f)},AutoClickSun=function(){var a,b;for(b in ArSun){ArSun[b].C&&ClickSun(b)}},ShowLargeWave=function(a){PlayAudio("hugewave");NewImg("LargeWave","images/interface/LargeWave.png","left:71px;top:249px;width:400px;height:200px;z-index:50",EDAll);oSym.addTask(4,function(b,c,d){SetStyle($("LargeWave"),{width:(b-=57.2)+"px",height:(c-=6.8)+"px",left:500-b*.5+"px",top:300-c*.5+"px"});b>286?oSym.addTask(4,arguments.callee,[b,c,d]):(oSym.addTask(460,function(){ClearChild($("LargeWave"))},[]),d&&d())},[858,102,a])},ShowFinalWave=function(){var a=function(b){PlayAudio("finalwave");NewImg("FinalWave","images/interface/FinalWave.gif","left:122px;top:194px;width:756px;height:213px;z-index:50",EDAll);oSym.addTask(4,function(c,e,d){SetStyle($("FinalWave"),{width:(c-=50.4)+"px",height:(e-=14.2)+"px",left:500-c*.5+"px",top:300-e*.5+"px"});c>252?oSym.addTask(4,arguments.callee,[c,e,d]):oSym.addTask(d,function(){ClearChild($("FinalWave"))},[])},[756,213,b])};oP.FlagNum in oS.LargeWaveFlag?ShowLargeWave(function(){oSym.addTask(560,a,[150])}):a(500)},ShowBOSS=function(a){PlayAudio("finalwave");NewImg("ShowBOSS","images/interface/BOSSWave.gif","left:71px;top:249px;width:858px;height:102px;z-index:50",EDAll);oSym.addTask(4,function(b,c,d){SetStyle($("LargeWave"),{width:(b-=57.2)+"px",height:(c-=6.8)+"px",left:500-b*.5+"px",top:300-c*.5+"px"});b>286?oSym.addTask(4,arguments.callee,[b,c,d]):(oSym.addTask(460,function(){ClearChild($("ShowBOSS"))},[]),d&&d())},[858,102,a])},GameOver=function(){PlayAudio("scream");NewImg("iGameOver","images/interface/ZombiesWon.png","width:450px;height:420px;z-index:255",EDAll,{onclick:function(){SelectModal(oS.Lvl)}});oSym.Stop()},PrepareGrowPlants=function(a){var b=function(){PlayAudio("readysetplant");oSym.addTask(60,function(d,c){var e=d.style;e.backgroundPosition="0 -108px";oSym.addTask(40,function(g,h,f){h.backgroundPosition="0 -216px";oSym.addTask(100,function(j,i){ClearChild(j);i()},[g,f])},[d,e,c])},[NewEle(0,"div","position:absolute;overflow:hidden;background:url(images/interface/PrepareGrowPlants.png) no-repeat;width:255px;height:108px;z-index:50;left:"+(oS.W*.5-77)+"px;top:"+(oS.H*.5-54)+"px",0,EDAll),a])};oS.HaveFog?oGd.MoveFogLeft(b):b()},CustomPlants=function(b,a,c){(new ArCard[b].PName).Birth(GetX(c),GetY(a),a,c,[])},CustomSpecial=function(c,b,d,a){(new c).Birth(GetX(d),GetY(b),b,d,[],a)},CheckAutoSun=function(a){var b=a.checked?1:0;b!=oS.AutoSun&&(addCookie("JSPVZAutoSun",oS.AutoSun=b),b&&AutoClickSun())},GetNewCard=function(a,b,c){StopMusic();PlayAudio("winmusic");oSym.Clear();SetStyle(a,{left:"350px",top:"131px",width:"200px",height:"240px",clip:"rect(0,auto,120px,0)",cursor:"default"}).onclick=null;oSym.Init(function(d,e){++d<100?(SetAlpha(e,d,d*.01),oSym.addTask(4,arguments.callee,[d,e])):function(){StopAudio("winmusic");PlayAudio("plantsgarden",true);SetHidden(EDAll,$("dTop"));var f=b.prototype;$("iNewPlantCard").src=f.PicArr[f.StaticGif];$("iNewPlantCard").style.marginTop=180-f.height+"px";innerText($("dNewPlantName"),f.CName);$("dNewPlantTooltip").innerHTML=f.Tooltip;$("btnNextLevel").onclick=function(){StopAudio("plantsgarden");SelectModal(c)};SetStyle($("dNewPlant"),{visibility:"visible",zIndex:255})}()},[0,$("DivA")])},getCookie1=function(b,g){var d=document.cookie,f=d.split(";"),c=f.length,a,e,h;while(c--){h=(a=f[c]).split("=");if(h[0].replace(" ","")==b){if((e=h.length)==2){return unescape(h[1])}else{h.shift();h=h.join("=").split("&");if(g==undefined){return unescape(h)}else{e=h.length;while(e--){if((a=h[e].split("="))[0].replace(" ","")==g){return unescape(a[1])}}}}}}return 0},getCookie=function(b){var a=document.cookie.match(new RegExp("(^| )"+b+"=([^;]*)(;|$)"));if(a!=null){return unescape(a[2])}return 0},addCookie=function(b,d,e){var c=b+"="+escape(d);if(e){var a=new Date;a.setTime(a.getTime+e*3600*1e3);c+=";expire="+a.toGMTString()}document.cookie=c},deleteCookie=function(a){document.cookie=a+"=0;"},WordUTF8='<div id="dLogo" style="position:absolute;width:450px;height:420px;z-index:1"><div id="LogoWord" style="position:absolute;color:#FF0;top:300px;width:100%;height:100px"><span style="position:absolute;width:305px;height:150px;left:285px;top:5px;cursor:pointer" onclick="PlayAudio(\'gravebutton\');SetBlock($(\'dSurface\'),$(\'iSurfaceBackground\'));ShowNameDiv()"></span><div style="position:absolute;font-size:14px;left:660px;text-align:center;width:140px;top:185px;line-height:1.5;font-weight:bold"><span style="cursor:pointer"><span id="" style=""></span></span></div></div><div style="position:absolute;width:74px;height:41px;left:807px;top:502px;cursor:pointer;z-index:300" onclick="SetVisible($(\'dProcess\'))"></div><img src="" style="position:absolute;left:550px;top:-40px"></div>',ShowNameDiv=function(){oSym.Start();(function(c){var b=c[0],d=3;c.shift();while(d--){SetStyle($("dNameDiv"+d).style.top=b[d]+"px")}c.length&&oSym.addTask(b[3],arguments.callee,[c])})([[-260,96,136,10],[-94,96,136,10],[-6,127,176,10],[-8,134,188,17],[-8,130,179,17],[-8,136,189,17],[-8,134,187,10]])},ShowLoginDiv=function(){$User.isAuthorWebsite?PlayAudio("tap"):GotoAuthorWebsite("")},CheckLogin=function(){var c=$("txtName").value,e=$("txtPass").value,a=/^\w{3,10}$/,b=/^[\u4e00-\u9fa5\w]{3,10}$/,d=/^\w{3,20}$/;return(a.exec(c)||b.exec(c))&&d.exec(e)?true:false},SelectModal=function(g){HiddenLevel();HiddenMiniGame(1);HiddenRiddleGame(1);StopMusic();PausedAudioArr=[];g==undefined&&(g=$User.Visitor.Progress);oS.LvlClearFunc&&oS.LvlClearFunc();var b=oS.GlobalVariables,c=oS.LvlVariables,e=oS.SelfVariables,a=window,d;for(d in b){a[d]=b[d]}for(d in c){a[d]=null}for(d=e.length;d--;delete oS[e[d]]){}for(d in $Pn){$Pn[d]=null}oS.GlobalVariables={};oS.LvlVariables={};oS.SelfVariables.length=0;SetHidden($("dCardList"),$("tGround"),$("dSelectCard"),$("dTop"),$("dMenu"),$("dHandBook"),$("dNewPlant"),$("dProcess"));SetNone($("dSurface"),$("iSurfaceBackground"));ClearChild($("dFlagMeterTitleB").firstChild);EDAll=$("dBody").replaceChild(EDNewAll,EDAll);$("dBody").replaceChild(EDNewFlagMeter,$("dFlagMeter"));LoadLvl(g)},InitGame=function(){var e=NewEle("dServer","div","position:absolute;line-height:28px;left:706px;top:245px;width:700px;height:100px;font-size:16px;color:#040;font-weight:bold;z-index:2;display:none",0,$("dAll")),c=$User.Server,b=c.List,a=$("dProcess");!$("dText1")&&a.insertBefore(NewEle("dText1","div",0,{innerHTML:'<span style="line-height:23px;font-size:15px;font-family:&#x9ED1;&#x4F53;;color:#F60;top:32px">welcome<span style="font-family:Verdana;font-weight:700">Plants vs. Zombies - NFT edition</span>fan made game, not affiliated with any for-profit entitity.<span style="font-family:Verdana;font-weight:700">LonelyStar</span>Popcap Games，Electronic Arts</span>'},0),a.firstChild);LoadLvl()},LoadLvl=function(e,c){oSym.Timer&&oSym.Stop();var b=oSym.Now==c,d=$User,a=d.Visitor;oS.CenterContent&&((e==0&&b||e!=0)&&(oS.DisplayAD=true));e=e||0;$("dServer")&&e!=0&&SetNone($("dServer"));oSym.Init(function(g,f){(f=$("JSPVZ"))&&ClearChild(f);NewEle("JSPVZ","script",0,{src:"level/"+(oS.Lvl=g)+".js",type:"text/javascript"},document.getElementsByTagName("head").item(0))},[e&&b?0:e]);$("aLvlLink").href="html/2-1"+(e&&!isNaN(e)?"-"+e:"")+".htm"},AppearTombstones=function(n,e,m){var r=oGd.$Tombstones,k=[],h=oS.R+1,b,d=0,q,a,g,f,s=oGd.$,l,p;while(--h){g=e;while(g>=n){!r[h+"_"+g]&&(k[d++]=[h,g]);--g}}while(m--){q=k[g=Math.floor(Math.random()*k.length)];r[p=(h=q[0])+"_"+(b=q[1])]=1;for(f=0;f<4;f++){(l=s[p+"_"+f])&&l.Die()}k.splice(g,1);a=NewEle("dTombstones"+h+"_"+b,"div","position:absolute;width:86px;height:91px;left:"+(GetX(b)-43)+"px;top:"+(GetY(h)-91)+"px",0,EDAll);h=Math.floor(Math.random()*4);b=Math.floor(Math.random()*2);var c;a.appendChild(c=NewEle("","div","background-position:-"+86*h+"px -"+91*b+"px",{className:"Tom1"},a).cloneNode(false)).className="Tom2"}},ResetGame=function(b){AllAudioPauseCanceled();var a=oSym;a.Start();innerText(b,"SPEED");$("dMenu1").onclick=ClickMenu;SetNone($("dSurface"),$("dPause"));$("dPauseAD").innerHTML=""},PauseGame=function(c,a){var b=oSym;AllAudioPaused();b.Stop();innerText(c,"SPEED");$("dMenu1").onclick=null;!a&&SetBlock($("dSurface"),$("dPause"))},ClickMenu=function(){oSym.Timer&&(AllAudioPaused(),PlayAudio("pause"),oSym.Stop(),SetBlock($("dSurface")),innerText($("dMenu0"),"SPEED"),ShowOptions())},OptionsMenuDown=function(b,a){b.className="OptionsMenuButtonDown";a.style.lineHeight="102px"},OptionsMenuUP=function(b,a){b.className="OptionsMenuButton";a.style.lineHeight="100px"},ShowSpeed=function(){var b=oSym;b.Stop();PlayAudio("gravebutton");SetNone($("dOptionsMenuback"),$("dOptionsMenu"));SetBlock($("dSpeedContainer"))},HiddenSpeed=function(){PlayAudio("tap");SetNone($("dSpeedContainer"));oS.Lvl&&ResetGame($("dMenu0"))},CSpeed=function(a,c,b){$User.Visitor.NowStep=oSym.NowStep=a;$User.Visitor.TimeStep=oSym.TimeStep=c;$("dDisplaySpeed").innerHTML=b},ShowLevel=function(){PlayAudio("gravebutton");SetNone($("dOptionsMenu"));SetBlock($("dAdvSmallContainer"))},HiddenLevel=function(){PlayAudio("tap");SetNone($("dOptionsMenuback"),$("dAdvSmallContainer"));oS.Lvl&&(SetNone($("dSurface")),ResetGame($("dMenu0")))},ShowMiniGame=function(){PlayAudio("gravebutton");SetBlock($("dMiniSmallContainer"))},HiddenMiniGame=function(a){!a&&PlayAudio("tap");SetNone($("dMiniSmallContainer"))},ShowRiddleGame=function(){PlayAudio("gravebutton");SetBlock($("dRiddleSmallContainer"))},HiddenRiddleGame=function(a){!a&&PlayAudio("tap");SetNone($("dRiddleSmallContainer"))},ShowOptions=function(){PlayAudio(oS.Lvl?"gravebutton":"tap");SetBlock($("dOptionsMenuback"),$("dOptionsMenu"))},HiddenOptions=function(){PlayAudio("gravebutton");PlayAudio("buttonclick");SetNone($("dOptionsMenuback"),$("dOptionsMenu"));oS.Lvl&&(SetNone($("dSurface")),ResetGame($("dMenu0")))},ViewHandBook=function(){SetNone($("dOptionsMenuback"),$("dOptionsMenu"));oS.Lvl?(AllAudioPaused(),PlayAudio("gravebutton"),SetNone($("dSurface")),oSym.Stop(),innerText($("dMenu0"),"return"),$("dMenu1").onclick=null):(AllAudioPaused(),PlayAudio("tap"));PlayAudio("Look up at the Sky");SetVisible($("dHandBook"))},ReturnHandBookInx=function(){PlayAudio("tap");SetNone($("dHandBookP"),$("dHandBookZ"));SetHidden($("dHandBookPZ"))},CloseHandBook=function(){PlayAudio("tap");StopAudio("Look up at the Sky");oS.Lvl?ResetGame($("dMenu0")):oSym.addTask(100,AllAudioPauseCanceled);SetNone($("dHandBookP"),$("dHandBookZ"));SetHidden($("dHandBookPZ"),$("dHandBook"))},ShowHelp=function(){PlayAudio("tap");SetBlock($("dHelp"))},HiddenHelp=function(){PlayAudio("tap");SetNone($("dHelp"))},$=function(a){return document.getElementById(a)},$n=function(a){return document.createElement(a)},ClearChild=function(){var a=arguments.length,c;while(a--){try{c=arguments[a];c.parentNode.removeChild(c);c=null}catch(b){}}},SetBlock=function(){var a=arguments.length;while(a--){arguments[a].style.display="block"}},SetNone=function(){var a=arguments.length;while(a--){arguments[a].style.display="none"}},SetHidden=function(){var a=arguments.length;while(a--){arguments[a].style.visibility="hidden"}},SetVisible=function(){var a=arguments.length;while(a--){arguments[a].style.visibility="visible"}},SetAlpha=$User.Browser.IE6?function(c,b,a){c.style.filter="alpha(opacity="+b+")"}:function(c,b,a){c.style.opacity=a},SetStyle=function(d,b){var c=d.style,a;for(a in b){c[a]=b[a]}return d},NewImg=function(f,e,b,c,d){var a=$n("img");a.src=e;b&&(a.style.cssText=b);if(d){for(v in d){a[v]=d[v]}}f&&(a.id=f);c&&c.appendChild(a);return a},EditImg=function(e,f,c,b,a){f&&(e.id=f);c&&(e.src=c);b&&SetStyle(e,b);a&&a.appendChild(e);return e},NewEle=function(h,b,d,a,e,f,g,c){g=$n(b);h&&(g.id=h);d&&(g.style.cssText=d);if(a){for(c in a){g[c]=a[c]}}if(f){for(c in f){g.setAttribute(c,f[c])}}e&&e.appendChild(g);return g},EditEle=function(g,f,a,e,b,c){if(f){for(c in f){g.setAttribute(c,f[c])}}a&&SetStyle(g,a);if(b){for(c in b){g[c]=b[c]}}e&&e.appendChild(g);return g},NewO=function(b,a){return(a=function(){}).prototype=b,a},SetPrototype=function(d,c,a){a=d.prototype;for(var b in c){a[b]=c[b]}},InheritO=function(d,i,c,g,b,h,f,e,a){var g=function(){};g.prototype=new d;i&&SetPrototype(g,i);if(c){a=g.prototype;for(f in c){b=a[f].slice(0);h=c[f];for(e in h){b[e]=h[e]}g.prototype[f]=b}}return g},Compare=function(e,b,a,c,d){return d=e<b?b:e>a?a:e,c?[c(d),d]:[d]},$Switch=function(h,d,c,a,g,b,e){b=0;g=d.length;e=c;while(b<g){if(e(h,d[b])){break}++b}return a[b]},$SEql=function(c,b,a){return c in b?b[c]:b["default"]};$SSml=function(d,c,a){var b=0;LX=c.length;while(b<LX){if(d<c[b]){break}++b}return a[b]},$SGrt=function(d,c,a){var b=0;LX=c.length;while(b<LX){if(d>c[b]){break}++b}return a[b]},ImgSpriter=function(h,c,e,f,g){var b=e[f],d=b[2],a=$(h);a&&(a.style.backgroundPosition=b[0],oSym.addTask(b[1],function(j){j>-1?ImgSpriter(h,c,e,j,g):g(h,c)},[d]))},Ajax=function(){},Date.prototype.format=function(b){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(b)){b=b.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var a in c){if(new RegExp("("+a+")").test(b)){b=b.replace(RegExp.$1,RegExp.$1.length==1?c[a]:("00"+c[a]).substr((""+c[a]).length))}}return b},NewMusic=$User.HTML5?function(a){NewAudio({autoplay:true,loop:true,source:a})}:function(a){!oS.Silence&&($("oEmbed").innerHTML="")},PauseMusic=$User.HTML5?function(){var a=oAudio[oS.LoadMusic];a.currentTime=0;a.pause()}:function(){$("oEmbed").innerHTML=""},StartAdventure=function(d){if(d!=undefined&&d!=0){SelectModal(d);return}var c=$("ZombieHand"),b=$("dAdventure"),a=NewImg("","images/interface/ZombieHand.png","position:absolute;left:0",c);b.onclick=b.onmouseover=b.onmouseout=null;SetBlock(c);StopMusic();PlayAudio("losemusic");oSym.addTask(120,function(){PlayAudio("evillaugh")},[]);oSym.addTask(7,function(f,e,g){e.style.left=(g-=330)+"px";--f&&oSym.addTask(7,arguments.callee,[f,e,g])},[6,a,0]);$User.HTML5?function(g,h,e){var f=oAudio.evillaugh;if(--e){g.style.backgroundPosition=["top","bottom"][h];oSym.addTask(10,arguments.callee,[g,h?0:1,e])}else{g.style.backgroundPosition="top",g.onclick=StartAdventure;g.onmouseover=function(){this.style.backgroundPosition="bottom"};g.onmouseout=function(){this.style.backgroundPosition="top"};StopAudio("evillaugh");SelectModal(d);c.innerHTML=""}}(b,1,50):(NewMusic("evillaugh"),function(f,g,e){if(--e){f.style.backgroundPosition=["top","bottom"][g];oSym.addTask(10,arguments.callee,[f,g?0:1,e])}else{f.style.backgroundPosition="top",f.onclick=StartAdventure;f.onmouseover=function(){this.style.backgroundPosition="bottom"};f.onmouseout=function(){this.style.backgroundPosition="top"};SelectModal(d);c.innerHTML=""}}(b,1,50))},oAudio={},PausedAudioArr=[],NewAudio=$User.HTML5?function(b){var a=b.source;if(oAudio[a]){return}var f=document.createElement("audio"),c=b.autoplay,g=b.loop,m,h={mp3:"audio/mpeg"},k=b.preload,l=b.callback,j=["mp3"],e=j.length,d;f.autoplay=c?true:false;g&&f.addEventListener("ended",function(){f.play()},false);while(e--){(m=document.createElement("source")).type=h[d=j[e]];m.src="audio/"+a+"."+"mp3";f.appendChild(m)}f.preload=k==undefined?"auto":["auto","meta","none"][k];f.muted=oS.Silence;l&&f.addEventListener("canplaythrough",l,false);return oAudio[a]=f}:function(){},PlayMusic=$User.HTML5?function(b){var a=oAudio[b];if(a){try{a.currentTime=0}catch(c){}a.play()}else{NewMusic(b);oAudio[b].play()}}:function(a){NewMusic(a)},PlayAudio=$User.HTML5?function(c,a){var b=oAudio[c];b?(b.loop=!!a,b.play()):NewAudio({source:c,loop:!!a}).play()}:function(){},PauseAudio=$User.HTML5?function(a){oAudio[a].pause()}:function(){},StopMusic=$User.HTML5?function(){var a=oAudio[oS.LoadMusic];try{a.currentTime=0}catch(b){}a.pause()}:function(){},StopAudio=$User.HTML5?function(b){var a=oAudio[b];try{a.currentTime=0}catch(c){}a.pause()}:function(){},AllAudioPaused=$User.HTML5?function(){var a,b;for(a in oAudio){b=oAudio[a];!(b.paused||b.ended)&&(PausedAudioArr.push(a),b.pause())}}:function(){},AllAudioPauseCanceled=$User.HTML5?function(){var a=PausedAudioArr.length;while(a--){oAudio[PausedAudioArr[a]].play()}PausedAudioArr.length=0}:function(){},AllAudioMuted=function(){var a;for(a in oAudio){oAudio[a].muted=true}},AllAudioMuteCanceled=function(){var a;for(a in oAudio){oAudio[a].muted=false}},CheckSilence=$User.HTML5?function(a){var b=a.checked?1:0;b!=oS.Silence&&(addCookie("JSPVZSilence",oS.Silence=b),b?AllAudioMuted():AllAudioMuteCanceled())}:function(a){var b=a.checked?1:0;b!=oS.Silence&&(addCookie("JSPVZSilence",oS.Silence=b),b?PauseMusic():NewMusic(oS.StartGameMusic))};
	</script>
    <script>
		Bye=function(){var run=$("preloader","status");var speed=1;var timer=null;var alpha=100;startrun(0);function startrun(target){clearInterval(timer);timer=setInterval(function(){if(target>alpha){speed=2}else{speed=-2}if(alpha==target){clearInterval(timer)}else{alpha=alpha+speed;run.style.filter="alpha(opacity="+alpha+")";run.style.opacity=alpha/100}},30)}};document.onreadystatechange=subSomething;function subSomething(){if(document.readyState=="complete"){Bye();setTimeout(function(){SetNone($("preloader"),$("status"))},0)}}
	</script>
    <div id="dFlagMeter">
	<div id="dFlagMeterTitle" display="none"><div id="dFlagMeterTitleB" display="none"></div><div id="sFlagMeterTitleF" display="none"></div></div>
	<div id="dFlagMeterContent">
		<img id="imgFlagMeterEmpty" src="images/interface/FlagMeterEmpty.png">
		<img id="imgFlagMeterFull" src="images/interface/FlagMeterFull.png">
		<img class="flag" id="imgFlag1" src="images/interface/FlagMeterParts2.png">
		<img class="flag" id="imgFlag2" src="images/interface/FlagMeterParts2.png">
		<img class="flag" id="imgFlag3" src="images/interface/FlagMeterParts2.png">
		<img class="flag" id="imgFlag4" src="images/interface/FlagMeterParts2.png">
		<img id="imgGQJC" src="images/interface/FlagMeterLevelProgress.png">
		<img id="imgFlagHead" src="images/interface/FlagMeterParts1.png">
	</div>
    </div>
    <div id="dSurface" class="WindowFrame">
	<div id="iSurfaceBackground">
		<map name="FPMap0">
			<script>
			(function(){
				var s="",ar=[{c:'641,466,724,527',k:'ShowOptions()'},{c:'718,512,790,558',k:'ShowHelp()'},{c:'800,495,879,548',k:'SetNone($(\'dSurface\'));PlayAudio(\'tap\')'}];
				for(var i=0;i<=2;i++)s+='<area href="javascript:;" shape="rect" coords="'+ar[i].c+'" onclick="'+ar[i].k+'">';document.write(s);
			})()
			</script>
		</map>
		<img src="images/interface/Surface.jpg" usemap="#FPMap0" border="0">
		<div style="position:absolute;width:350px;height:150px;left:468px;top:82px;background:url(images/interface/SelectorScreen_Shadow_Adventure.png)"></div>
		<div class="adventure0" id="dAdventure" onmouseover="this.style.backgroundPosition='bottom';" onmouseout="this.style.backgroundPosition='top'" onclick="StartAdventure()"></div>
		<div style="position:absolute;width:318px;height:136px;left:476px;top:208px;background:url(images/interface/SelectorScreen_Shadow_Survival.png)"></div>
		<div class="mini" onmouseover="this.style.backgroundPosition='bottom';" onmouseout="this.style.backgroundPosition='top'" onclick="ShowMiniGame()"></div>
		<div style="position:absolute;width:289px;height:127px;left:480px;top:307px;background:url(images/interface/SelectorScreen_Shadow_Challenge.png)"></div>
		<div class="riddle" onmouseover="this.style.backgroundPosition='bottom';" onmouseout="this.style.backgroundPosition='top'" onclick="ShowRiddleGame()"></div>
		<div class="handbook" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'" onclick="ViewHandBook()"></div>
		<div id="ZombieHand"></div>
		<div id="dNameDiv0">
			<div id="dNameDiv1" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'" onclick="ShowLoginDiv()"></div>
			<div id="dNameDiv2"></div>
		</div>
	</div>
	<div id="dPause">
		<table border="0" width="434" cellspacing="0" cellpadding="0" height="484">
			<tr>
				<td width="107" height="142" valign="bottom">
				<img border="0" src="images/interface/dialog_topleft.png" width="423" height="401"></td>
			</tr>
		</table>
		<div class="list">
			<div class="hidden" onclick="SetNone($('dSurface'),$('dPause'))"></div>
			<div id="dPauseAD"></div>
		</div>
		<div class="button" onclick="ResetGame($('dMenu0'))">Restart</div>
	</div>
	<div id="dSurfaceBack">
		<div id="dHelp" onclick="HiddenHelp()"></div>
		<div id="dOptionsMenuback">
			<div id="dOptionsMenu">
				<div class="OMd0">
					<div class="OMd1">
						<div><input type="checkbox" id="cAutoSun" value="1" onchange="CheckAutoSun(this)"> <label for="cAutoSun" id="lAutoSun">Auto</label></div>
						<div><input type="checkbox" id="cSilence" value="1"> <label for="cSilence" id="lSilence">Mute&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;  </label></div>
					</div>
				</div>
				<div class="BigLevel button" onclick="ShowLevel()">Level</div>
				<div class="BigLevel button" onclick="ShowSpeed()">Speed</div>
				<div class="BigLevel button" onclick="ViewHandBook()">Learn</div>
				<div class="BigLevel button" onclick="SelectModal(oS.Lvl)">Restart</div>
				<div class="BigLevel button" onclick="SelectModal(0);SetBlock($('dSurface'),$('iSurfaceBackground'));">Exit</div>
				<div class="OptionsMenuButton" style="margin-top:20px" onmousedown="OptionsMenuDown(this,$('sOptionsMenu'))" onmouseup="OptionsMenuUP(this,$('sOptionsMenu'));HiddenOptions();CheckAutoSun($('cAutoSun'));CheckSilence($('cSilence'))"><span id="sOptionsMenu" class="OptionsMenuButtonSpan">Return</span></div>
			</div>
<script>
var ArLvl={1:'1',2:'2',3:'3',4:'4',5:'5',6:'6',7:'7',8:'8',9:'9',10:'10'},
LvlList=function(BLvl,SLvl1,SLvl2){
	var s='',startlvl=BLvl*10;
	do{
		s+='<span class="lvl" onclick="StartAdventure('+(startlvl+SLvl1)+')">'+ArLvl[SLvl1]+'</span>';
	}while(SLvl1++<SLvl2)
	document.write(s);
};
</script>
		</div>
		<div id="dAdvSmallContainer" class="TitleSmallContainer Challenge_Background">
			<div id="dAdvSmallTitle">Adventure</div>
			<div class="list">
				<div class="title">Daylight Fields</div>
				<div class="icon">
					<img class="img1" style="clip:rect(0,61px,auto,0);left:16px" border="0" src="images/interface/Almanac_Ground.jpg" width="366" height="61"></td>
					<img class="img2" border="0" src="images/interface/Almanac_ZombieWindow2.png" width="76" height="76"></p>
				</div>
				<div class="lvl2">
					<script>LvlList(0,1,10)</script>
				</div>
			</div>
			<div class="list">
				<div class="title">Nightly Meadow</div>
				<div class="icon">
					<img class="img1" style="clip:rect(0,183px,auto,122px);left:-106px" border="0" src="images/interface/Almanac_Ground.jpg" width="366" height="61"></td>
					<img class="img2" border="0" src="images/interface/Almanac_ZombieWindow2.png" width="76" height="76"></p>
				</div>
				<div class="lvl2">
					<script>LvlList(1,1,10)</script>
				</div>
			</div>
			<div class="list">
				<div class="title">Daytime Pool</div>
				<div class="icon">
					<img class="img1" style="clip:rect(0,305px,auto,244px);left:-228px" border="0" src="images/interface/Almanac_Ground.jpg" width="366" height="61"></td>
					<img class="img2" border="0" src="images/interface/Almanac_ZombieWindow2.png" width="76" height="76"></p>
				</div>
				<div class="lvl2">
					<script>LvlList(2,1,10)</script>
				</div>
			</div>
			<div class="list">
				<div class="title">Dragon Palace</div>
				<div class="icon">
					<img class="img1" style="clip:rect(0,244px,auto,183px);left:-167px" border="0" src="images/interface/Almanac_Ground.jpg" width="366" height="61"></td>
					<img class="img2" border="0" src="images/interface/Almanac_ZombieWindow2.png" width="76" height="76"></p>
				</div>
				<div class="lvl2">
					<script>LvlList(3,1,10)</script>
				</div>
			</div>
			<div class="list">
				<div class="title">Water Town</div>
				<div class="icon">
					<img class="img1" style="clip:rect(0,61px,auto,0);left:16px" border="0" src="images/interface/jiaxing.png" width="366" height="61"></td>
					<img class="img2" border="0" src="images/interface/Almanac_ZombieWindow2.png" width="76" height="76"></p>
				</div>
				<div class="lvl2">
					<script>LvlList(4,1,10)</script>
				</div>
			</div>
			<div class="button" id="closeButton" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'"  onclick="HiddenLevel()">close</div>
		</div>
		
		<div id="dMiniSmallContainer" class="TitleSmallContainer Challenge_Background" style="font-size: 40px;">
			<div id="dMiniSmallTitle" >CHINA LEVELS (BONUS)</div>
			<div id="dMini0" class="minigame-names" style="font-size: 40px;">
				<table id="minigameSheet" cellspacing="0" width="0%" style="font-size: 40px;">
				<script>
					(function(){
						var ar=['100','CHINA','wall0.png',
						'101','AMBUSH','wall1.png',
						'102','NIGHT','wall2.png',
						'103','GHOST','wall3.png',
						'104','WATER','zhi.png',
						'105','SWIMMERS','zhi1.png',
						'106','GRAVE','bai.png',
						'107','MIDNIGHT','bai1.png',
						'108','VOLCANO','huo.png',
						'109','FUEL','huo1.png',
						'110','PALACE','wang.png',
						'111','SIEGE','wang0.png',
						'112','IMPERIAL','wang1.png',
						'FB','DUNGEON','FB.png',
						'WJY','JIANG YI','WJY.png'],
						v,i=0,n,l=ar.length,s='';
						for(n=0;n<l;n+=3){
							i%5==0&&(s+='<tr>');
							s+='<td height="139" valign="top" onclick="SelectModal(\''+ar[n]+'\')"><div><img src="images/interface/'+ar[n+2]+'"></div><div class="list">'+ar[n+1]+'</div></td>';
							(i+1)%5==0?(
								s+='</tr>',
								i=0
							):++i;
						}
						if(i!=0){
							while(--i)s+='<td>　</td>';
							s+='</tr>';
						}
						document.write(s)
					})()
				</script>
				</table>
				<div class="button" id="exitMinigame" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'"  onclick="HiddenMiniGame()">close</div>
			</div>
		</div>
</div>
		<div id="dRiddleSmallContainer" class="TitleSmallContainer Challenge_Background">
			<div id="dMiniSmallTitle">MINI-GAMES</div>
			<div id="dMini0">
				<table id="minigameSheet2" cellspacing="0" width="0%">
				<script>
					(function(){
						var ar=['NutBowling','NUTBOWL ','baolingqiu.png',
						'GuanXin','STARGAZE','GuanXin.png',
						'yy','TIT-TAT','yy.png',
						'ZombieGames','FOOTBALL','woxinfeixiang.png',
						'yicixingxiaofei','ITEMS','yicixingxiaofei.gif',
						'kaotianchifan','SUNLIGHT','kaotianchifan.png',
						'pinjizhidi','FFA','pinjizhidi.png',
					    'bpsyc','FOOD','bpsyc.png',
						'fmdzz','NIGHT','fmdzz.png',
						'ydbs','FLOWERS','ten.png',
						'KongXi','FLYERS','KongXi.png',
						'YXZZ','STEALTH','YXZZ.png',
						'xjsdmf','TROUBLE','sm.png',
						'QRWX','24/7','QRWX.png',
                        '150','EVERGREEN ','mota.png'],
						v,i=0,n,l=ar.length,s='';
						for(n=0;n<l;n+=3){
							i%5==0&&(s+='<tr>');
							s+='<td height="139" valign="top" onclick="SelectModal(\''+ar[n]+'\')"><div><img src="images/interface/'+ar[n+2]+'"></div><div class="list">'+ar[n+1]+'</div></td>';
							(i+1)%5==0?(
								s+='</tr>',
								i=0
							):++i;
						}
						if(i!=0){
							while(--i)s+='<td>　</td>';
							s+='</tr>';
						}
						document.write(s)
					})()
				</script>
				</table>
				<div class="button" id="exitMenu" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'"  onclick="HiddenMiniGame()">close</div>
				</div>

			<!--单机界面已作废，无特殊请勿乱动-->
			<div id="dRiddle0">
				<div class="button" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'"  onclick="ReturnRiddleInx()">puzzle mode</div>
			</div>
			<!--对战界面已作废，无特殊请勿乱动-->
			<div id="dRiddle1">
				<div style="position:relative;width:94%;font-size:12px;margin-top:10px;margin-left:auto;margin-right:auto;color:#000">
					<button class="jhp" style="height:23px" onclick="window.frames['fRiddleAlreadyCreateGame'].SearchLvl(0)">all games</button> 
					<button class="jhp" style="height:23px" onclick="window.frames['fRiddleAlreadyCreateGame'].SearchLvl(1)">create</button> 
					<button class="jhp" style="height:23px" onclick="window.frames['fRiddleAlreadyCreateGame'].SearchLvl(2)">play</button>&nbsp;&nbsp;&nbsp;
					<input type=text id="tRiddleID" size="1"><button class="jhp" style="height:23px" onclick="window.frames['fRiddleAlreadyCreateGame'].SearchLvl(3,$('tRiddleID').value)">serieal number</button>&nbsp;&nbsp;&nbsp;
					<input type=text id="tRiddleUserName" size="3"><button class="jhp" style="height:23px" onclick="window.frames['fRiddleAlreadyCreateGame'].SearchLvl(4,$('tRiddleUserName').value)">creator select</button>&nbsp;&nbsp;&nbsp;
					<input type=text id="tRiddleTitle" size="3"><button class="jhp" style="height:23px" onclick="window.frames['fRiddleAlreadyCreateGame'].SearchLvl(5,$('tRiddleTitle').value)">title select</button>
					<div style="border:1px solid #000;height:440px;width:100%;background:#fafafa">
						<iframe name="fRiddleAlreadyCreateGame" id="fRiddleAlreadyCreateGame" marginwidth="1" marginheight="1" height="100%" width="100%" scrolling="no" border="0" frameborder="0"></iframe>
					</div>
				</div>
				<div class="button" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'"  onclick="ReturnRiddleInx()">Rebel Mode</div>
				<div class="button" style="left:220px" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'"  onclick="if($User.Visitor.UserName!='guest'||confirm('guests cant perform this.'))SelectModal('ImZombieCreateGame')">create new level</div>
			</div>
			<div id="dRiddleClose" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'" onclick="HiddenRiddleGame()">close&nbsp;</div>				
		</div>
	</div>
    </div>
<!--     
	<div class="WindowFrame" id="dAll" style="width:400px; height:400px">
 -->	
 	<div class="WindowFrame" id="dAll" >
	<div id="tGround"></div>
	<div id="dCardList"></div>
	<div id="dZombie"></div>
	<div id="bShowHandBook" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'" onclick="ViewHandBook()">Plants&nbsp;</div>
	<div id="dSelectCard">
		<div class="title"></div>
		<div id="dPCard"></div>
		<div class="bTitle">
			<input class="button" onclick="ResetSelectCard()" type="button" value="reset" name="btnReset" id="btnReset" style="color:#FC6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<input class="button" onclick="oS.ScrollBack(LetsGO)" type="button" value="start" disabled="disabled" name="btnOK" id="btnOK" style="color:#888">
		</div>
	</div>
	<div id="dTop">
		<div id="dSunNum">
			<span id="sSunNum"></span>
		</div>
		<div id="tdShovel">
			<img id="imgShovel" src="images/interface/Shovel/0.gif" onmousedown="ChoseShovel(event)">
		</div>
	</div>
	<div id="dPZ"></div>
    </div>

    <div id="dMenu">
	<div id="dMenu0" class="Menu" onclick="ShowSpeed()">SPEED</div>
	<div id="dMenu1" class="Menu" onclick="ClickMenu()">MENU</div>
    </div>
    <div id="dHandBook" class="WindowFrame">
	<div class="title">Plant-Idex</div>
	<div class="content">
		<div>
			<img border="0" src="images/Plants/SunFlower/0.gif" width="73" height="74"><br>
			<input class="button" type="button" value="plants" name="btnViewPlant" id="btnViewPlant" onclick="InitHandBookPCard()">
		</div>
		<div style="left:50%;padding-top:95px">
			<img border="0" src="images/Zombies/Zombie/0.gif" width="149" height="130"><br>
			<input class="button" type="button" value="zombies" name="btnViewZombie" id="btnViewZombie" onclick="InitHandBookZCard()">
		</div>
	</div>
	<div class="close" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'" onclick="CloseHandBook()">close&nbsp;</div>
    </div>
    <div id="dHandBookPZ" class="WindowFrame Almanac_PlantBack">
	<div id="dHandBookP">
		<div class="title" id="handbookTitle">Plants</div>
		<div id="dHandBookPCard"></div>
		<div id="pPlantBack"></div>
		<div class="list" id="plantList">
			<div id="pHandBookPlant"></div>
			<div id="dHandBookPlantName"></div>
			<div id="dProducePlant"></div>
			<div class="cost_cool">
				<span class="cost">cost:</span><span id="spSunNum"></span><span class="cool">cooldown:</span><span id="spCoolTime"></span>
			</div>
		</div>
	</div>
	<div id="dHandBookZ">
		<div class="title" id="handbookTitleZombie">Zombies</div>
		<div id="dHandBookZCard"></div>
		<div id="pZombieBack"></div>
		<div class="list" id="zombieList">
			<div id="pHandBookZombie"></div>
			<div id="dHandBookZombieName"></div>
			<div id="dProduceZombie"></div>
		</div>
	</div>
	<div class="dButton">
		<div class="button1" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'" onclick="ReturnHandBookInx()">Plant-Idex</div>
		<div class="button2" onmouseover="this.style.backgroundPosition='bottom'" onmouseout="this.style.backgroundPosition='top'" onclick="CloseHandBook()">close&nbsp;</div>
	</div>
    </div>
    <div id="dNewPlant">
	<div id="dNewPlantTitle">New Plant!</div>
	<div class="card">
		<img id="iNewPlantCard" border="0">
	</div>
	<br>
	<div id="dNewPlantName"></div>
	<br><br><br>
	<div id="dNewPlantTooltip"></div>
	<br><br><br><br><br><br>
	<input type="button" value="next level!" name="btnNextLevel" id="btnNextLevel">
    </div>
    <div id="dProcess">
	<input class="button" type="button" value="close" onclick="SetHidden($('dProcess'))">
	<script>document.write('<a style="margin-left:50px;cursor:pointer;color:#FF0;font-size:15px;text-decoration:none;font-weight:bold" target="_blank" ></a>');</script>
    </div>
    <div id="dSpeedContainer">
	<div class="title" id="speedAdjustment">SPEED ADJUSTMENT</div>
	<div class="dSpeed" id="dSpeed" title="set speed">
		
		<div class="dS2"><div onclick="CSpeed(1,20,.25)">1/4<br>┕━</div><div onclick="CSpeed(1,10,.5)">1/2<br>━┻━</div><div onclick="CSpeed(2,10,1)">1<br>━┻━</div><div onclick="CSpeed(5,10,3)">3<br>━┻━</div><div onclick="CSpeed(5,5,5)">5<br>━┛</div></div>
	</div>
	<div class="nowspeed" id="currentSpeed">Current Speed:<span id="dDisplaySpeed">1</span></div>
	<div class="content"><span>&nbsp;&nbsp;&nbsp; Speed Settings:</span>：<font color="#FFFF00"></font> <span style="color:#FF0"></span></div>
	<br>
	<div id="speedButtons"><input type=button value="play game" onclick="HiddenSpeed()"> <input type=button value="reset speed" onclick="CSpeed(1,10,1)"></div>
    </div>
    <script>

	// Get the canvas element and the 2D context

/* 	const canvas = document.getElementById('dAll');

 	const ctx = canvas.getContext('2d');

	// Set the scaling factor
	const scaleFactor = 0.5;

	// Scale the canvas
	ctx.scale(scaleFactor, scaleFactor);  */



    $User.Client.PC&&$User.HTTP?( 
	    (oS.AutoSun=Math.floor(getCookie('JSPVZAutoSun')))&&($('cAutoSun').checked=false),
	    (oS.Silence=Math.floor(getCookie('JSPVZSilence')))&&($('cSilence').checked=false)
    ):(	    oS.AutoSun=1,$('cAutoSun').checked=false,
	    oS.Silence=0,$('cSilence').checked=false);
    InitGame();
    </script>
    <script>
		var CPlants=NewO({name:"Plants",HP:300,PKind:1,beAttackedPointL:20,CardGif:0,StaticGif:1,NormalGif:2,BookHandBack:0,canEat:1,zIndex:0,AudioArr:[],coolTime:7.5,CanSelect:1,canTrigger:1,Stature:0,Sleep:0,CanGrow:function(c,b,e){var a=b+"_"+e,d=oS.ArP;return d?oGd.$LF[b]==1?e>0&&e<d.ArC[1]&&!(oGd.$Crater[a]||oGd.$Tombstones[a]||c[1]):c[0]&&!c[1]:oGd.$LF[b]==1?!(e<1||e>9||oGd.$Crater[a]||oGd.$Tombstones[a]||c[1]):c[0]&&!c[1]},getHurt:function(e,c,b){var d=this,a=d.id;!(c%3)?(d.HP-=b)<1&&d.Die():d.Die()},GetDY:function(b,c,a){return a[0]?-21:-15},GetDX:function(){return-Math.floor(this.width*.5)},GetDBottom:function(){return this.height},Birth:function(d,c,h,a,m,n){var e=this,k=d+e.GetDX(),i=c+e.GetDY(h,a,m),l=e.prototype,g=i-e.height,b=e.id="P_"+Math.random(),j=e.zIndex+=3*h,f=NewEle(0,"div","position:absolute");NewImg(0,ShadowPNG,e.getShadow(e),f);NewImg(0,e.PicArr[e.NormalGif],"",f);e.pixelLeft=k;e.pixelRight=k+e.width;e.pixelTop=g;e.pixelBottom=g+e.GetDBottom();e.opacity=1;e.InitTrigger(e,b,e.R=h,e.C=a,e.AttackedLX=k+e.beAttackedPointL,e.AttackedRX=k+e.beAttackedPointR);$P[b]=e;$P.length+=1;e.BirthStyle(e,b,f,{left:k+"px",top:g+"px",zIndex:j},n);oGd.add(e,h+"_"+a+"_"+e.PKind);e.PrivateBirth(e,n)},getShadow:function(a){return"left:"+(a.width*.5-48)+"px;top:"+(a.height-22)+"px"},BirthStyle:function(c,d,b,a){EditEle(b,{id:d},a,EDPZ)},PrivateBirth:function(a){},getTriggerRange:function(a,b,c){return[[b,oS.W,0]]},getTriggerR:function(a){return[a,a]},InitTrigger:function(c,b,f,a,h,g){var j={},i=c.getTriggerR(f),e=i[0],d=i[1];do{oT.add(e,j[e]=c.getTriggerRange(e,h,g),b)}while(e++!=d);c.oTrigger=j},TriggerCheck:function(b,a){this.AttackCheck2(b)&&(this.canTrigger=0,this.CheckLoop(b.id,a))},CheckLoop:function(b,c){var a=this.id;this.NormalAttack(b);oSym.addTask(140,function(e,f,h){var g;(g=$P[e])&&g.AttackCheck1(f,h)},[a,b,c])},AttackCheck1:function(g,f){var b=this,c=b.oTrigger,a=$Z[g],h,e,k,j;if(a&&a.PZ&&(h=c[a.R])){k=a.ZX;e=h.length;while(e--){j=h[e];if(j[0]<=k&&j[1]>=k&&b.AttackCheck2(a)){b.CheckLoop(g,j[2]);return}}}b.canTrigger=1},AttackCheck2:function(a){return a.Altitude>0},PrivateDie:function(a){},BoomDie:function(){var a=this,b=a.id;a.oTrigger&&oT.delP(a);a.HP=0;delete $P[b];delete oGd.$[a.R+"_"+a.C+"_"+a.PKind];$P.length-=1;ClearChild($(b));a.PrivateDie(a)},Die:function(a){var b=this,c=b.id;b.oTrigger&&oT.delP(b);b.HP=0;delete $P[c];delete oGd.$[b.R+"_"+b.C+"_"+b.PKind];$P.length-=1;!a&&ClearChild($(c));b.PrivateDie(b)}}),oGraveBuster=InheritO(CPlants,{EName:"oGraveBuster",CName:"Grave Buster",width:99,height:106,beAttackedPointR:70,SunNum:75,BookHandBack:2.5,canEat:0,PicArr:["images/Card/Plants/GraveBuster.png","images/Plants/GraveBuster/0.gif","images/Plants/GraveBuster/GraveBuster.gif"+$Random+Math.random()],AudioArr:["gravebusterchomp"],CanGrow:function(b,a,d){var c=oS.ArP;return c?d>0&&d<c.ArC[1]&&(a+"_"+d in oGd.$Tombstones&&!b[1]):a+"_"+d in oGd.$Tombstones&&!b[1]},getShadow:function(a){return"left:"+(a.width*.5-48)+"px;top:"+a.height+"px"},BirthStyle:function(c,d,b,a){EditEle(b,{id:d},a,EDPZ)},GetDY:function(b,c,a){return-30},InitTrigger:function(){},Tooltip:"Eats Tombstones",Produce:'Bite to Eat。<p>Instructions:<font color="#FF0000">Single Use, Tombstones Only.</font><br>Features:<font color="#FF0000">Devour Tombstones.</font></p>',PrivateBirth:function(a){PlayAudio("gravebusterchomp");oSym.addTask(420,function(b){var e=$P[b],c,d,f;e&&(d=e.R,f=e.C,delete oGd.$Tombstones[c=d+"_"+f],e.Die(),ClearChild($("dTombstones"+c)),oS.StaticCard&&AppearSun(Math.floor(GetX(f)+Math.random()*41),GetY(d),25,0))},[a.id])}}),oLawnCleaner=InheritO(CPlants,{EName:"oLawnCleaner",CName:"Lawn Mower",width:71,height:57,beAttackedPointL:0,beAttackedPointR:71,SunNum:0,PicArr:["images/interface/LawnCleaner.png","images/interface/LawnCleaner1.png"],AudioArr:["lawnmower"],NormalGif:0,canEat:0,Stature:1,getShadow:function(a){return"left:"+(a.width*.5-38)+"px;top:"+(a.height-22)+"px"},getTriggerRange:function(a,b,c){return[[b,c,0]]},TriggerCheck:function(b,a){b.beAttacked&&b.Altitude>0&&(this.canTrigger=0,this.NormalAttack(this))},BoomDie:function(){},Tooltip:"Lawn Mower - Common",NormalAttack:function(a){PlayAudio(a.AudioArr[0]);(function(b,c,k,j,e,g){var d=oZ.getArZ(k,j,e),f=d.length,h;$(a.id).childNodes[1].src="images/interface/LawnCleaner1.png";while(f--){(h=d[f]).getCrushed(b)&&h.CrushDie()}k>c?b.Die():(b.pixelRight+=10,b.AttackedLX=k+=10,b.AttackedRX=j+=10,g.style.left=(b.pixelLeft+=10)+"px",oSym.addTask(1,arguments.callee,[b,c,k,j,e,g]),[this])})(a,oS.W,a.AttackedLX,a.AttackedRX,a.R,$(a.id))}}),oCleaner1=InheritO(oLawnCleaner,{EName:"oCleaner",CName:"firecrackers",width:80,height:80,beAttackedPointL:0,beAttackedPointR:57,SunNum:0,PicArr:["images/interface/BZ.png","images/Plants/Jalapeno/JalapenoAttack.gif"],Tooltip:"firecrackers",AudioArr:["jalapeno"]}),oCleaner=InheritO(oCleaner1,{EName:"oCleaner",NormalAttack:function(a){oSym.addTask(40,function(j){var h=$P[j];if(h){PlayAudio("jalapeno");var b=$(j),f=h.R,c=oZ.getArZ(100,oS.W,f),e=c.length,g=oGd.$Ice[f],d=oGd.$Crater;while(e--){c[e].getExplosion()}h.Die(1);EditEle(b.childNodes[1],{src:"images/Plants/Jalapeno/JalapenoAttack.gif"},{width:"755px",height:"131px",left:120-h.pixelLeft+"px",top:"-42px"});oSym.addTask(135,ClearChild,[b]);ClearChild($("dIceCar"+f));if(g){for(e=g[1];e<11;e++){delete d[f+"_"+e]}}}},[a.id])}}),oPoolCleaner=InheritO(oLawnCleaner,{EName:"oPoolCleaner",CName:"Pond Sweeper",width:47,height:64,beAttackedPointL:0,beAttackedPointR:47,SunNum:0,PicArr:["images/interface/PoolCleaner.png","images/interface/PoolCleaner1.png"],Tooltip:"Pond Sweeper",AudioArr:["pool_cleaner"],NormalAttack:function(a){PlayAudio(a.AudioArr[0]);(function(b,c,k,j,e,g){var d=oZ.getArZ(k,j,e),f=d.length,h;$(a.id).childNodes[1].src="images/interface/PoolCleaner1.png";while(f--){(h=d[f]).getCrushed(b)&&h.CrushDie()}k>c?b.Die():(b.pixelRight+=10,b.AttackedLX=k+=10,b.AttackedRX=j+=10,g.style.left=(b.pixelLeft+=10)+"px",oSym.addTask(1,arguments.callee,[b,c,k,j,e,g]),[this])})(a,oS.W,a.AttackedLX,a.AttackedRX,a.R,$(a.id))}}),oBrains=InheritO(CPlants,{EName:"oBrains",CName:"brain",width:32,height:31,beAttackedPointL:0,beAttackedPointR:32,SunNum:0,HP:1,PicArr:["images/interface/brain.png"],Tooltip:"delicious brains...",NormalGif:0,InitTrigger:function(){},PrivateBirth:function(a){a.PrivateDie=oS.BrainsNum?(a.DieStep=Math.floor(150/oS.BrainsNum),function(d){var c,b;AppearSun(Math.floor(GetX(d.C)-40+Math.random()*41),GetY(d.R),50,0);(b=--oS.BrainsNum)?(c=b*d.DieStep,$("imgFlagHead").style.left=c-11+"px",$("imgFlagMeterFull").style.clip="rect(0,157px,21px,"+c+"px)"):($("imgFlagHead").style.left="-1px",$("imgFlagMeterFull").style.clip="rect(0,157px,21px,0)",oP.FlagToEnd())}):function(b){GameOver()}},GetDX:function(){return-40}}),oStarfruit=InheritO(CPlants,{EName:"oStarfruit",CName:"Fruit",width:77,height:70,beAttackedPointR:57,SunNum:125,GetDY:function(b,c,a){return a[0]?-17:-10},PicArr:["images/Card/Plants/Starfruit.png","images/Plants/Starfruit/0.gif","images/Plants/Starfruit/Starfruit.gif","images/Plants/Starfruit/Star.gif"],Tooltip:"Shoots star fruit in five directions!",Produce:'Launches small fruit.<p>Power:<font color="#FF0000">Medium</font><br>Range:<font color="#FF0000">5-directions</font></p>',getTriggerRange:function(e,g,f){var a=this.R,b=GetY(a),c=oS.W,j=this.ArFlyTime,h=this.ArHitX,i,d=.5*(g+f);!j&&(j=this.ArFlyTime={},h=this.ArHitX={});switch(true){case e<a:j[e]=[(i=b-GetY(e))/5,i/3];h[e]=[d,d+i/3*4];return[[100,c,0]];case e==a:return[[100,g+25,4]];default:j[e]=[(i=GetY(e)-b)/5,i/3];h[e]=[d,d+i/3*4];return[[100,c,0]]}},AttackCheck2:function(l){var j=l.R;if(j==this.R){return l.Altitude>0}var q=0,t=l.AttackedLX,b=l.AttackedRX,e,g,d=this.ArFlyTime,c=this.ArHitX,s=d[j],r=c[j],f=l.WalkDirection?-1:1,k=false,m,p,n,h,a=l.Speed;while(q<s.length){h=a*s[q]*f*.1;e=Math.floor(t-h);g=Math.floor(b-h);p=r[0];n=r[1];if(e+20<p&&g-20>p||e<n&&g>n){k=true;break}++q}return k&&l.Altitude>0},getTriggerR:function(a){return[1,oS.R]},PrivateBirth:function(d){var c=d.pixelLeft+38,b=c-15,a=d.pixelTop+20;d.BulletEle=NewImg(0,"images/Plants/Starfruit/Star.gif","left:"+b+"px;top:"+a+"px;z-index:"+(d.zIndex+2))},PrivateDie:function(a){a.BulletEle=null},getHurt:function(d,b,a){var c=this;b!=3&&c.NormalAttack();(c.HP-=a)<1&&c.Die()},NormalAttack:function(){var g=this,f=g.pixelLeft+38,d=f-15,b=g.pixelTop+20,c=g.R,e=f+15,a=function(j,i,h){return j&&j.Altitude==1?(j.getPea(j,20,i),ClearChild(h),false):true};(function(h){oSym.addTask(15,function(j){var i=$(j);i&&SetVisible(i)},[h]);oSym.addTask(1,function(m,k,l,i,j){j(oZ.getZ1(m,k),4,i)&&((m-=5)<100?ClearChild(i):(i.style.left=(l-=5)+"px",oSym.addTask(1,arguments.callee,[m,k,l,i,j])))},[f,c,d,EditEle(g.BulletEle.cloneNode(false),{id:h},0,EDPZ),a])})("StarB"+Math.random());(function(h){oSym.addTask(15,function(j){var i=$(j);i&&SetVisible(i)},[h]);oSym.addTask(1,function(m,n,l,k,i,j){j(oZ.getRangeLeftZ(m,n,l),6,i)&&((k-=5)<-15?ClearChild(i):(i.style.top=k+"px",oSym.addTask(1,arguments.callee,[m,n,GetR(k+15),k,i,j])))},[d,e,c,b,EditEle(g.BulletEle.cloneNode(false),{id:h},0,EDPZ),a])})("StarB"+Math.random());(function(h){oSym.addTask(15,function(j){var i=$(j);i&&SetVisible(i)},[h]);oSym.addTask(1,function(m,n,l,k,i,j){j(oZ.getRangeLeftZ(m,n,l),2,i)&&((k+=5)>600?ClearChild(i):(i.style.top=k+"px",oSym.addTask(1,arguments.callee,[m,n,GetR(k+15),k,i,j])))},[d,e,c,b,EditEle(g.BulletEle.cloneNode(false),{id:h},0,EDPZ),a])})("StarB"+Math.random());(function(h){oSym.addTask(15,function(j){var i=$(j);i&&SetVisible(i)},[h]);oSym.addTask(1,function(n,l,m,k,i,j){j(oZ.getZ0(n,l),7,i)&&((n+=4)>900||(k-=3)<-15?ClearChild(i):(SetStyle(i,{left:(m+=4)+"px",top:k+"px"}),oSym.addTask(1,arguments.callee,[n,GetR(k+15),m,k,i,j])))},[f,c,d,b,EditEle(g.BulletEle.cloneNode(false),{id:h},0,EDPZ),a])})("StarB"+Math.random());(function(h){oSym.addTask(15,function(j){var i=$(j);i&&SetVisible(i)},[h]);oSym.addTask(1,function(n,l,m,k,i,j){j(oZ.getZ0(n,l),1,i)&&((n+=4)>900||(k+=3)>600?ClearChild(i):(SetStyle(i,{left:(m+=4)+"px",top:k+"px"}),oSym.addTask(1,arguments.callee,[n,GetR(k+15),m,k,i,j])))},[f,c,d,b,EditEle(g.BulletEle.cloneNode(false),{id:h},0,EDPZ),a])})("StarB"+Math.random())}}),oPeashooter=InheritO(CPlants,{EName:"oPeashooter",CName:"Pea Shooter",width:71,height:71,beAttackedPointR:51,SunNum:100,BKind:0,AudioArr:["splat1","splat2","splat3","plastichit","shieldhit","shieldhit2"],PicArr:["images/Card/Plants/Peashooter.png","images/Plants/Peashooter/0.gif","images/Plants/Peashooter/Peashooter.gif","images/Plants/PB00.gif","images/Plants/PeaBulletHit.gif"],Tooltip:"Shoots peas.",Produce:'Your first line of defense.<p>Power:<font color="#FF0000">Medium</font></p></font><br>',PrivateBirth:function(a){a.BulletEle=NewImg(0,a.PicArr[3],"left:"+(a.AttackedLX-40)+"px;top:"+(a.pixelTop+3)+"px;visibility:hidden;z-index:"+(a.zIndex+2))},PrivateDie:function(a){a.BulletEle=null},NormalAttack:function(){var a=this,b="PB"+Math.random();EditEle(a.BulletEle.cloneNode(false),{id:b},0,EDPZ);oSym.addTask(15,function(d){var c=$(d);c&&SetVisible(c)},[b]);oSym.addTask(1,function(f,j,h,c,n,i,m,k,o,g){var l,e=GetC(n),d=oZ["getZ"+c](n,i);m==0&&g[i+"_"+e]&&k!=e&&(PlayAudio("firepea"),m=1,h=40,k=e,j.src="images/Plants/PB"+m+c+".gif");d&&d.Altitude==1?(d[{"-1":"getSnowPea",0:"getPea",1:"getFirePea"}[m]](d,h,c),SetStyle(j,{left:o+28+"px"}).src=["images/Plants/PeaBulletHit.gif","images/Plants/PeaBulletHit2.gif"][m],oSym.addTask(10,ClearChild,[j])):(n+=l=!c?5:-5)<oS.W&&n>100?(j.style.left=(o+=l)+"px",oSym.addTask(1,arguments.callee,[f,j,h,c,n,i,m,k,o,g])):ClearChild(j)},[b,$(b),20,0,a.AttackedLX,a.R,0,0,a.AttackedLX-40,oGd.$Torch])}}),oLotusRoot=InheritO(oPeashooter,{EName:"oLotusRoot",CName:"Lotus Root",width:130,height:114,beAttackedPointR:70,SunNum:400,BookHandBack:4.9,coolTime:30,getShadow:function(a){return"display:none"},PicArr:["images/Card/Plants/LotusRoot.png","images/Plants/LotusRoot/0.gif","images/Plants/LotusRoot/Peashooter.gif","images/Plants/LotusRoot/Missile.png","images/Plants/LotusRoot/BulletHit.png"],Tooltip:"Fire high-powered rockets to inflict heavy damage on warships",Produce:'Fires high-powered rockets.<p>Power:<font color="#FF0000">Lethal</font></p></font><br>',CanGrow:function(c,b,d){var a=b+"_"+d;return!(d<1||d>9||oGd.$LF[b]-2||c[0]||c[1]||oGd.$Crater[a]||oGd.$Tombstones[a])},PrivateBirth:function(a){a.BulletEle=NewImg(0,a.PicArr[3],"left:"+(a.AttackedLX-40)+"px;top:"+(a.pixelTop+3)+"px;visibility:hidden;z-index:"+(a.zIndex+2))},PrivateDie:function(a){a.BulletEle=null},NormalAttack:function(){var a=this,b="PB"+Math.random();EditEle(a.BulletEle.cloneNode(false),{id:b},0,EDPZ);oSym.addTask(15,function(o){$(a.id).childNodes[1].src="images/Plants/LotusRoot/Peashooter.gif"},[this]);oSym.addTask(15,function(d){var c=$(d);c&&SetVisible(c)},[b]);oSym.addTask(1,function(f,j,h,c,n,i,m,k,o,g){var l,e=GetC(n),d=oZ["getZ"+c](n,i);m==0&&g[i+"_"+e]&&k!=e&&(PlayAudio("firepea"),m=1,h=40,k=e,j.src="images/Plants/LotusRoot/Missile.png");d&&d.Altitude==1?(d[{"-1":"getSnowPea",0:"getPea",1:"getFirePea"}[m]](d,h,c),SetStyle(j,{left:o+28+"px"}).src="images/Plants/LotusRoot/BulletHit.png",oSym.addTask(10,ClearChild,[j])):(n+=l=!c?5:-5)<oS.W&&n>100?(j.style.left=(o+=l)+"px",oSym.addTask(1,arguments.callee,[f,j,h,c,n,i,m,k,o,g])):ClearChild(j)},[b,$(b),500,0,a.AttackedLX,a.R,0,0,a.AttackedLX-40,oGd.$Torch])}}),oSnowPea=InheritO(oPeashooter,{EName:"oSnowPea",CName:"Snow Pea",SunNum:175,BKind:-1,PicArr:["images/Card/Plants/SnowPea.png","images/Plants/SnowPea/0.gif","images/Plants/SnowPea/SnowPea.gif","images/Plants/PB-10.gif","images/Plants/PeaBulletHit1.gif"],AudioArr:["frozen","splat1","splat2","splat3","shieldhit","shieldhit2","plastichit"],Tooltip:"Snow Pea deals damage and slows at the same time.",Produce:'Shoots Frost Peas at enemies.</font><br><p>Power:<font color="#FF0000">Medium - Freezes</font></p></font><br></font><br>',NormalAttack:function(){var a=this,b="PB"+Math.random();EditEle(a.BulletEle.cloneNode(false),{id:b},0,EDPZ);oSym.addTask(15,function(d){var c=$(d);c&&SetVisible(c)},[b]);oSym.addTask(1,function(f,j,h,c,n,i,m,k,o,g){var l,e=GetC(n),d=oZ["getZ"+c](n,i);m<1&&g[i+"_"+e]&&k!=e&&(PlayAudio("firepea"),++m&&(h=40),k=e,j.src="images/Plants/PB"+m+c+".gif");d&&d.Altitude==1?(d[{"-1":"getSnowPea",0:"getPea",1:"getFirePea"}[m]](d,h,c),SetStyle(j,{left:o+28+"px"}).src="images/Plants/PeaBulletHit1.gif",oSym.addTask(10,ClearChild,[j])):(n+=l=!c?5:-5)<oS.W&&n>100?(j.style.left=(o+=l)+"px",oSym.addTask(1,arguments.callee,[f,j,h,c,n,i,m,k,o,g])):ClearChild(j)},[b,$(b),30,0,a.AttackedLX,a.R,-1,0,a.AttackedLX-40,oGd.$Torch])}}),oSnowRepeater=InheritO(oSnowPea,{EName:"oSnowRepeater",CName:"Snow-peater",SunNum:250,PicArr:["images/Card/Plants/SnowRepeater.png","images/Plants/SnowRepeater/0.gif","images/Plants/SnowRepeater/SnowPea.gif","images/Plants/PB-10.gif","images/Plants/PeaBulletHit1.gif"],Tooltip:"Fires two bullets with a slowing effect.",Produce:'Fires two bullets with a slowing effect.<p>Power:<font color="#FF0000">Medium</font><br>Speed:<font color="#FF0000">Double</font></p>',NormalAttack1:oSnowPea.prototype.NormalAttack,NormalAttack:function(a){this.NormalAttack1();oSym.addTask(15,function(c){var b=$P[c];b&&b.NormalAttack1()},[this.id])}}),oRepeater=InheritO(oPeashooter,{EName:"oRepeater",CName:"Repeater",width:73,height:71,beAttackedPointR:53,SunNum:200,PicArr:["images/Card/Plants/Repeater.png","images/Plants/Repeater/0.gif","images/Plants/Repeater/Repeater.gif","images/Plants/PB00.gif","images/Plants/PeaBulletHit.gif"],AudioArr:["splat1","splat2","splat3","plastichit","shieldhit","shieldhit2"],Tooltip:"2 peas fire at once.",Produce:'Repeaters can fire two peas at once.<p>Power:<font color="#FF0000">Medium</font><br>Speed:<font color="#FF0000">Double</font></p>',NormalAttack1:oPeashooter.prototype.NormalAttack,NormalAttack:function(a){this.NormalAttack1();oSym.addTask(15,function(c){var b=$P[c];b&&b.NormalAttack1()},[this.id])}}),oThreepeater=InheritO(oPeashooter,{EName:"oThreepeater",CName:"Threepeater",width:73,height:80,beAttackedPointR:53,SunNum:325,PicArr:["images/Card/Plants/Threepeater.png","images/Plants/Threepeater/0.gif","images/Plants/Threepeater/Threepeater.gif","images/Plants/PB00.gif","images/Plants/PeaBulletHit.gif","images/Plants/PeaBulletHit2.gif"],AudioArr:["splat1","splat2","splat3","plastichit","shieldhit","shieldhit2"],Tooltip:"3 peas fire at once.",Produce:'Threepeaters can fire three peas at once.<p>Power:<font color="#FF0000">Small</font><br>Range:<font color="#FF0000">third line</font></p>',getTriggerR:function(a){return[a>2?a-1:1,a<oS.R?Number(a)+1:a]},PrivateBirth:function(f){var e=f.AttackedLX,d=e-40,a,c=f.oTrigger,b;f.BulletClass=[];f.BulletEle=[];for(b in c){f.BulletClass.push(NewO({X:e,R:b,D:0,Attack:20,Kind:0,ChangeC:0,pixelLeft:d,F:oGd.MB1}));f.BulletEle.push(NewImg(0,"images/Plants/PB00.gif","left:"+d+"px;top:"+(GetY(b)-50)+"px;visibility:hidden;z-index:"+(3*b+2)))}},PrivateDie:function(a){a.BulletEle.length=0},NormalAttack:function(){var a,c=this,d,b=0;for(a in c.oTrigger){EditEle(c.BulletEle[b++].cloneNode(false),{id:d="PB"+Math.random()},0,EDPZ);oSym.addTask(15,function(f){var e=$(f);e&&SetVisible(e)},[d]);oSym.addTask(1,function(h,l,j,e,p,k,o,m,q,i){var n,g=GetC(p),f=oZ["getZ"+e](p,k);o==0&&i[k+"_"+g]&&m!=g&&(PlayAudio("firepea"),o=1,j=40,m=g,l.src="images/Plants/PB"+o+e+".gif");f&&f.Altitude==1?(f[{"-1":"getSnowPea",0:"getPea",1:"getFirePea"}[o]](f,j,e),SetStyle(l,{left:q+28+"px"}).src=["images/Plants/PeaBulletHit.gif","images/Plants/PeaBulletHit2.gif"][o],oSym.addTask(10,ClearChild,[l])):(p+=n=!e?5:-5)<oS.W&&p>100?(l.style.left=(q+=n)+"px",oSym.addTask(1,arguments.callee,[h,l,j,e,p,k,o,m,q,i])):ClearChild(l)},[d,$(d),20,0,c.AttackedLX,a,0,0,c.AttackedLX-40,oGd.$Torch])}}}),oGatlingPea=InheritO(oPeashooter,{EName:"oGatlingPea",CName:"Gatling Pea",width:88,height:84,beAttackedPointR:68,SunNum:275,PicArr:["images/Card/Plants/GatlingPea.png","images/Plants/GatlingPea/0.gif","images/Plants/GatlingPea/GatlingPea.gif","images/Plants/PB00.gif","images/Plants/PeaBulletHit.gif"],AudioArr:["splat1","splat2","splat3","plastichit","shieldhit","shieldhit2"],Tooltip:"Fire four peas at once.<br>",Produce:'Gatling Pea can fire four peas at once.<p>Power:<font color="#FF0000">Medium</font><br>Speed: <font color="#FF0000">High',PrivateBirth:function(c){var b=c.AttackedLX,a=b-40;c.BulletClass=NewO({X:b,R:c.R,D:0,Attack:20,Kind:c.BKind,ChangeC:0,pixelLeft:a,F:oGd.MB1});c.BulletEle=NewImg(0,c.PicArr[3],"left:"+a+"px;top:"+(c.pixelTop+8)+"px;visibility:hidden;z-index:"+(c.zIndex+2))},CanGrow:function(c,b,f){var a=b+"_"+f,d=c[1],e=oS.ArP;return e?oGd.$LF[b]==1?f>0&&f<e.ArC[1]&&!(oGd.$Crater[a]||oGd.$Tombstones[a]||d):c[0]&&!d:d&&d.EName=="oRepeater"?1:oGd.$LF[b]==1?!(f<1||f>9||oGd.$Crater[a]||oGd.$Tombstones[a]||d):c[0]&&!d},NormalAttack1:oPeashooter.prototype.NormalAttack,NormalAttack:function(a){this.NormalAttack1();oSym.addTask(15,function(d,b){var c=$P[d];c&&c.NormalAttack1();--b&&oSym.addTask(15,arguments.callee,[d,b])},[this.id,3])}}),oSplitPea=InheritO(oPeashooter,{EName:"oSplitPea",CName:"Split Pea",width:92,height:72,beAttackedPointR:72,SunNum:125,PicArr:["images/Card/Plants/SplitPea.png","images/Plants/SplitPea/0.gif","images/Plants/SplitPea/SplitPea.gif","images/Plants/PB00.gif","images/Plants/PB01.gif","images/Plants/PeaBulletHit.gif"],AudioArr:["splat1","splat2","splat3","plastichit","shieldhit","shieldhit2"],Tooltip:"Launches Peas forward and backward.",Produce:'Split Pea launches peas in opposite directions.<p>Power:<font color="#FF0000">Medium</font><br>Range:<font color="#FF0000">Front and Back</font><br>Speed:<font color="#FF0000">Front: 1x, Back: 2x.</font></p>',GetDX:function(){return-55},getShadow:function(a){return"left:5px;top:"+(a.height-22)+"px"},getTriggerRange:function(a,b,c){return[[100,b+25,1],[b+26,oS.W,0]]},PrivateBirth:function(c){var b=c.PicArr,a="px;top:"+(c.pixelTop+3)+"px;visibility:hidden;z-index:"+(c.zIndex+2);c.BulletEle=[NewImg(0,b[3],"left:"+(c.AttackedLX-40)+a),NewImg(0,b[4],"left:"+(c.AttackedRX-16)+a)],c.aTri=[0,0]},PrivateDie:function(a){a.BulletEle.length=0},TriggerCheck:function(b,a){if(this.aTri[a]){return}if(this.AttackCheck2(b)){++this.aTri[a];this.aTri[0]&&this.aTri[1]&&(this.canTrigger=0);this.CheckLoop(b.id,a)}},AttackCheck1:function(b,f){var e=this,c=$Z[b],a;if(c&&c.PZ&&c.R==e.R){a=c.ZX>e.AttackedLX+25?0:1;f==a?e.AttackCheck2(c)?e.CheckLoop(b,f):--e.aTri[f]:(++e.aTri[a],--e.aTri[f])}else{--e.aTri[f]}e.canTrigger=e.aTri[0]&&e.aTri[1]?0:1},CheckLoop:function(a,b){this.NormalAttack(b);oSym.addTask(140,function(c,e,g){var f;(f=$P[c])&&f.AttackCheck1(e,g)},[this.id,a,b])},NormalAttack:function(c){var d=this,e,a=c?(oSym.addTask(15,function(f){$P[f]&&b(1)},[d.id]),d.AttackedRX-16):d.AttackedLX-40,b=function(){EditEle(d.BulletEle[c].cloneNode(false),{id:e="PB"+Math.random()},0,EDPZ);oSym.addTask(15,function(g){var f=$(g);f&&SetVisible(f)},[e]);oSym.addTask(1,function(i,m,k,f,q,l,p,n,r,j){var o,h=GetC(q),g=oZ["getZ"+f](q,l);p==0&&j[l+"_"+h]&&n!=h&&(PlayAudio("firepea"),p=1,k=40,n=h,m.src="images/Plants/PB"+p+f+".gif");g&&g.Altitude==1?(g[{"-1":"getSnowPea",0:"getPea",1:"getFirePea"}[p]](g,k,f),SetStyle(m,{left:r+28+"px"}).src=["images/Plants/PeaBulletHit.gif","images/Plants/PeaBulletHit2.gif"][m],oSym.addTask(10,ClearChild,[m])):(q+=o=!f?5:-5)<oS.W&&q>100?(m.style.left=(r+=o)+"px",oSym.addTask(1,arguments.callee,[i,m,k,f,q,l,p,n,r,j])):ClearChild(m)},[e,$(e),20,c,d.AttackedLX,d.R,0,0,a,oGd.$Torch])};b()}}),oSunFlower=InheritO(CPlants,{EName:"oSunFlower",CName:"Sun Flower",width:73,height:74,beAttackedPointR:53,SunNum:50,PicArr:["images/Card/Plants/SunFlower.png","images/Plants/SunFlower/0.gif","images/Plants/SunFlower/SunFlower1.gif","images/Plants/SunFlower/SunFlower.gif"],Tooltip:"Sunflower, the base crop that produces more sunlight for you.",Produce:'The cash crop that produces extra sunlight for you.<p>Yield:<font color="#FF0000">Medium</font></p>',BirthStyle:function(c,e,b,a){var d=b.childNodes[1];d.src="images/Plants/SunFlower/SunFlower.gif";d.style.clip="rect(0,auto,74px,0)";d.style.height="148px";EditEle(b,{id:e},a,EDPZ)},ChangePosition:function(c,a){var b=c.childNodes[1];a?SetStyle(b,{clip:"rect(74px,auto,auto,auto)",top:"-74px"}):SetStyle(b,{clip:"rect(auto,auto,74px,auto)",top:0})},PrivateBirth:function(a){oS.ProduceSun?oSym.addTask(500,function(d,c,b){$P[d]&&(a.ChangePosition($(d),1),oSym.addTask(100,function(h,g,f,e){$P[h]&&(AppearSun(Math.floor(g+Math.random()*41),f,50,0),oSym.addTask(100,function(i){$P[i]&&a.ChangePosition($(i),0)},[h]),oSym.addTask(2400,e,[h,g,f]))},[d,c,b,arguments.callee]))},[a.id,GetX(a.C)-40,GetY(a.R)]):a.getHurt=function(f,c,b){var e=this;switch(c){case 0:var d=e.HP-=b;!(d%100)&&(AppearSun(Math.floor(GetX(e.C)-40+Math.random()*41),GetY(e.R),25,0),oSym.addTask(50,function(h,g){AppearSun(Math.floor(GetX(h)-40+Math.random()*41),GetY(g),25,0)},[e.C,e.R]),d<1?e.Die():oSym.addTask(50,function(h,g){AppearSun(Math.floor(GetX(h)-40+Math.random()*41),GetY(g),25,0)},[e.C,e.R]));break;case 3:(e.HP-=b)<1&&e.Die();break;default:e.Die(1)}}},InitTrigger:function(){}}),oTwinSunflower=InheritO(oSunFlower,{EName:"oTwinSunflower",CName:"Twin Flower",width:83,height:84,beAttackedPointR:63,SunNum:150,PicArr:["images/Card/Plants/TwinSunflower.png","images/Plants/TwinSunflower/0.gif","images/Plants/TwinSunflower/TwinSunflower1.gif","images/Plants/TwinSunflower/TwinSunflower.gif"],Tooltip:"Double the Yield of a sunflower.<br>",Produce:'Double the Yield of a sunflower.<p>Yield:<font color="#FF0000">Double<br>Can be planted on sunflowers.</font></p>',CanGrow:function(c,b,f){var a=b+"_"+f,d=c[1],e=oS.ArP;return e?oGd.$LF[b]==1?f>0&&f<e.ArC[1]&&!(oGd.$Crater[a]||oGd.$Tombstones[a]||d):c[0]&&!d:d&&d.EName=="oSunFlower"?1:oGd.$LF[b]==1?!(f<1||f>9||oGd.$Crater[a]||oGd.$Tombstones[a]||d):c[0]&&!d},BirthStyle:function(c,e,b,a){var d=b.childNodes[1];d.src="images/Plants/TwinSunflower/TwinSunflower.gif";d.style.clip="rect(0,auto,84px,0)";d.style.height="168px";EditEle(b,{id:e},a,EDPZ)},ChangePosition:function(c,a){var b=c.childNodes[1];a?SetStyle(b,{clip:"rect(84px,auto,auto,auto)",top:"-84px"}):SetStyle(b,{clip:"rect(auto,auto,84px,auto)",top:0})},PrivateBirth:function(a){var b=GetX(a.C);oSym.addTask(500,function(f,d,c,e){$P[f]&&(a.ChangePosition($(f),1),oSym.addTask(100,function(k,h,g,j,i){AppearSun(Math.floor(h+Math.random()*21),j,50,0),AppearSun(Math.floor(g+Math.random()*21),j,50,0),oSym.addTask(100,function(l){$P[l]&&a.ChangePosition($(l),0)},[k]),oSym.addTask(2400,i,[k,h,g,j])},[f,d,c,e,arguments.callee]))},[a.id,b-40,b-20,GetY(a.R)])}}),oPumpkinHead=InheritO(CPlants,{EName:"oPumpkinHead",CName:"Pumpkin Head",width:97,height:67,beAttackedPointL:15,beAttackedPointR:82,SunNum:125,PKind:2,HP:4e3,coolTime:30,zIndex:1,PicArr:["images/Card/Plants/PumpkinHead.png","images/Plants/PumpkinHead/0.gif","images/Plants/PumpkinHead/PumpkinHead.gif","images/Plants/PumpkinHead/PumpkinHead1.gif","images/Plants/PumpkinHead/PumpkinHead2.gif","images/Plants/PumpkinHead/pumpkin_damage1.gif","images/Plants/PumpkinHead/pumpkin_damage2.gif","images/Plants/PumpkinHead/Pumpkin_back.gif"],Tooltip:"A pumpkin head that can protect other plants with its husk.",Produce:'Protects other plants with its husk.<p>Toughness:<font color="#FF0000">High</font><br>Features:<font color="#FF0000">It can be planted on other plants.</font></p>',CanGrow:function(c,b,d){var a=b+"_"+d;return c[2]?1:oGd.$LF[b]==1?!(d<1||d>9||oGd.$Crater[a]||oGd.$Tombstones[a]):c[0]},GetDY:function(b,c,a){return a[0]?-12:-5},HurtStatus:0,getHurt:function(e,c,b){var d=this,f=d.id,a=$(f);switch(true){case c&&c<3:d.Die(1);break;case(d.HP-=b)<1:d.Die();break;case d.HP<1334:d.HurtStatus<2&&(d.HurtStatus=2,a.childNodes[1].src="images/Plants/PumpkinHead/pumpkin_damage2.gif");break;case d.HP<2667:d.HurtStatus<1&&(d.HurtStatus=1,a.childNodes[1].src="images/Plants/PumpkinHead/pumpkin_damage1.gif",$(f+"_2").src="images/Plants/PumpkinHead/Pumpkin_back.gif")}},InitTrigger:function(){},BirthStyle:function(c,d,b,a){b.childNodes[1].src="images/Plants/PumpkinHead/PumpkinHead1.gif";EditEle(b,{id:d},a,EDPZ);NewImg(d+"_2","images/Plants/PumpkinHead/PumpkinHead2.gif","left:"+c.pixelLeft+"px;top:"+c.pixelTop+"px;z-index:"+(c.zIndex-2),EDPZ)},PrivateDie:function(a){ClearChild($(a.id+"_2"))}}),oFlowerPot=InheritO(CPlants,{EName:"oFlowerPot",CName:"Flower Pot",width:72,height:68,beAttackedPointR:52,SunNum:25,BookHandBack:6,HP:1e3,PicArr:["images/Card/Plants/FlowerPot.png","images/Plants/FlowerPot/0.gif","images/Plants/FlowerPot/FlowerPot.gif"],PKind:0,Stature:-1,GetDY:function(b,c,a){return 6},CanGrow:function(e,d,f){var c=d+"_"+f,b=oGd.$LF[d],a=f<1||f>9;return b%2?b<3?!(a||e[1]||e[2]||e[0]||oGd.$Crater[c]||oGd.$Tombstones[c]):!(a||e[0]||oGd.$Crater[c]):0},Tooltip:"Plants can be grown on the roof.",Produce:'Plants can be grown on the roof.<p>Features:<font color="#FF0000">Allows you to grow on the roof.</font></p>',InitTrigger:function(){}}),oCFlowerPot=InheritO(oFlowerPot,{EName:"oCFlowerPot",PicArr:["images/Card/Plants/CFlowerPot.png","images/Plants/FlowerPot/C/0.gif","images/Plants/FlowerPot/C/CFlowerPot.gif"],Produce:"Allows plants to grow on tiled terrain</font></p>"}),oLilyPad=InheritO(oFlowerPot,{BookHandBack:4.9,Stature:-1,EName:"oLilyPad",CName:"Lily Pad",width:79,height:58,beAttackedPointR:59,HP:1e3,PicArr:["images/Card/Plants/LilyPad.png","images/Plants/LilyPad/0.gif","images/Plants/LilyPad/LilyPad.gif"],getShadow:function(a){return"left:-8px;top:25px"},CanGrow:function(c,b,d){var a=b+"_"+d;return!(d<1||d>9||oGd.$LF[b]-2||c[0]||c[1]||oGd.$Crater[a]||oGd.$Tombstones[a])},Tooltip:"Allows you to grow non-aquatic plants on it.",Produce:'Allows you to grow non-aquatic plants on it.<p>Features:<font color="#FF0000">Non-aquatic plants can be planted on it.<br>Must be planted in water.</font></p>'}),oLilyPad1=InheritO(oLilyPad,{EName:"oLilyPad1"}),oPotatoMine=InheritO(CPlants,{EName:"oPotatoMine",CName:"Potato Mine",width:75,height:55,beAttackedPointR:55,SunNum:25,coolTime:30,Stature:-1,HP:1e3,CanGrow:function(c,b,e){var a=b+"_"+e,d=oS.ArP;return d?oGd.$LF[b]==1?e>0&&e<d.ArC[1]&&!(oGd.$Crater[a]||oGd.$Tombstones[a]||c[1]):c[0]&&!c[1]:oGd.$LF[b]==1?!(e<1||e>9||oGd.$Crater[a]||oGd.$Tombstones[a]||c[1]):c[0]&&!c[1]},PicArr:["images/Card/Plants/PotatoMine.png","images/Plants/PotatoMine/0.gif","images/Plants/PotatoMine/PotatoMine.gif","images/Plants/PotatoMine/PotatoMineNotReady.gif","images/Plants/PotatoMine/PotatoMine_mashed.gif","images/Plants/PotatoMine/ExplosionSpudow.gif"],Tooltip:"Explodes on contact with enemies.<br>Takes time to set.",Produce:'Explodes on contact with enemies.</font><br><p>Power:<font color="FF0000">Large</font><br>Range:<font color="#FF0000">Close Range</font><br>Instructions:<font color="#FF0000">Some preparation time is required.。</font></p>',Status:0,AudioArr:["potato_mine"],canTrigger:0,BirthStyle:function(d,e,c,b,a){c.childNodes[1].src=!a?"images/Plants/PotatoMine/PotatoMineNotReady.gif":(~function(){d.Status=1;d.canTrigger=1;d.getHurt=d.getHurt2}(),"images/Plants/PotatoMine/PotatoMine.gif");EditEle(c,{id:e},b,EDPZ)},getHurt2:function(d,b,a){var c=this;b>2?(c.HP-=a)<1&&c.Die():c.NormalAttack(c.pixelLeft,c.pixelRight,c.R)},PrivateBirth:function(b,a){!a&&oSym.addTask(1500,function(d){var c=$P[d];c&&($(d).childNodes[1].src="images/Plants/PotatoMine/PotatoMine.gif",c.Status=1,c.canTrigger=1,c.getHurt=c.getHurt2)},[b.id])},getTriggerRange:function(a,b,c){return[[b,c,0]]},TriggerCheck:function(e,c){var a=this.R,b=this.C;e.beAttacked&&e.Altitude<2&&!oGd.$[a+"_"+b+"_2"]&&this.NormalAttack(this.pixelLeft,this.pixelRight,this.R)},NormalAttack:function(j,h,e){var g=this,b=g.id,d=$(b),c=oZ.getArZ(j,h,e),f=c.length,a;while(f--){(a=c[f]).Altitude<2&&a.getThump()}g.Die(1);PlayAudio("potato_mine");EditEle(d.childNodes[1],{src:"images/Plants/PotatoMine/PotatoMine_mashed.gif"},{width:"132px",height:"93px",left:"-40px",top:"-20px"});NewImg(0,"images/Plants/PotatoMine/ExplosionSpudow.gif","left:-90px;top:-40px",d);oSym.addTask(200,function(i){ClearChild(i.lastChild);oSym.addTask(100,ClearChild,[i])},[d])}}),oTorchwood=InheritO(CPlants,{EName:"oTorchwood",CName:"Torch Wood",width:73,height:83,beAttackedPointR:53,SunNum:175,PicArr:["images/Card/Plants/Torchwood.png","images/Plants/Torchwood/0.gif","images/Plants/Torchwood/Torchwood.gif","images/Plants/PB00.gif","images/Plants/PB01.gif","images/Plants/PB10.gif","images/Plants/PB11.gif","images/Plants/Torchwood/SputteringFire.gif"],AudioArr:["firepea","ignite","ignite2"],Tooltip:"Turn peas that pass through into fireballs.  2x damage.",Produce:'Turn peas that pass through into fireballs.</font><br>2x Damage.<p>Features:<font color="#FF0000"></font> Increases damage by 2x.<br>',PrivateBirth:function(c){var a=c.R,b=c.C;oGd.$Torch[a+"_"+b]=c.id;oS.HaveFog&&oGd.GatherFog(a,b,1,1,0)},InitTrigger:function(){},PrivateDie:function(c){var a=c.R,b=c.C;delete oGd.$Torch[a+"_"+b];oS.HaveFog&&oGd.GatherFog(a,b,1,1,1)},NormalAttack:function(){var a=this,b="PB"+Math.random();EditEle(a.BulletEle.cloneNode(false),{id:b},0,EDPZ);oSym.addTask(15,function(d){var c=$(d);c&&SetVisible(c)},[b]);oSym.addTask(1,function(f,j,h,c,n,i,m,k,o,g){var l,e=GetC(n),d=oZ["getZ"+c](n,i);m==0&&g[i+"_"+e]&&k!=e&&(PlayAudio("firepea"),m=1,h=40,k=e,j.src="images/Plants/PB"+m+c+".gif");d&&d.Altitude==1?(d[{"-1":"getSnowPea",0:"getPea",1:"getFirePea"}[m]](d,h,c),SetStyle(j,{left:o+28+"px"}).src="images/Plants/PeaBulletHit2.gif",oSym.addTask(75,ClearChild,[j])):(n+=l=!c?5:-5)<oS.W&&n>100?(j.style.left=(o+=l)+"px",oSym.addTask(1,arguments.callee,[f,j,h,c,n,i,m,k,o,g])):ClearChild(j)},[b,$(b),20,0,a.AttackedLX,a.R,0,0,a.AttackedLX-40,oGd.$Torch])}}),oWallNut=InheritO(CPlants,{EName:"oWallNut",CName:"Wall Nut",width:65,height:73,beAttackedPointR:45,SunNum:50,coolTime:15.5,HP:4e3,PicArr:["images/Card/Plants/WallNut.png","images/Plants/WallNut/0.gif","images/Plants/WallNut/WallNut.gif","images/Plants/WallNut/Wallnut_cracked1.gif","images/Plants/WallNut/Wallnut_cracked2.gif"],Tooltip:"Has a shell hard enough to protect other plants",Produce:'Protect important plants.</font><br><p>Toughness:<font color="FF0000">High</font></p>',CanGrow:function(c,b,f){var a=b+"_"+f,d=c[1],e=oS.ArP;return e?oGd.$LF[b]==1?f>0&&f<e.ArC[1]&&!(oGd.$Crater[a]||oGd.$Tombstones[a]||d):c[0]&&!d:d&&d.EName=="oWallNut"?1:oGd.$LF[b]==1?!(f<1||f>9||oGd.$Crater[a]||oGd.$Tombstones[a]||d):c[0]&&!d},InitTrigger:function(){},HurtStatus:0,getHurt:function(e,b,a){var c=this,d=$(c.id).childNodes[1];!(b%3)?(c.HP-=a)<1?c.Die():c.HP<1334?c.HurtStatus<2&&(c.HurtStatus=2,d.src="images/Plants/WallNut/Wallnut_cracked2.gif"):c.HP<2667&&c.HurtStatus<1&&(c.HurtStatus=1,d.src="images/Plants/WallNut/Wallnut_cracked1.gif"):c.Die(1)}}),oLing=InheritO(oWallNut,{EName:"oLing",CName:"Ling",width:90,height:72,beAttackedPointL:15,beAttackedPointR:80,BookHandBack:4.9,HP:1e4,getShadow:function(a){return"display:none"},PicArr:["images/Card/Plants/Ling.png","images/Plants/Ling/0.gif","images/Plants/Ling/Ling.gif"],Tooltip:"Ling is the first obstacle in the water.",Produce:'First water obstacle.<p>Toughness:<font color="FF0000">High</font></p>',CanGrow:function(c,b,d){var a=b+"_"+d;return!(d<1||d>9||oGd.$LF[b]-2||c[0]||c[1]||oGd.$Crater[a]||oGd.$Tombstones[a])},getHurt:function(e,b,a){var c=this,d=$(c.id).childNodes[1];!(b%3)?(c.HP-=a)<1?c.Die():c.HP<1334?c.HurtStatus<2&&(c.HurtStatus=2,d.src="images/Plants/Ling/Ling.gif"):c.HP<2667&&c.HurtStatus<1&&(c.HurtStatus=1,d.src="images/Plants/Ling/Ling.gif"):c.Die(1)}}),oNutBowling=InheritO(CPlants,{EName:"oNutBowling",CName:"Nut Bowling",width:71,height:71,beAttackedPointL:10,beAttackedPointR:61,SunNum:0,HP:4e3,coolTime:0,canEat:0,Tooltip:"",PicArr:["images/Card/Plants/WallNut.png","images/Plants/WallNut/0.gif","images/Plants/WallNut/WallNutRoll.gif"],AudioArr:["bowling","bowlingimpact","bowlingimpact2"],Produce:"",CanAttack:1,InitTrigger:function(){},getHurt:function(){},CanGrow:function(d,e,f){return true},NormalAttack:null,PrivateBirth:function(c){var d=$(c.id);PlayAudio("bowling");(function(z,y,q,r,p,x,e,g,b){var a=z.R,l=z.C,A,u,s,v=0,w,i,t=false;if(z.CanAttack&&(A=oZ.getZ0(r,a))&&A.getCrushed(z)){u=A.id;PlayAudio(["bowlingimpact","bowlingimpact2"][Math.floor(Math.random()*2)]);switch(A.Ornaments){case 0:A.NormalDie();break;case 1:A.getHit0(A,Math.min(A.OrnHP,900),0);break;default:z.side?A.Normaldie():A.CheckOrnHP(A,u,A.OrnHP,400,A.PicArr,0,0,0)}z.CanAttack=0;switch(a){case oS.R:e=-1;break;case 1:e=1;break;default:switch(e){case 1:e=-1;break;case-1:e=1;break;default:e=Math.random()>.5?1:-1}}oSym.addTask(1,arguments.callee,[z,y,z.AttackedLX+20,z.AttackedRX+20,z.pixelLeft+20,x,e,g,b])}else{switch(e){case 1:z.pixelBottom+2>b&&(e=-1);break;case-1:z.pixelBottom-2<g&&(e=1);break}q>y?z.Die():(i=GetC(z.pixelRight+=2),z.AttackedLX=q+=2,z.AttackedRX=r+=2,w=GetR(z.pixelBottom+=e*2),SetStyle(x,{left:(z.pixelLeft=p+=2)+"px",top:(z.pixelTop+=e*2)+"px"}),w!=a&&(z.R=w,t=true,!z.CanAttack&&(z.CanAttack=1)),i!=l&&(z.C=i,t=true),t&&(oGd.del({R:a,C:l,PKind:1}),oGd.add(z,w+"_"+i+"_1")),oSym.addTask(1,arguments.callee,[z,y,z.AttackedLX,z.AttackedRX,z.pixelLeft,x,e,g,b]))}})(c,oS.W,c.AttackedLX,c.AttackedRX,c.pixelLeft,d,0,GetY1Y2(1)[0],600)}}),oHugeNutBowling=InheritO(oNutBowling,{EName:"oHugeNutBowling",CName:"Huge Nut Bowling",width:142,height:142,beAttackedPointL:5,beAttackedPointR:137,HP:8e3,Stature:1,PicArr:["images/Card/Plants/HugeWallNut.png","images/Plants/WallNut/2.gif","images/Plants/WallNut/HugeWallNutRoll.gif"],PrivateBirth:function(a){PlayAudio("bowling");(function(b,c,n,m,e,g){var d=oZ.getArZ(n,m,e),f=d.length,k,j,l=b.R,h=b.C;while(f--){(k=d[f]).getCrushed(b)&&k.CrushDie()}n>c?b.Die():(j=GetC(b.pixelRight+=2),b.AttackedLX=n+=2,b.AttackedRX=m+=2,g.style.left=(b.pixelLeft+=2)+"px",j!=h&&(b.C=j,oGd.del({R:l,C:h,PKind:1}),oGd.add(b,l+"_"+j+"_1")),oSym.addTask(1,arguments.callee,[b,c,n,m,e,g]))})(a,oS.W,a.AttackedLX,a.AttackedRX,a.R,$(a.id))}}),oBoomNutBowling=InheritO(oNutBowling,{EName:"oBoomNutBowling",CName:"Boom Nut Bowling",PicArr:["images/Card/Plants/BoomWallNut.png","images/Plants/WallNut/1.gif","images/Plants/WallNut/BoomWallNutRoll.gif","images/Plants/CherryBomb/Boom.gif"],AudioArr:["cherrybomb","bowling"],PrivateBirth:function(a){PlayAudio("bowling");(function(s,q,b,c,m){var v=s.R,p=s.C,t,l;if((t=oZ.getZ0(c,v))&&t.getCrushed(s)){var j=v>2?v-1:1,g=v<oS.R?v+1:oS.R,u=s.pixelLeft-80,r=s.pixelLeft+160,e,k;PlayAudio("cherrybomb");do{k=(e=oZ.getArZ(u,r,j)).length;while(k--){e[k].ExplosionDie()}}while(j++<g);s.Die(1);EditEle(m.childNodes[1],{src:"images/Plants/CherryBomb/Boom.gif"},{width:"213px",height:"160px",left:"-50px",top:"-30px"});oSym.addTask(65,ClearChild,[m])}else{b>q?s.Die():(l=GetC(s.pixelRight+=2),s.AttackedLX=b+=2,s.AttackedRX=c+=2,SetStyle(m,{left:(s.pixelLeft+=2)+"px"}),l!=p&&(s.C=l,oGd.del({R:v,C:p,PKind:1}),oGd.add(s,v+"_"+l+"_1")),oSym.addTask(1,arguments.callee,[s,q,s.AttackedLX,s.AttackedRX,m]))}})(a,oS.W,a.AttackedLX,a.AttackedRX,$(a.id))}}),oTallNut=InheritO(oWallNut,{EName:"oTallNut",CName:"Tall Nut",width:83,height:119,beAttackedPointR:63,SunNum:125,HP:8e3,coolTime:24.5,PicArr:["images/Card/Plants/TallNut.png","images/Plants/TallNut/0.gif","images/Plants/TallNut/TallNut.gif","images/Plants/TallNut/TallnutCracked1.gif","images/Plants/TallNut/TallnutCracked2.gif"],Tooltip:"A solid barrier that cannot be jumped over.",Produce:'Can not be jumped.<p>Toughness:<font color="#FF0000">Very High</font><br>Special：<font color="#FF0000">Counters pole vaulters.</font></p>',CanGrow:function(c,b,f){var a=b+"_"+f,d=c[1],e=oS.ArP;return e?oGd.$LF[b]==1?f>0&&f<e.ArC[1]&&!(oGd.$Crater[a]||oGd.$Tombstones[a]||d):c[0]&&!d:d&&d.EName=="oTallNut"?1:oGd.$LF[b]==1?!(f<1||f>9||oGd.$Crater[a]||oGd.$Tombstones[a]||d):c[0]&&!d},Stature:1,getHurt:function(e,b,a){var c=this,d=$(c.id).childNodes[1];!(b%3)?(c.HP-=a)<1?c.Die():c.HP<2667?c.HurtStatus<2&&(c.HurtStatus=2,d.src="images/Plants/TallNut/TallnutCracked2.gif"):c.HP<5333&&c.HurtStatus<1&&(c.HurtStatus=1,d.src="images/Plants/TallNut/TallnutCracked1.gif"):c.Die(1)}}),oTenManNut=InheritO(CPlants,{EName:"oTenManNut",CName:"Angry Nut",width:155,height:130,beAttackedPointL:63,beAttackedPointR:75,SunNum:150,HP:11e3,Stature:1,canEat:1,PicArr:["images/Card/Plants/TenManNut.png","images/Plants/TenManNut/0.gif","images/Plants/TenManNut/Spikeweed.gif"],Attack:40,ArZ:{},Tooltip:"Can attack zombies at close range.",Produce:'Nut that fights back.<p>Power:<font color="#FF0000">Small</font><br>Strength: <font color="#FF0000">Very High</font></p>',getHurt:function(f,c,b){var e=this,d,a=$(e.id).childNodes[1];switch(c){case 2:f.flatTire();break;case 1:f.getHit2(f,40,0)}switch(true){case(d=e.HP-=b)<1:e.Die();break;case d<101:a.src="images/Plants/TenManNut/Spikeweed.gif";break;case d<201:a.src="images/Plants/TenManNut/Spikeweed.gif"}},NormalAttack:function(b,a){var c=$Z[b];c.getHit2(c,this.Attack,0)},getTriggerRange:function(a,b,c){return[[this.pixelLeft-80,this.pixelRight+80,0]]},TriggerCheck:function(i,h){var c=i.id,g=this.ArZ,a,b,e,f;i.PZ&&!g[c]&&(a=i.AttackedLX,b=i.AttackedRX,e=this.AttackedLX,f=this.AttackedRX,a<=f&&a>=e||b<=f&&b>=e||a<=e&&b>=f)&&this.AttackCheck2(i)&&(g[c]=1,this.NormalAttack(c),oSym.addTask(100,function(d,j){var k=$P[d];k&&delete k.ArZ[j]},[this.id,c]))},AttackCheck2:function(a){return a.Altitude==1&&a.beAttacked}}),oCherryBomb=InheritO(CPlants,{EName:"oCherryBomb",CName:"Cherry Bomb",width:112,height:81,beAttackedPointR:92,SunNum:150,coolTime:20,PicArr:["images/Card/Plants/CherryBomb.png","images/Plants/CherryBomb/0.gif","images/Plants/CherryBomb/CherryBomb.gif","images/Plants/CherryBomb/Boom.gif"+$Random],AudioArr:["cherrybomb"],Tooltip:"Blow up all zombies in a certain area",Produce:'Blow up all zombies in the immediate area</font><br>Detonate immediately. Place directly on zombies.</font><br><p>Power:<font color="#FF0000">Large</font><br>Range:<font color="#FF0000"</font>Medium<br><font color="#FF0000"></font></p>',InitTrigger:function(){},getHurt:function(){},PrivateBirth:function(a){oSym.addTask(40,function(b){var c=$P[b];if(c){PlayAudio("cherrybomb");var f=$(b),j=c.R,g=j>2?j-1:1,e=j<oS.R?j+1:oS.R,l=c.pixelLeft-80,k=c.pixelLeft+160,d,h;do{h=(d=oZ.getArZ(l,k,g)).length;while(h--){d[h].getExplosion()}}while(g++<e);c.Die(1);EditEle(f.childNodes[1],{src:c.PicArr[3]+Math.random()},{width:"213px",height:"196px",left:"-50px",top:"-37px"});oSym.addTask(120,ClearChild,[f])}},[a.id])}}),oJalapeno=InheritO(oCherryBomb,{EName:"oJalapeno",CName:"Jalapeno",width:68,height:89,SunNum:125,beAttackedPointR:48,PicArr:["images/Card/Plants/Jalapeno.png","images/Plants/Jalapeno/0.gif","images/Plants/Jalapeno/Jalapeno.gif","images/Plants/Jalapeno/JalapenoAttack.gif"],AudioArr:["jalapeno"],Tooltip:"Eliminate the entire row of enemies.",Produce:'Scroch a whole row.<p>Power:<font color="#FF0000">Lethal</font><br>Range:<font color="#FF0000">Straight Line</font><br>Usage:<font color="#FF0000">Single Use, effective immediately.</font></p>',PrivateBirth:function(a){oSym.addTask(40,function(j){var h=$P[j];if(h){PlayAudio("jalapeno");var b=$(j),f=h.R,c=oZ.getArZ(100,oS.W,f),e=c.length,g=oGd.$Ice[f],d=oGd.$Crater;while(e--){c[e].getExplosion()}h.Die(1);EditEle(b.childNodes[1],{src:"images/Plants/Jalapeno/JalapenoAttack.gif"},{width:"755px",height:"131px",left:120-h.pixelLeft+"px",top:"-42px"});oSym.addTask(135,ClearChild,[b]);ClearChild($("dIceCar"+f));if(g){for(e=g[1];e<11;e++){delete d[f+"_"+e]}}}},[a.id])}}),oSpikeweed=InheritO(CPlants,{EName:"oSpikeweed",CName:"Spike Weed",width:85,height:35,beAttackedPointL:10,beAttackedPointR:75,SunNum:100,Stature:-1,canEat:0,PicArr:["images/Card/Plants/Spikeweed.png","images/Plants/Spikeweed/0.gif","images/Plants/Spikeweed/Spikeweed.gif"],Attack:20,ArZ:{},Tooltip:"Punctures tires, damages zombies walking on them.",Produce:'Punctures tires, damages zombies walking on them.</font><br><p>Power:<font color="#FF0000">Small</font><br>Range:<font color="#FF0000">Immediate Area</font><br>Features:<font color="#FF0000">Wont be eaten by zombies.</font></p>',CanGrow:function(c,b,e){var a=b+"_"+e,d=oS.ArP;return d?e>0&&e<d.ArC[1]&&oGd.$LF[b]==1&&!(c[1]||c[0]):!(e<1||e>9||oGd.$LF[b]-1||c[1]||c[0]||oGd.$Crater[a]||oGd.$Tombstones[a])},getHurt:function(d,b,a){var c=this;switch(b){case 2:d.flatTire();c.Die();break;case 1:d.getHit2(d,20,0);c.Die();break;default:(c.HP-=a)<1&&c.Die()}},NormalAttack:function(b,a){var c=$Z[b];c.getHit2(c,this.Attack,0)},GetDY:function(b,c,a){return-2},getTriggerRange:function(a,b,c){return[[this.pixelLeft-80,this.pixelRight+80,0]]},TriggerCheck:function(i,h){var c=i.id,g=this.ArZ,a,b,e,f;i.PZ&&!g[c]&&(a=i.AttackedLX,b=i.AttackedRX,e=this.AttackedLX,f=this.AttackedRX,a<=f&&a>=e||b<=f&&b>=e||a<=e&&b>=f)&&this.AttackCheck2(i)&&(g[c]=1,this.NormalAttack(c),oSym.addTask(100,function(d,j){var k=$P[d];k&&delete k.ArZ[j]},[this.id,c]))},AttackCheck2:function(a){return a.Altitude==1&&a.beAttacked}}),oSpikerock=InheritO(oSpikeweed,{EName:"oSpikerock",CName:"Spike Rock",width:84,height:43,beAttackedPointL:10,beAttackedPointR:74,SunNum:125,PicArr:["images/Card/Plants/Spikerock.png","images/Plants/Spikerock/0.gif","images/Plants/Spikerock/Spikerock.gif","images/Plants/Spikerock/2.gif","images/Plants/Spikerock/3.gif"],Attack:40,Tooltip:"Can puncture multiple tires and damage zombies passing by.",Produce:'Can puncture multiple tires and damage zombies passing by.</font><br><p><font color="#FF0000">Can be planted on thorns.</font></p>',CanGrow:function(c,b,e){var a=b+"_"+e,d=oS.ArP;return d?e>0&&e<d.ArC[1]&&oGd.$LF[b]==1&&!(c[1]||c[0]):!(e<1||e>9||oGd.$LF[b]-1||c[1]||c[0]||oGd.$Crater[a]||oGd.$Tombstones[a])},GetDY:function(b,c,a){return 0},getHurt:function(f,c,b){var e=this,d,a=$(e.id).childNodes[1];switch(c){case 2:f.flatTire();break;case 1:f.getHit2(f,40,0)}switch(true){case(d=e.HP-=b)<1:e.Die();break;case d<101:a.src="images/Plants/Spikerock/3.gif";break;case d<201:a.src="images/Plants/Spikerock/2.gif"}}}),oGarlic=InheritO(CPlants,{EName:"oGarlic",CName:"Garlic",width:60,height:59,beAttackedPointR:40,SunNum:50,HP:400,PicArr:["images/Card/Plants/Garlic.png","images/Plants/Garlic/0.gif","images/Plants/Garlic/Garlic.gif","images/Plants/Garlic/Garlic_body2.gif","images/Plants/Garlic/Garlic_body3.gif"],Tooltip:"Drive zombies away.",Produce:'Drive zombies away.<p>Range:<font color="#FF0000">Immediate Area</font><br>Features:<font color="#FF0000">Change the path of the zombies</font></p>',CanGrow:function(c,b,f){var a=b+"_"+f,d=c[1],e=oS.ArP;return e?oGd.$LF[b]==1?f>0&&f<e.ArC[1]&&!(oGd.$Crater[a]||oGd.$Tombstones[a]||d):c[0]&&!d:d&&d.EName=="oGarlic"?1:oGd.$LF[b]==1?!(f<1||f>9||oGd.$Crater[a]||oGd.$Tombstones[a]||d):c[0]&&!d},InitTrigger:function(){},HurtStatus:0,getHurt:function(e,b,a){var c=this,d=$(c.id).childNodes[1];!(b%3)?(c.HP-=20)<1?c.Die():(e.ChangeR({R:c.R}),c.HP<134?c.HurtStatus<2&&(c.HurtStatus=2,d.src="images/Plants/Garlic/Garlic_body3.gif"):c.HP<267&&c.HurtStatus<1&&(c.HurtStatus=1,d.src="images/Plants/Garlic/Garlic_body2.gif")):c.Die(1)}}),oSquash=InheritO(CPlants,{EName:"oSquash",CName:"Squash",width:100,height:226,beAttackedPointR:67,SunNum:50,PicArr:["images/Card/Plants/Squash.png","images/Plants/Squash/0.gif","images/Plants/Squash/Squash.gif","images/Plants/Squash/SquashAttack.gif","images/Plants/Squash/SquashL.png","images/Plants/Squash/SquashR.png"],AudioArr:["squash_hmm","gargantuar_thump"],Tooltip:"Squash approaching zombies.",Produce:'Squash approaching zombies.<p>Power:<font color="#FF0000">Lethal</font><br>Range:<font color="#FF0000">Immediate Area</font><br>Usage:<font color="#FF0000">Single Use</font></p>',GetDY:function(b,c,a){return a[0]?-21:-10},getHurt:function(d,b,a){var c=this;b!=3?c.NormalAttack(c,d.id,d.ZX+d.Speed*4*(!d.WalkDirection?-1:1)-50):(c.HP-=a)<1&&c.Die()},getTriggerRange:function(a,b,c){return[[b-50,c+80,0]]},TriggerCheck:function(h,g,e){var c=h.ZX,b=this.id,a=$(b).childNodes[1],f=h.isAttacking;h.beAttacked&&h.Altitude>-1&&h.Altitude<2&&(f||!f&&c-this.AttackedRX<71)&&(PlayAudio("squash_hmm"),oT.$[this.R].splice(e,1),a.src=c>this.AttackedRX?"images/Plants/Squash/SquashR.png":"images/Plants/Squash/SquashL.png",oSym.addTask(100,function(d,j,i){var k=$P[d];k&&k.NormalAttack(k,h.id,i)},[b,h.id,h.ZX+h.Speed*4*(!h.WalkDirection?-1:1)-50]))},NormalAttack:function(d,c,b){var a=$(d.id),e=$Z[c];e&&(b=e.ZX+e.Speed*4*(!e.WalkDirection?-1:1)-50);a.childNodes[1].src="images/Plants/Squash/SquashAttack.gif"+$Random+Math.random();SetStyle(a,{left:b+"px"});d.Die(1);oSym.addTask(45,function(f,l,j){PlayAudio("gargantuar_thump");var g=oZ.getArZ(l,l+100,j),h=g.length,k;while(h--){(k=g[h]).Altitude>-1&&k.PZ&&k.Altitude<3&&k.getThump()}oSym.addTask(185,ClearChild,[f])},[a,b,d.R])}}),oChomper=InheritO(CPlants,{EName:"oChomper",CName:"Chomper",width:130,height:114,beAttackedPointR:70,SunNum:150,AudioArr:["bigchomp"],PicArr:["images/Card/Plants/Chomper.png","images/Plants/Chomper/0.gif","images/Plants/Chomper/Chomper.gif","images/Plants/Chomper/ChomperAttack.gif","images/Plants/Chomper/ChomperDigest.gif"],Tooltip:"Can swallow a zombie in one gulp, but is very fragile while chewing.",Produce:'Can swallow a zombie in one gulp, but is very fragile while chewing.<p>Power:<font color="#FF0000">Large</font><br>Range:<font color="#FF0000">Very Close</font><br>Features:<font color="#FF0000">Long digestion time.</font></p>',GetDX:function(){return-40},getShadow:function(a){return"top:"+(a.height-22)+"px"},getTriggerRange:function(a,b,c){return[[this.pixelLeft,c+80,0]]},TriggerCheck:function(a){this.AttackCheck2(a)&&(this.canTrigger=0,this.NormalAttack(this.id,a.id))},AttackCheck2:function(a){return a.Altitude==1&&a.beAttacked},NormalAttack:function(a,b){$(a).childNodes[1].src="images/Plants/Chomper/ChomperAttack.gif"+$Random+Math.random();oSym.addTask(70,function(c,d){PlayAudio("bigchomp");$P[c]&&oSym.addTask(18,function(e,f){var g=$P[e],h;g&&((h=$Z[f])&&h.beAttacked&&h.PZ?$(e).childNodes[1].src=h.getRaven(e)?(oSym.addTask(4200,function(i){var j=$P[i];j&&(j.canTrigger=1,$(i).childNodes[1].src="images/Plants/Chomper/Chomper.gif")},[e]),"images/Plants/Chomper/ChomperDigest.gif"):(g.canTrigger=1,"images/Plants/Chomper/Chomper.gif"):oSym.addTask(18,function(i){var j=$P[i];j&&(j.canTrigger=1,$(i).childNodes[1].src="images/Plants/Chomper/Chomper.gif")},[e]))},[c,d])},[a,b])}}),oBigChomper=InheritO(oChomper,{EName:"oBigChomper",CName:"Big Chomper",coolTime:15,PicArr:["images/Card/Plants/BigChomper.png","images/Plants/BigChomper/0.gif","images/Plants/BigChomper/Chomper.gif","images/Plants/BigChomper/ChomperAttack.gif","images/Plants/BigChomper/ChomperDigest.gif"],Tooltip:"Can swallow a zombie in one go, chewing speed is half of Small Chomper.",Produce:'Can swallow a zombie in one go, chewing speed is half of Small Chomper.<p>Power:<font color="#FF0000">Large</font><br>Range:<font color="#FF0000">Very Close</font><br>Features:<font color="#FF0000">Short chewing</font></p>',NormalAttack:function(a,b){$(a).childNodes[1].src="images/Plants/BigChomper/ChomperAttack.gif"+$Random+Math.random();oSym.addTask(70,function(c,d){PlayAudio("bigchomp");$P[c]&&oSym.addTask(9,function(e,f){var g=$P[e],h;g&&((h=$Z[f])&&h.beAttacked&&h.PZ?$(e).childNodes[1].src=h.getRaven(e)?(oSym.addTask(2100,function(i){var j=$P[i];j&&(j.canTrigger=1,$(i).childNodes[1].src="images/Plants/BigChomper/Chomper.gif")},[e]),"images/Plants/BigChomper/ChomperDigest.gif"):(g.canTrigger=1,"images/Plants/BigChomper/Chomper.gif"):oSym.addTask(9,function(i){var j=$P[i];j&&(j.canTrigger=1,$(i).childNodes[1].src="images/Plants/BigChomper/Chomper.gif")},[e]))},[c,d])},[a,b])}}),oFumeShroom=InheritO(CPlants,{EName:"oFumeShroom",CName:"Fume Shroom",width:100,height:88,beAttackedPointR:80,SunNum:75,BookHandBack:2.5,SleepGif:3,night:true,PicArr:["images/Card/Plants/FumeShroom.png","images/Plants/FumeShroom/0.gif","images/Plants/FumeShroom/FumeShroom.gif","images/Plants/FumeShroom/FumeShroomSleep.gif","images/Plants/FumeShroom/FumeShroomAttack.gif","images/Plants/FumeShroom/FumeShroomBullet.gif"],AudioArr:["fume"],Tooltip:"Sprays air and liquid that can pass through cracks.",Produce:'Sprays air and liquid that can pass through cracks.<p>Power:<font color="#FF0000">Small</font><br>Range:<font color="#FF0000">Sleeps during the day</font></p>',GetDY:function(b,c,a){return a[0]?-18:-10},GetDX:function(){return-45},BirthStyle:function(c,d,b,a){oS.DKind&&(c.canTrigger=0,c.Sleep=1,b.childNodes[1].src=c.PicArr[c.SleepGif]);EditEle(b,{id:d},a,EDPZ)},PrivateBirth:function(b){var a=b.id;NewEle(a+"_Bullet","div","position:absolute;visibility:hidden;width:343px;height:62px;left:"+b.AttackedRX+"px;top:"+(b.pixelTop+5)+"px;background:url(images/Plants/FumeShroom/FumeShroomBullet.gif);z-index:"+(b.zIndex+1),0,EDPZ)},PrivateDie:function(a){ClearChild($(a.id+"_Bullet"))},getTriggerRange:function(a,b,c){return[[b,Math.min(c+330,oS.W),0]]},NormalAttack:function(){PlayAudio("fume");var f=this,d=oZ.getArZ(f.AttackedLX,Math.min(f.AttackedRX+330,oS.W),f.R),e=d.length,g,c=f.id,b=$(c),a=c+"_Bullet";while(e--){(g=d[e]).Altitude<2&&g.getHit1(g,20)}b.childNodes[1].src="images/Plants/FumeShroom/FumeShroomAttack.gif";SetVisible($(a));ImgSpriter(a,c,[["0 0",9,1],["0 -62px",9,2],["0 -124px",9,3],["0 -186px",9,4],["0 -248px",9,5],["0 -310px",9,6],["0 -372px",9,7],["0 -434px",9,-1]],0,function(i,j){var h=$(j);$P[j]&&(h.childNodes[1].src="images/Plants/FumeShroom/FumeShroom.gif",SetHidden($(i)))})}}),oIceFumeShroom=InheritO(oFumeShroom,{EName:"oIceFumeShroom",CName:"Ice Shroom",PicArr:["images/Card/Plants/FumeShroom.png","images/Plants/FumeShroom/0.gif","images/Plants/FumeShroom/FumeShroom.gif","images/Plants/FumeShroom/FumeShroomSleep.gif","images/Plants/FumeShroom/FumeShroomAttack.gif","images/Plants/FumeShroom/FumeShroomBullet.gif"],Tooltip:"Jets of air and liquid that can pass through the door panel.",Produce:'Jets of air and liquid that can pass through the door panel.<p>Power:<font color="#FF0000">Small</font><br>Range:<font color="#FF0000">Sleep during the day.</font></p>',NormalAttack:function(){PlayAudio("fume");var f=this,d=oZ.getArZ(f.AttackedLX,Math.min(f.AttackedRX+330,oS.W),f.R),e=d.length,g,c=f.id,b=$(c),a=c+"_Bullet";while(e--){(g=d[e]).Altitude<2&&g.getSnowPea(g,20)}b.childNodes[1].src="images/Plants/FumeShroom/FumeShroomAttack.gif";SetVisible($(a));ImgSpriter(a,c,[["0 0",9,1],["0 -62px",9,2],["0 -124px",9,3],["0 -186px",9,4],["0 -248px",9,5],["0 -310px",9,6],["0 -372px",9,7],["0 -434px",9,-1]],0,function(i,j){var h=$(j);$P[j]&&(h.childNodes[1].src="images/Plants/FumeShroom/FumeShroom.gif",SetHidden($(i)))})}}),oCoffeeBean=InheritO(CPlants,{EName:"oCoffeeBean",CName:"Coffee Bean",width:39,height:97,beAttackedPointL:10,beAttackedPointR:29,SunNum:75,PKind:3,canEat:0,PicArr:["images/Card/Plants/CoffeeBean.png","images/Plants/CoffeeBean/0.gif","images/Plants/CoffeeBean/CoffeeBean.gif","images/Plants/CoffeeBean/CoffeeBeanEat.gif"+$Random],AudioArr:["coffee","wakeup"],Tooltip:"Wake up the sleeping mushrooms.",Produce:'Wake up the sleeping mushrooms.<p>Instructions:<font color="#FF0000">Single Use, effective immediately.</font><br>Features:<font color="#FF0000">Can be planted on mushrooms.</font></p>',InitTrigger:function(){},GetDBottom:function(){return 49},GetDY:function(){return-30},CanGrow:function(a,b){return(b=a[1])&&b.Sleep&&!a[3]},BirthStyle:function(c,d,b,a){b.childNodes[1].src=this.PicArr[3]+Math.random();EditEle(b,{id:d},a,EDPZ)},PrivateBirth:function(a){SetHidden($(a.id).firstChild);PlayAudio("coffee");oSym.addTask(240,function(c){PlayAudio("wakeup");var d=oGd.$[c],b;d&&(b=d.WakeUP,!b?($(d.id).childNodes[1].src=d.PicArr[d.NormalGif],d.canTrigger=1,d.Sleep=0):b(d));a.Die()},[a.R+"_"+a.C+"_1"])}}),oGloomShroom=InheritO(oFumeShroom,{EName:"oGloomShroom",CName:"Gloomer",width:112,height:81,beAttackedPointR:92,SunNum:150,PicArr:["images/Card/Plants/GloomShroom.png","images/Plants/GloomShroom/0.gif","images/Plants/GloomShroom/GloomShroom.gif","images/Plants/GloomShroom/GloomShroomSleep.gif","images/Plants/GloomShroom/GloomShroomAttack.gif","images/Plants/GloomShroom/GloomShroomBullet.gif"],AudioArr:["kernelpult","kernelpult2"],Tooltip:"Releases spores around itself.<br>",Produce:'Releases spores around itself.<p><font color="#FF0000">Can be planted on large shrooms.</font></p>',CanGrow:function(c,b,f){var a=b+"_"+f,d=c[1],e=oS.ArP;return e?oGd.$LF[b]==1?f>0&&f<e.ArC[1]&&!(oGd.$Crater[a]||oGd.$Tombstones[a]||d):c[0]&&!d:d&&d.EName=="oFumeShroom"?1:oGd.$LF[b]==1?!(f<1||f>9||oGd.$Crater[a]||oGd.$Tombstones[a]||d):c[0]&&!d},BirthStyle:function(c,d,b,a){oS.DKind&&(c.canTrigger=0,c.Sleep=1,b.childNodes[1].src=c.PicArr[c.SleepGif]);EditEle(b,{id:d},a,EDPZ)},GetDX:function(){return-58},PrivateBirth:function(b){var a=b.id;NewEle(a+"_Bullet","div","position:absolute;visibility:hidden;width:210px;height:200px;left:"+(b.pixelLeft-60)+"px;top:"+(b.pixelTop-65)+"px;background:url(images/Plants/GloomShroom/GloomShroomBullet.gif);z-index:"+(b.zIndex+1),0,EDPZ)},PrivateDie:function(a){ClearChild($(a.id+"_Bullet"))},getTriggerRange:function(c,d,e){var f=GetX(this.C),b=this.MinX=f-120,a=this.MaxX=f+120;return[[b,a,0]]},getTriggerR:function(c){var b=this.MinR=c>2?c-1:1,a=this.MaxR=c<oS.R?Number(c)+1:c;return[b,a]},NormalAttack:function(){var k=this,g,f=k.MaxR,c=k.MinX,b=k.MaxX,e,h,a,j=k.id,d=$(j),l=j+"_Bullet";for(g=k.MinR;g<=f;g++){e=oZ.getArZ(c,b,g);for(h=e.length;h--;(a=e[h]).Altitude<2&&a.getHit1(a,80)){}}oSym.addTask(100,function(i){PlayAudio(["kernelpult","kernelpult2"][Math.floor(Math.random()*2)]);--i&&oSym.addTask(100,arguments.callee,[i])},[4]);d.childNodes[1].src="images/Plants/GloomShroom/GloomShroomAttack.gif";SetVisible($(l));ImgSpriter(l,j,[["0 0",9,1],["0 -200px",9,2],["0 -400px",9,3],["0 -600px",9,4],["0 -800px",9,5],["0 -1000px",9,6],["0 -1200px",9,7],["0 -1400px",9,8],["0 -1600px",9,9],["0 -1800px",9,10],["0 -2000px",9,11],["0 -2200px",9,-1]],0,function(m,n){var i=$(n);$P[n]&&(i.childNodes[1].src="images/Plants/GloomShroom/GloomShroom.gif");SetHidden($(m))})}}),oPuffShroom=InheritO(oFumeShroom,{EName:"oPuffShroom",CName:"Puff Shroom",width:40,height:66,beAttackedPointL:15,beAttackedPointR:25,SunNum:0,Stature:-1,PicArr:["images/Card/Plants/PuffShroom.png","images/Plants/PuffShroom/0.gif","images/Plants/PuffShroom/PuffShroom.gif","images/Plants/PuffShroom/PuffShroomSleep.gif","images/Plants/ShroomBullet.gif","images/Plants/ShroomBulletHit.gif"],AudioArr:["puff"],Tooltip:"Launch short-range spores at enemies.",Produce:'Launch short-range spores at enemies.<p>Power:<font color="#FF0000">Medium</font><br>Range:<font color="#FF0000">Close<br>Sleeps during the day.</font></p>',GetDX:CPlants.prototype.GetDX,getTriggerRange:function(a,b,c){return[[b,Math.min(c+250,oS.W),0]]},PrivateBirth:function(a){a.BulletEle=NewImg(0,"images/Plants/ShroomBullet.gif","left:"+(a.AttackedLX-46)+"px;top:"+(a.pixelTop+40)+"px;visibility:hidden;z-index:"+(a.zIndex+2))},PrivateDie:function(a){a.BulletEle=null},NormalAttack:function(){PlayAudio("puff");var b=this,c="PSB"+Math.random(),a=b.AttackedLX;EditEle(b.BulletEle.cloneNode(false),{id:c},0,EDPZ);oSym.addTask(15,function(e){var d=$(e);d&&SetVisible(d)},[c]);oSym.addTask(1,function(j,d,e,f,g){var i=GetC(e),h=oZ.getZ0(e,f);h&&h.Altitude==1?(h.getPea(h,20,0),SetStyle(d,{left:g+38+"px"}).src="images/Plants/ShroomBulletHit.gif",oSym.addTask(10,ClearChild,[d])):(e+=5)<oS.W?(d.style.left=(g+=5)+"px",oSym.addTask(1,arguments.callee,[j,d,e,f,g])):ClearChild(d)},[c,$(c),a,b.R,a-46])}}),oScaredyShroom=InheritO(oFumeShroom,{EName:"oScaredyShroom",CName:"Scare-Spore",width:57,height:81,beAttackedPointR:37,SunNum:25,Cry:0,ArZ:[],Attacking:0,PicArr:["images/Card/Plants/ScaredyShroom.png","images/Plants/ScaredyShroom/0.gif","images/Plants/ScaredyShroom/ScaredyShroom.gif","images/Plants/ScaredyShroom/ScaredyShroomSleep.gif","images/Plants/ScaredyShroom/ScaredyShroomCry.gif","images/Plants/ShroomBullet.gif","images/Plants/ShroomBulletHit.gif"],Tooltip:"Ranged shooter, crouches when enemies get close.",Produce:'Ranged shooter, crouches when enemies get close.<p>Power:<font color="#FF0000">Small</font><br>Features:<font color="#FF0000">Stop attacking when the enemy approaches.<br></font></p>',GetDX:CPlants.prototype.GetDX,getTriggerRange:CPlants.prototype.getTriggerRange,getTriggerR:function(c){var b=this.MinR=c>2?c-1:1,a=this.MaxR=c<oS.R?Number(c)+1:c;return[b,a]},TriggerCheck:function(e,c){var b=this,a=b.id;e.PZ&&Math.abs(e.ZX-b.MX)<121&&e.beAttacked?(b.ArZ.push(e.id),!b.Cry&&(b.Cry=1,$(a).childNodes[1].src="images/Plants/ScaredyShroom/ScaredyShroomCry.gif",b.CryCheck(a))):e.R==b.R&&!b.Cry&&!b.Attacking&&e.Altitude>0&&e.Altitude<3&&b.NormalAttack()},PrivateBirth:function(c){var b=c.AttackedLX,a=b-46;c.BulletClass=NewO({X:b,R:c.R,pixelLeft:a,F:oGd.MB2});c.BulletEle=NewImg(0,"images/Plants/ShroomBullet.gif","left:"+a+"px;top:"+(c.pixelTop+35)+"px;visibility:hidden;z-index:"+(c.zIndex+2));c.MX=b+9},PrivateDie:function(a){a.BulletEle=null},NormalAttack:function(){var c=this,a=c.id,d="SSB"+Math.random(),b=c.AttackedLX;EditEle(c.BulletEle.cloneNode(false),{id:d},0,EDPZ);oSym.addTask(1,function(k,e,f,g,h){var j=GetC(f),i=oZ.getZ0(f,g);i&&i.Altitude==1?(i.getPea(i,20,0),SetStyle(e,{left:h+38+"px"}).src="images/Plants/ShroomBulletHit.gif",oSym.addTask(10,ClearChild,[e])):(f+=5)<oS.W?(e.style.left=(h+=5)+"px",oSym.addTask(1,arguments.callee,[k,e,f,g,h])):ClearChild(e)},[d,$(d),b,c.R,b-46]);c.Attacking=1;oSym.addTask(10,function(g,e){var f=$(g);f&&SetVisible(f);oSym.addTask(130,function(h){var i=$P[h];i&&(i.Attacking=0)},[e])},[d,a])},CryCheck:function(a){oSym.addTask(140,function(b){var d=$P[b],c,f,e;if(d){c=(f=d.ArZ).length;while(c--){(!(e=$Z[f[c]])||!e.PZ||Math.abs(e.ZX-d.MX)>120)&&f.splice(c,1)}f.length?d.CryCheck(b):(d.Cry=0,$(b).childNodes[1].src="images/Plants/ScaredyShroom/ScaredyShroom.gif")}},[a])}}),oHypnoShroom=InheritO(oFumeShroom,{EName:"oHypnoShroom",CName:"Hypno Shroom",width:71,height:78,beAttackedPointL:10,beAttackedPointR:61,SunNum:75,coolTime:30,HP:1,PicArr:["images/Card/Plants/HypnoShroom.png","images/Plants/HypnoShroom/0.gif","images/Plants/HypnoShroom/HypnoShroom.gif","images/Plants/HypnoShroom/HypnoShroomSleep.gif"],Tooltip:"Make a zombie fight for you.",Produce:'Make a zombie fight for you.</font><br><p>Instructions:<font color="#FF0000">Single Use.</font><br>Features:<font color="#FF0000">Sleeps during the day.</font></p>',InitTrigger:function(){},getHurt:function(d,b,a){var c=this;switch(b){case 3:(c.HP-=a)<1&&c.Die();break;case 0:!c.Sleep&&d.bedevil(d);c.Die();break;default:c.Die(1)}}}),oIceShroom=InheritO(oFumeShroom,{EName:"oIceShroom",CName:"Ice Shroom",width:83,height:75,beAttackedPointR:63,SunNum:75,coolTime:50,PicArr:["images/Card/Plants/IceShroom.png","images/Plants/IceShroom/0.gif","images/Plants/IceShroom/IceShroom.gif","images/Plants/IceShroom/IceShroomSleep.gif","images/Plants/IceShroom/Snow.gif","images/Plants/IceShroom/icetrap.gif"],AudioArr:["frozen","wakeup"],Tooltip:"Temporarily freezes all enemies on screen.",Produce:'Temporarily freezes all enemies on screen.<p>Power:<font color="#FF0000">Small, Freezes </font><br>Range:<font color="#FF0000">Global</font><br>Usage:<font color="#FF0000"><br>Sleep during the day.</font></p>',GetDX:CPlants.prototype.GetDX,GetDY:CPlants.prototype.GetDY,InitTrigger:function(){},PrivateDie:function(a){},PrivateBirth:function(a){!oS.DKind?(a.NormalAttack(a.id),a.getHurt=function(d,c,b){}):a.getHurt=CPlants.prototype.getHurt},WakeUP:function(a){var b=a.id;a.Sleep=0;$(b).childNodes[1].src="images/Plants/IceShroom/IceShroom.gif";a.NormalAttack(b)},NormalAttack:function(a){oSym.addTask(100,function(c){var f=$P[c];if(f){PlayAudio("frozen");var e,d,b="Snow_"+Math.random();for(d in $Z){(e=$Z[d]).ZX<901&&e.getFreeze(e,d)}oSym.addTask(40,function(g){ClearChild(g)},[NewEle(b,"div","position:absolute;left:0;top:0;width:900px;height:600px;z-index:10;filter:alpha(opacity=50);opacity:.5;background:#9CF url(images/Plants/IceShroom/Snow.gif) no-repeat scroll "+(f.pixelLeft-197)+"px "+(f.pixelTop-80)+"px",0,EDPZ)]);f.Die()}},[a])}}),oSunShroom=InheritO(oFumeShroom,{EName:"oSunShroom",CName:"Sun Shroom",width:59,height:61,beAttackedPointL:15,beAttackedPointR:44,SunNum:25,Stature:-1,Status:0,PicArr:["images/Card/Plants/SunShroom.png","images/Plants/SunShroom/0.gif","images/Plants/SunShroom/SunShroom2.gif","images/Plants/SunShroom/SunShroomSleep.gif","images/Plants/SunShroom/SunShroom.gif"],Tooltip:"Small amount of sunlight at first, Normal amount later on.",Produce:'Small amount of sunlight at first, Normal amount later on.</font><br>Sunlight Yield: <font color="#FF0000">Low, then Normal<br>Sleeps during the day.</font></p>',GetDX:CPlants.prototype.GetDX,GetDY:CPlants.prototype.GetDY,InitTrigger:function(){},PrivateDie:function(a){},PrivateBirth:function(){},BirthStyle:function(c,d,b,a){oS.DKind?(c.canTrigger=0,c.Sleep=1,b.childNodes[1].src="images/Plants/SunShroom/SunShroomSleep.gif"):(oSym.addTask(600,function(h,g,f){var e=$P[h];e&&e.ProduceSun(e,g,f)},[d,GetX(c.C)-40,GetY(c.R)]),oSym.addTask(12e3,function(f){var e=$P[f];e&&(e.Sleep=0,$(f).childNodes[1].src="images/Plants/SunShroom/SunShroom.gif",e.Status=1)},[d]));EditEle(b,{id:d},a,EDPZ)},ProduceSun:function(a,c,b){AppearSun(Math.floor(c+Math.random()*41),b,!a.Status?15:25,0),oSym.addTask(2400,function(g,f,e){var d=$P[g];d&&d.ProduceSun(d,f,e)},[a.id,c,b])},WakeUP:function(a){var b=a.id;a.ProduceSun(a,GetX(a.C)-40,GetY(a.R));$(b).childNodes[1].src="images/Plants/SunShroom/SunShroom2.gif";a.Sleep=0;oSym.addTask(12e3,function(d){var c=$P[d];c&&($(d).childNodes[1].src="images/Plants/SunShroom/SunShroom.gif",c.Status=1)},[b])}}),oDoomShroom=InheritO(oFumeShroom,{EName:"oDoomShroom",CName:"Doom Shroom",width:102,height:91,beAttackedPointR:80,coolTime:50,SunNum:125,AudioArr:["doomshroom"],PicArr:["images/Card/Plants/DoomShroom.png","images/Plants/DoomShroom/0.gif","images/Plants/DoomShroom/DoomShroom.gif","images/Plants/DoomShroom/Sleep.gif","images/Plants/DoomShroom/BeginBoom.gif","images/Plants/DoomShroom/crater10.png","images/Plants/DoomShroom/crater11.png","images/Plants/DoomShroom/crater20.png","images/Plants/DoomShroom/crater21.png","images/Plants/DoomShroom/crater30.png","images/Plants/DoomShroom/crater31.png","images/Plants/DoomShroom/Boom.png"],Tooltip:"Deals massive damage, but leaves ground untenable.",Produce:'Deals massive damage, but leaves ground untenable.</font><br><p>Power:<font color="#FF0000">Lethal</font><br>Range:<font color="#FF0000">Large</font><br>Usage:<font color="#FF0000">Single Use, effective immediately.</font><br>Features:<font color="#FF0000">Leaves a crater.<br></font></p>',InitTrigger:function(){},BirthStyle:function(c,d,b,a){oS.DKind?(c.Sleep=1,b.childNodes[1].src=c.PicArr[c.SleepGif]):(c.Sleep=0,c.getHurt=function(){},b.childNodes[1].src="images/Plants/DoomShroom/BeginBoom.gif",c.NormalAttack(d));EditEle(b,{id:d},a,EDPZ)},WakeUP:function(a){var b=a.id;a.Sleep=0;a.getHurt=function(){};$(b).childNodes[1].src="images/Plants/DoomShroom/BeginBoom.gif";a.NormalAttack(b)},NormalAttack:function(a){oSym.addTask(50,function(c){PlayAudio("doomshroom");var d=$P[c],q=c+"_Boom";if(d){var g=$(c),l=d.R,h=l>3?l-2:1,f=Math.min(oS.R,l+2),n=d.pixelLeft-240,m=d.pixelRight+240,e,k,b=GetC(d.AttackedLX),o,r=l+"_"+b,j=oGd.$;do{k=(e=oZ.getArZ(n,m,h)).length;while(k--){e[k].getExplosion()}}while(h++<f);d.Die();(o=j[r+"_"+0])&&o.Die();(o=j[r+"_"+2])&&o.Die();oGd.$Crater[r]=2;NewEle(q,"div","position:absolute;overflow:hidden;z-index:"+(d.zIndex+2)+";width:283px;height:324px;left:"+(d.pixelLeft-80)+"px;top:"+(d.pixelTop-220)+"px;background:url(images/Plants/DoomShroom/Boom.png) no-repeat",0,EDPZ);oSym.addTask(20,function(i){ClearChild(i)},[NewEle(q,"div","position:absolute;z-index:20;width:900px;height:600px;left:0;top:0;background:#FFF;*filter:alpha(opacity=50);opacity:.5",0,EDPZ)]);ImgSpriter(q,c,[["0 0",10,1],["-283px 0",10,2],["-566px 0",10,3],["-849px 0",10,4],["-1132px 0",10,5],["-1415px 0",10,6],["-1698px 0",10,7],["-1981px 0",10,8],["-2264px 0",10,9],["-2547px 0",10,-1]],0,function(i,p){ClearChild($(i));d.setCrater(c+"_crater",l,b,d.pixelLeft+3,d.pixelTop+50)})}},[a])},setCrater:function(f,b,d,e,c){var a;switch(oGd.$LF[b]){case 1:a=NewEle(f,"div","position:absolute;z-index:"+(3*b-1)+";overflow:hidden;background:url(images/Plants/DoomShroom/crater1"+oS.DKind+".png) no-repeat;width:90px;height:61px;left:"+(e||GetX(d)-45)+"px;top:"+(c||GetY(b)-30)+"px",0,EDPZ);break;case 2:a=NewEle(f,"div","position:absolute;z-index:"+(3*b-1)+";overflow:hidden;background:url(images/Plants/DoomShroom/crater2"+oS.DKind+".png) no-repeat;width:85px;height:53px;left:"+(e||GetX(d)-42)+"px;top:"+(c||GetY(b)-26)+"px",0,EDPZ);break;case 3:a=NewEle(f,"div","position:absolute;z-index:"+(3*b-1)+";overflow:hidden;background:url(images/Plants/DoomShroom/crater31.png) no-repeat;width:75px;height:77px;left:"+(e||GetX(d)-37)+"px;top:"+(c||GetY(b)-19)+"px",0,EDPZ);break;default:}oSym.addTask(9e3,function(g){var h=b+"_"+d;g.style.backgroundPosition="100% 0";oGd.$Crater[h]=1;oSym.addTask(9e3,function(i,j){ClearChild(i);delete oGd.$Crater[j]},[g,h])},[a])}}),oTangleKlep=InheritO(CPlants,{EName:"oTangleKlep",CName:"Tangle Klep",width:90,height:72,beAttackedPointL:15,beAttackedPointR:80,coolTime:30,SunNum:25,BookHandBack:4.9,GetDY:function(b,c,a){return 5},NormalGif:1,AudioArr:["TangleKlep"],PicArr:["images/Card/Plants/TangleKlep.png","images/Plants/TangleKlep/0.gif","images/Plants/TangleKlep/Float.gif","images/Plants/TangleKlep/Grab.png","images/interface/splash.png"],Tooltip:"Pull zombies to the bottom of the water.",Produce:'Pull zombies to the bottom of the water.<p>Power:<font color="#FF0000">Lethal</font><br>Usage:<font color="#FF0000">Single Use, on contact./font><br>Features:<font color="#FF0000">Must be planted in water.</font></p>',CanGrow:function(c,b,d){var a=b+"_"+d;return!(oGd.$LF[b]!=2||d<1||d>9||oGd.$Crater[a]||c[0]||c[1]||oGd.$Tombstones[a])},getShadow:function(a){return"display:none"},getTriggerRange:function(a,b,c){return[[b,c,0]]},BirthStyle:function(c,d,b,a){b.childNodes[1].src="images/Plants/TangleKlep/Float.gif";EditEle(b,{id:d},a,EDPZ)},getHurt:function(d,b,a){var c=this;b==3?(c.HP-=a)<1&&c.Die():(c.canTrigger=0,c.NormalAttack(c,d))},TriggerCheck:function(b,a){b.AttackedLX<GetX(9)&&b.beAttacked&&(this.canTrigger=0,this.NormalAttack(this,b))},NormalAttack:function(a,b){a.getHurt=function(){};b.getHurt=function(){};b.beAttacked=0;b.isAttacking=1;NewImg(0,"images/Plants/TangleKlep/Grab.png","left:"+b.beAttackedPointL+"px;top:"+(b.height-67)+"px",b.Ele);oSym.addTask(50,function(g,h){PlayAudio("TangleKlep");var e=g.id,f=h.id,d=e+"_splash",c=f+"_splash";NewEle(d,"div","position:absolute;background:url(images/interface/splash.png);left:"+(g.pixelLeft-4)+"px;top:"+(g.pixelTop-16)+"px;width:97px;height:88px;over-flow:hidden",0,EDPZ);NewEle(c,"div","position:absolute;background:url(images/interface/splash.png);left:"+(h.AttackedLX-10)+"px;top:"+(h.pixelTop+h.height-88)+"px;width:97px;height:88px;over-flow:hidden",0,EDPZ);ImgSpriter(d,e,[["0 0",9,1],["-97px 0",9,2],["-194px 0",9,3],["-291px 0",9,4],["-388px 0",9,5],["-485px 0",9,6],["-582px 0",9,7],["-679px 0",9,-1]],0,function(i,j){ClearChild($(i))});ImgSpriter(c,f,[["0 0",9,1],["-97px 0",9,2],["-194px 0",9,3],["-291px 0",9,4],["-388px 0",9,5],["-485px 0",9,6],["-582px 0",9,7],["-679px 0",9,-1]],0,function(i,j){ClearChild($(i))});h.DisappearDie();g.Die()},[a,b])}}),oSeaShroom=InheritO(oPuffShroom,{EName:"oSeaShroom",CName:"Sea Shroom",width:48,height:99,beAttackedPointL:10,beAttackedPointR:40,coolTime:30,BookHandBack:4.9,Sleep:0,getShadow:function(a){return"display:none"},PicArr:["images/Card/Plants/SeaShroom.png","images/Plants/SeaShroom/0.gif","images/Plants/SeaShroom/SeaShroom.gif","images/Plants/SeaShroom/SeaShroomSleep.gif","images/Plants/ShroomBullet.gif","images/Plants/ShroomBulletHit.gif"],CanGrow:function(c,b,d){var a=b+"_"+d;return!(d<1||d>9||oGd.$LF[b]-2||c[0]||c[1]||oGd.$Crater[a]||oGd.$Tombstones[a])},BirthStyle:function(c,d,b,a){EditEle(b,{id:d},a,EDPZ)},Tooltip:"Emit spores over short distances.",Produce:'Emit spores over short distances.<p>Power:<font color="#FF0000">Small</font><br>Range:<font color="#FF0000">Short<br>Must be planted in water.</font></p>'});oCactus=InheritO(CPlants,{EName:"oCactus",CName:"Cactus",width:122,height:157,SunNum:125,beAttackedPointL:10,beAttackedPointR:80,AudioArr:["plantgrow"],Status:0,PicArr:function(){return["images/Card/Plants/Cactus.png","images/Plants/Cactus/0.gif","images/Plants/Cactus/Cactus.gif","images/Plants/Cactus/Cactus2.gif","images/Plants/Cactus/Attack.gif","images/Plants/Cactus/Attack2.gif","images/Plants/Cactus/Elongation.gif","images/Plants/Cactus/Shorten.gif","images/Plants/Cactus/Projectile32.png"]}(),Tooltip:"Fires spikes that pierce balloons.",Produce:'Fires spikes that pierce balloons.</font><br><p>Power:<font color="#FF0000">Medium</font><br>Range:<font color="#FF0000">Ground and Air</font></p>',getShadow:function(a){return"left:3px;top:132px"},PrivateBirth:function(a){a.ES=a.Elongation},TriggerCheck:function(b,a){this.ES()&&(this.canTrigger=0,this.CheckLoop(b.id,a))},CheckLoop:function(b,c){var a=this.id;this.NormalAttack(b);this.ES();this.Status==0&&oSym.addTask(140,function(e,f,h){var g;(g=$P[e])&&g.ES()&&g.AttackCheck1(f,h)},[a,b,c])},CheckLoop2:function(b,c){var a=this.id;this.NormalAttack(b);this.ES();this.Status&&oSym.addTask(150,function(e,f,h){var g;(g=$P[e])&&g.ES()&&g.AttackCheck12(f,h)},[a,b,c])},AttackCheck1:function(g,f){var b=this,c=b.oTrigger,a=$Z[g],h,e,k,j;if(a&&a.PZ&&(h=c[a.R])){k=a.ZX;e=h.length;while(e--){j=h[e];if(j[0]<=k&&j[1]>=k&&a.Altitude>0){b.CheckLoop(g,j[2]);return}}}b.canTrigger=1},AttackCheck12:function(a,c){var b=this;b.CheckLoop(a,c)},Elongation:function(){var a=this,b=a.id;if(!oGd.$Balloon[a.R]>0){return true}else{PlayAudio("plantgrow");a.canTrigger=0;a.Status=1;$(b).childNodes[1].src="images/Plants/Cactus/Elongation.gif";oSym.addTask(1,function(e){var d=$P[e],c;if(d){d.NormalGif=3;$(e).childNodes[1].src="images/Plants/Cactus/Cactus2.gif";c=d.CheckLoop;d.CheckLoop=d.CheckLoop2;d.CheckLoop2=c;c=d.NormalAttack;d.NormalAttack=d.NormalAttack2;d.NormalAttack2=c;d.ES=d.Shorten;d.canTrigger=1}},[b]);return false}},Shorten:function(){var a=this,b=a.id;if(oGd.$Balloon[a.R]>0){return true}else{a.canTrigger=0;a.Status=0;$(b).childNodes[1].src="images/Plants/Cactus/Shorten.gif";oSym.addTask(1,function(e){var d=$P[e],c;if(d){d.NormalGif=2;$(e).childNodes[1].src="images/Plants/Cactus/Cactus.gif";c=d.CheckLoop;d.CheckLoop=d.CheckLoop2;d.CheckLoop2=c;c=d.NormalAttack;d.NormalAttack=d.NormalAttack2;d.NormalAttack2=c;d.ES=d.Elongation;d.canTrigger=1}},[b]);return false}},NormalAttack:function(){var b=this,c="CB"+Math.random(),a=b.id;$(a).childNodes[1].src="images/Plants/Cactus/Attack.gif";oSym.addTask(40,function(e){var d=$(e);d&&(d.childNodes[1].src="images/Plants/Cactus/Cactus.gif")},[a]);NewImg(c,b.PicArr[8],"left:"+(b.AttackedRX+25)+"px;top:"+(b.pixelTop+103)+"px;visibility:hidden;z-index:"+(b.zIndex+2),EDPZ);oSym.addTask(30,function(e){var d=$(e);d&&SetVisible(d)},[c]);oSym.addTask(1,function(g,i,d,k,h,l){var j,f=GetC(k),e=oZ["getZ"+d](k,h);e&&e.Altitude==1?(e.getPea(e,30,d),ClearChild(i)):(k+=j=!d?5:-5)<oS.W&&k>100?(i.style.left=(l+=j)+"px",oSym.addTask(1,arguments.callee,[g,i,d,k,h,l])):ClearChild(i)},[c,$(c),0,b.AttackedLX,b.R,b.AttackedLX-40])},NormalAttack2:function(){var b=this,c="CB"+Math.random(),a=b.id;$(a).childNodes[1].src="images/Plants/Cactus/Attack2.gif";oSym.addTask(50,function(e){var d=$(e);d&&(d.childNodes[1].src="images/Plants/Cactus/Cactus2.gif")},[a]);NewImg(c,b.PicArr[8],"left:"+(b.AttackedRX+125)+"px;top:"+(b.pixelTop+33)+"px;visibility:hidden;z-index:"+(b.zIndex+2),EDPZ);oSym.addTask(20,function(e){var d=$(e);d&&SetVisible(d)},[c]);oSym.addTask(1,function(g,i,d,k,h,l){var j,f=GetC(k),e=oZ["getZ"+d](k,h);e&&e.Altitude==3?(e.getHit0(e,20,d),e.Drop(),ClearChild(i)):(k+=j=!d?5:-5)<oS.W&&k>100?(i.style.left=(l+=j)+"px",oSym.addTask(1,arguments.callee,[g,i,d,k,h,l])):ClearChild(i)},[c,$(c),0,b.AttackedLX,b.R,b.AttackedLX-40])}}),oOxygen=InheritO(CPlants,{EName:"oOxygen",CName:"Algae",width:73,height:74,beAttackedPointR:53,SunNum:25,HP:300,BookHandBack:3.5,coolTime:7.5,PicArr:["images/Card/Plants/Oxygen.png","images/Plants/Oxygen/0.gif","images/Plants/Oxygen/Oxygen.gif"],Tooltip:"Algae can provide oxygen to plants above ground.",Produce:'Algae can provide oxygen to plants above ground.<p>Toughness:<font color="FF0000">Medium</font><p><font color="#000000">Range:<font color="#1F470B">3x3</font></p>',CanGrow:function(e,d,f){var c=d+"_"+f,b=oGd.$LF[d],a=f<1||f>9;return b%2?b<3?!(a||e[1]||e[2]||e[0]||oGd.$Crater[c]||oGd.$Tombstones[c]):!(a||e[0]||oGd.$Crater[c]):0},NormalAttack:function(){},PrivateBirth:function(a){var R=a.R,C=a.C,R1,C1,MaxR=oS.R,MaxC=oS.C,LF=oGd.$LF,LFR,_$=oGd.$,rc;for(R1=R-1;R1<=R+1;R1++){if(R1>0&&R1<=MaxR){LFR=LF[R];for(C1=C-1;C1<=C+1;C1++){if(C1>0&&C1<=MaxC&&(LFR==1||LFR==3)){rc=R1+"_"+C1+"_";!(_$[rc+0]||_$[rc+1]||_$[rc+2])&&CustomSpecial(oOG,R1,C1)}}}}}}),oFlamesMushroom=InheritO(CPlants,{EName:"oFlamesMushroom",CName:"Fire Shroom",width:102,height:91,beAttackedPointR:80,SunNum:200,HP:4e3,BookHandBack:2.5,coolTime:30,PicArr:["images/Card/Plants/FlamesMushroom.png","images/Plants/FlamesMushroom/0.gif","images/Plants/FlamesMushroom/FlamesMushroom.gif","images/Plants/FlamesMushroom/FlamesMushroom1.gif","images/Plants/FlamesMushroom/FlamesMushroom2.gif"],Tooltip:"Summon multiple destructive mushrooms.",Produce:'Summon multiple destructive mushrooms.<p>Toughness:<font color="FF0000">High</font><p><font color="#000000">Skill: <font color="#1F470B">Summons 8 Destructive Mushrooms.</font></p>',getHurt:function(e,b,a){var c=this,d=$(c.id).childNodes[1];!(b%3)?(c.HP-=a)<1?c.Die():c.HP<2667?c.HurtStatus<2&&(c.HurtStatus=2,d.src="images/Plants/FlamesMushroom/FlamesMushroom2.gif"):c.HP<5333&&c.HurtStatus<1&&(c.HurtStatus=1,d.src="images/Plants/FlamesMushroom/FlamesMushroom1.gif"):c.Die(1)},NormalAttack:function(){},PrivateBirth:function(a){var R=a.R,C=a.C,R1,C1,MaxR=oS.R,MaxC=oS.C,LF=oGd.$LF,LFR,_$=oGd.$,rc;for(R1=R-1;R1<=R+1;R1++){if(R1>0&&R1<=MaxR){LFR=LF[R];for(C1=C-1;C1<=C+1;C1++){if(C1>0&&C1<=MaxC&&(LFR==1||LFR==3)){rc=R1+"_"+C1+"_";!(_$[rc+0]||_$[rc+1]||_$[rc+2])&&CustomSpecial(oDoomShroom,R1,C1)}}}}}}),oOG=InheritO(CPlants,{EName:"oOG",CName:"氧气",width:72,height:68,beAttackedPointR:52,SunNum:0,canEat:0,BookHandBack:5,PicArr:["images/Card/Plants/Oxygen.png","images/Plants/Oxygen/0.gif","images/Plants/Oxygen/Oxygen1.gif"],PKind:0,Stature:-1,GetDY:function(b,c,a){return-15},getShadow:function(a){return"display:none";return"left:"+(a.width*.5-20)+"px;top:"+(a.height-22)+"px"},CanGrow:function(e,d,f){var c=d+"_"+f,b=oGd.$LF[d],a=f<1||f>9;return b%2?b<3?!(a||e[1]||e[2]||e[0]||oGd.$Crater[c]||oGd.$Tombstones[c]):!(a||e[0]||oGd.$Crater[c]):0},Tooltip:"",Produce:"",InitTrigger:function(){}}),oPlantern=InheritO(CPlants,{EName:"oPlantern",CName:"Plantern",width:250,height:242,beAttackedPointL:105,beAttackedPointR:145,canEat:1,BookHandBack:2.5,SunNum:25,PicArr:["images/Card/Plants/Plantern.png","images/Plants/Plantern/0.gif","images/Plants/Plantern/Plantern.gif"],Tooltip:"Brighten a foggy area.",Produce:'Brighten a foggy area.<p>Range:<font color="#FF0000">Medium Circle.</font><br>Features:<font color="#FF0000">See through the fog of battle.</font></p>',PrivateBirth:function(c){var a=c.R,b=c.C;NewImg("","","filter:alpha(opacity=30);opacity:.3;left:0;top:0;z-index:"+c.zIndex,$(c.id));oS.HaveFog&&oGd.GatherFog(a,b,2,3,0)},InitTrigger:function(){},PrivateDie:function(c){var a=c.R,b=c.C;delete oGd.$Plantern[a+"_"+b];oS.HaveFog&&oGd.GatherFog(a,b,2,3,1)},GetDY:function(b,c,a){return a[0]?70:74},getShadow:function(a){return"left:"+(a.width*.5-43)+"px;top:"+(a.height-100)+"px"}}),ostar=InheritO(CPlants,{EName:"ostar",CName:"Star",width:71,height:71,beAttackedPointL:10,beAttackedPointR:61,SunNum:75,HP:4e3,canEat:0,BookHandBack:3.5,Tooltip:"Tentacles that can topple zombies and cause chaos.",Produce:'Tentacles that can topple zombies and cause chaos.<p>Range: <font color="#FF0000">Large.</font><br>Path: <font color="#FF0000">Random.</font></p>',PicArr:["images/Card/Plants/star.png","images/Plants/star/0.gif","images/Plants/star/starRoll.gif"],AudioArr:["bowling","bowlingimpact","bowlingimpact2"],CanAttack:1,InitTrigger:function(){},getHurt:function(){},CanGrow:function(e,d,f){var c=d+"_"+f,b=oGd.$LF[d],a=f<1||f>9;return b%2?b<3?!(a||e[1]||e[2]||e[0]||oGd.$Crater[c]||oGd.$Tombstones[c]):!(a||e[0]||oGd.$Crater[c]):0},NormalAttack:null,PrivateBirth:function(c){var d=$(c.id);PlayAudio("bowling");(function(z,y,q,r,p,x,e,g,b){var a=z.R,l=z.C,A,u,s,v=0,w,i,t=false;if(z.CanAttack&&(A=oZ.getZ0(r,a))&&A.getCrushed(z)){u=A.id;PlayAudio(["bowlingimpact","bowlingimpact2"][Math.floor(Math.random()*2)]);switch(A.Ornaments){case 0:A.NormalDie();break;case 1:A.getHit0(A,Math.min(A.OrnHP,900),0);break;default:z.side?A.Normaldie():A.CheckOrnHP(A,u,A.OrnHP,400,A.PicArr,0,0,0)}z.CanAttack=0;switch(a){case oS.R:e=-1;break;case 1:e=1;break;default:switch(e){case 1:e=-1;break;case-1:e=1;break;default:e=Math.random()>.5?1:-1}}oSym.addTask(1,arguments.callee,[z,y,z.AttackedLX+20,z.AttackedRX+20,z.pixelLeft+20,x,e,g,b])}else{switch(e){case 1:z.pixelBottom+2>b&&(e=-1);break;case-1:z.pixelBottom-2<g&&(e=1);break}q>y?z.Die():(i=GetC(z.pixelRight+=2),z.AttackedLX=q+=2,z.AttackedRX=r+=2,w=GetR(z.pixelBottom+=e*2),SetStyle(x,{left:(z.pixelLeft=p+=2)+"px",top:(z.pixelTop+=e*2)+"px"}),w!=a&&(z.R=w,t=true,!z.CanAttack&&(z.CanAttack=1)),i!=l&&(z.C=i,t=true),t&&(oGd.del({R:a,C:l,PKind:1}),oGd.add(z,w+"_"+i+"_1")),oSym.addTask(1,arguments.callee,[z,y,z.AttackedLX,z.AttackedRX,z.pixelLeft,x,e,g,b]))}})(c,oS.W,c.AttackedLX,c.AttackedRX,c.pixelLeft,d,0,GetY1Y2(1)[0],600)}}),ostar1=InheritO(oNutBowling,{EName:"ostar1",CName:"Star 1",width:71,height:71,beAttackedPointL:10,beAttackedPointR:61,SunNum:75,coolTime:50,HP:0,canEat:0,BookHandBack:3,Stature:1,PicArr:["images/Card/Plants/star.png","images/Plants/star/0.gif","images/Plants/star/starRoll.gif"],Tooltip:"",Produce:"",PrivateBirth:function(a){PlayAudio("bowling");(function(b,c,n,m,e,g){var d=oZ.getArZ(n,m,e),f=d.length,k,j,l=b.R,h=b.C;while(f--){(k=d[f]).getCrushed(b)&&k.CrushDie()}n>c?b.Die():(j=GetC(b.pixelRight+=2),b.AttackedLX=n+=2,b.AttackedRX=m+=2,g.style.left=(b.pixelLeft+=2)+"px",j!=h&&(b.C=j,oGd.del({R:l,C:h,PKind:1}),oGd.add(b,l+"_"+j+"_1")),oSym.addTask(1,arguments.callee,[b,c,n,m,e,g]))})(a,oS.W,a.AttackedLX,a.AttackedRX,a.R,$(a.id))}}),oGun=InheritO(oPuffShroom,{EName:"oGun",CName:"Water Gun",Sleep:0,width:40,height:66,beAttackedPointL:15,beAttackedPointR:25,BookHandBack:3.5,SunNum:0,PicArr:["images/Card/Plants/gun.png","images/Plants/gun/0.gif","images/Plants/gun/SeaShroom.gif","images/Plants/gun/SeaShroomSleep.gif","images/Plants/gun/ShroomBullet.gif","images/Plants/gun/ShroomBulletHit.gif"],CanGrow:function(e,d,f){var c=d+"_"+f,b=oGd.$LF[d],a=f<1||f>9;return b%2?b<3?!(a||e[1]||e[2]||e[0]||oGd.$Crater[c]||oGd.$Tombstones[c]):!(a||e[0]||oGd.$Crater[c]):0},Tooltip:"Water Gun.",Produce:'Water Gun, planted directly on the seabed.<p>Power:<font color="#FF0000">Very Small</font><br>Range:<font color="#FF0000">Short</font></p>',PrivateBirth:function(a){a.BulletEle=NewImg(0,"images/Plants/gun/ShroomBullet.gif","left:"+(a.AttackedLX-46)+"px;top:"+(a.pixelTop+40)+"px;visibility:hidden;z-index:"+(a.zIndex+2))},BirthStyle:function(c,d,b,a){EditEle(b,{id:d},a,EDPZ)},PrivateDie:function(a){a.BulletEle=null},NormalAttack:function(){PlayAudio("puff");var b=this,c="PSB"+Math.random(),a=b.AttackedLX;EditEle(b.BulletEle.cloneNode(false),{id:c},0,EDPZ);oSym.addTask(15,function(e){var d=$(e);d&&SetVisible(d)},[c]);oSym.addTask(1,function(j,d,e,f,g){var i=GetC(e),h=oZ.getZ0(e,f);h&&h.Altitude==1?(h.getPea(h,20,0),SetStyle(d,{left:g+38+"px"}).src="images/Plants/gun/ShroomBulletHit.gif",oSym.addTask(10,ClearChild,[d])):(e+=5)<oS.W?(d.style.left=(g+=5)+"px",oSym.addTask(1,arguments.callee,[j,d,e,f,g])):ClearChild(d)},[c,$(c),a,b.R,a-46])}}),oSeaAnemone=InheritO(oGloomShroom,{EName:"oSeaAnemone",CName:"Anemone",width:83,height:119,beAttackedPointR:63,SunNum:300,coolTime:15,BookHandBack:3.5,AudioArr:["SeaAnemone"],PicArr:["images/Card/Plants/SeaAnemone.png","images/Plants/SeaAnemone/0.gif","images/Plants/SeaAnemone/GloomShroom.gif","images/Plants/SeaAnemone/GloomShroomSleep.gif","images/Plants/SeaAnemone/GloomShroomAttack.gif","images/Plants/SeaAnemone/GloomShroomBullet.gif"],AudioArr:["kernelpult","kernelpult2"],Tooltip:"Deal large damage to zombies that touch.<br>",Produce:"Deal large damage to zombies that touch.</font></p>",BirthStyle:function(c,d,b,a){EditEle(b,{id:d},a,EDPZ)},CanGrow:function(e,d,f){var c=d+"_"+f,b=oGd.$LF[d],a=f<1||f>9;return b%2?b<3?!(a||e[1]||e[2]||e[0]||oGd.$Crater[c]||oGd.$Tombstones[c]):!(a||e[0]||oGd.$Crater[c]):0},PrivateBirth:function(b){var a=b.id;NewEle(a+"_Bullet","div","position:absolute;visibility:hidden;width:210px;height:200px;left:"+(b.pixelLeft-60)+"px;top:"+(b.pixelTop-65)+"px;background:url(images/Plants/SeaAnemone/GloomShroomBullet.gif);z-index:"+(b.zIndex+1),0,EDPZ)},NormalAttack:function(){PlayAudio("SeaAnemone");var k=this,g,f=k.MaxR,c=k.MinX,b=k.MaxX,e,h,a,j=k.id,d=$(j),l=j+"_Bullet";for(g=k.MinR;g<=f;g++){e=oZ.getArZ(c,b,g);for(h=e.length;h--;(a=e[h]).Altitude<2&&a.getHit1(a,130)){}}oSym.addTask(100,function(i){PlayAudio(["kernelpult","kernelpult2"][Math.floor(Math.random()*2)]);--i&&oSym.addTask(100,arguments.callee,[i])},[4]);d.childNodes[1].src="images/Plants/SeaAnemone/GloomShroomAttack.gif";SetVisible($(l));ImgSpriter(l,j,[["0 0",9,1],["0 -200px",9,2],["0 -400px",9,3],["0 -600px",9,4],["0 -800px",9,5],["0 -1000px",9,6],["0 -1200px",9,7],["0 -1400px",9,8],["0 -1600px",9,9],["0 -1800px",9,10],["0 -2000px",9,11],["0 -2200px",9,-1]],0,function(m,n){var i=$(n);$P[n]&&(i.childNodes[1].src="images/Plants/SeaAnemone/GloomShroom.gif");SetHidden($(m))})}}),oTTS=InheritO(CPlants,{EName:"oTTS",CName:"Seaweed",width:75,height:226,beAttackedPointR:55,beAttackedPointR:80,SunNum:25,BookHandBack:3.5,GetDY:function(b,c,a){return 5},NormalGif:1,AudioArr:["TTS"],PicArr:["images/Card/Plants/TTS.png","images/Plants/TTS/0.gif","images/Plants/TTS/Float.gif","images/Plants/TTS/Grab.png","images/Plants/TTS/splash.png"],Tooltip:"Grabs anything that comes close.",Produce:'Grabs anything that comes close.</font><br><p>Power:<font color="FF0000">Large</font><br>Range:<font color="#FF0000">Immediate Area</font><br>Instructions:<font color="#FF0000">Single Use.</font></p>',CanGrow:function(e,d,f){var c=d+"_"+f,b=oGd.$LF[d],a=f<1||f>9;return b%2?b<3?!(a||e[1]||e[2]||e[0]||oGd.$Crater[c]||oGd.$Tombstones[c]):!(a||e[0]||oGd.$Crater[c]):0},getTriggerRange:function(a,b,c){return[[b,c,0]]},BirthStyle:function(c,d,b,a){b.childNodes[1].src="images/Plants/TTS/Float.gif";EditEle(b,{id:d},a,EDPZ)},getHurt:function(d,b,a){var c=this;b==3?(c.HP-=a)<1&&c.Die():(c.canTrigger=0,c.NormalAttack(c,d))},TriggerCheck:function(b,a){b.AttackedLX<GetX(9)&&b.beAttacked&&(this.canTrigger=0,this.NormalAttack(this,b))},NormalAttack:function(a,b){PlayAudio("TTS");a.getHurt=function(){};b.getHurt=function(){};b.beAttacked=0;b.isAttacking=1;NewImg(0,"images/Plants/TTS/Grab.png","left:"+b.beAttackedPointL+"px;top:"+(b.height-67)+"px",b.Ele);oSym.addTask(50,function(g,h){var e=g.id,f=h.id,d=e+"_splash",c=f+"_splash";NewEle(c,"div","position:absolute;background:url(images/Plants/TTS/splash.png);left:"+(h.AttackedLX-10)+"px;top:"+(h.pixelTop+h.height-88)+"px;width:97px;height:88px;over-flow:hidden",0,EDPZ);ImgSpriter(d,e,[["0 0",9,1],["-97px 0",9,2],["-194px 0",9,3],["-291px 0",9,4],["-388px 0",9,5],["-485px 0",9,6],["-582px 0",9,7],["-679px 0",9,-1]],0,function(i,j){ClearChild($(i))});ImgSpriter(c,f,[["0 0",9,1],["-97px 0",9,2],["-194px 0",9,3],["-291px 0",9,4],["-388px 0",9,5],["-485px 0",9,6],["-582px 0",9,7],["-679px 0",9,-1]],0,function(i,j){ClearChild($(i))});h.DisappearDie();g.Die()},[a,b])}}),oMagneticmuShroom=InheritO(CPlants,{EName:"oMagneticmuShroom",CName:"Magni-Shroom",width:176,height:148,beAttackedPointR:50,SunNum:50,BookHandBack:2.5,AudioArr:["Magneticmu"],PicArr:["images/Card/Plants/MagneticmuShroom.png","images/Plants/MagneticmuShroom/0.gif","images/Plants/MagneticmuShroom/Shrubbery.gif","images/Plants/MagneticmuShroom/ShrubberyBoom.gif"+$Random],Tooltip:"Attract zombies' helmets and other metal objects.",Produce:'Attract zombies helmets and other metal objects.<p>Range:<font color="#FF0000">One Row</font><br>Instructions:<font color="#FF0000">Single Use, One Row.</font></p>',InitTrigger:function(){},getHurt:function(){},PrivateBirth:function(a){oSym.addTask(10,function(j){var h=$P[j];if(h){PlayAudio("Magneticmu");var b=$(j),f=h.R,c=oZ.getArZ(100,oS.W,f),e=c.length,g=oGd.$Ice[f],d=oGd.$Crater;while(e--){if(c[e].EName=="oBucketheadZombie"||c[e].EName=="oFootballZombie"||c[e].EName=="oHeiFootballZombie"||c[e].EName=="oCFootballZombie"||c[e].EName=="oScreenDoorZombie"||c[e].EName=="oDuckyTubeZombie3"||c[e].EName=="oDuckyTubeZombie4"||c[e].EName=="oSmallFootballZombie"||c[e].EName=="oCBucketheadZombie"||c[e].EName=="oTrashZombie"||c[e].EName=="oCFootballZombie"||c[e].EName=="oConeheadZombie"||c[e].EName=="oCConeheadZombie"||c[e].EName=="oJY"||c[e].EName=="oBalloonZombie"||c[e].EName=="oNewspaperZombie"||c[e].EName=="oCNewspaperZombie"||c[e].EName=="oDuckyTubeZombie2"){c[e].OrnHP=0;c[e].getHit0(c[e],0,0)}}h.Die(1);EditEle(b.childNodes[1],{src:"images/Plants/MagneticmuShroom/ShrubberyBoom.gif"},{width:"176px",height:"148px",left:"-1px",top:"-1px"});oSym.addTask(220,ClearChild,[b])}},[a.id])}}),oLaserBean=InheritO(CPlants,{EName:"oLaserBean",CName:"Laser Bean",width:80,height:80,beAttackedPointR:80,SunNum:75,SunNum:450,coolTime:30,HP:4e3,PicArr:["images/Card/Plants/LaserBean.png","images/Plants/LaserPea/0.gif","images/Plants/LaserPea/LaserPea.gif","images/Plants/LaserPea/LaserPeaSleep.gif","images/Plants/LaserPea/LaserPeaAttack.gif","images/Plants/LaserPea/LaserPeaBullet.gif"],AudioArr:["LaserBean"],Tooltip:"Fires high power laser in a row.",Produce:'Fires high power laser in a row.<p>Range:<font color="#FF0000">One Row<br></font><p><br>',CheckLoop:function(b,c){var a=this.id;this.NormalAttack(b);oSym.addTask(292,function(e,f,h){var g;(g=$P[e])&&g.AttackCheck1(f,h)},[a,b,c])},getShadow:function(a){return"left:"+(a.width*.5-+20)+"px;top:"+(a.height-22)+"px"},GetDY:function(b,c,a){return a[0]?-18:-10},GetDX:function(){return-68},PrivateBirth:function(b){var a=b.id;NewEle(a+"_Bullet","div","position:absolute;visibility:hidden;width:343px;height:62px;left:"+b.AttackedRX+"px;top:"+(b.pixelTop+5)+"px;background:url(images/Plants/LaserPea/LaserPeaBullet.gif);z-index:"+(b.zIndex+1),0,EDPZ)},PrivateDie:function(a){ClearChild($(a.id+"_Bullet"))},getTriggerRange:function(a,b,c){return[[b,Math.min(c+686,oS.W),0]]},NormalAttack:function(){PlayAudio("LaserBean");var f=this,d=oZ.getArZ(f.AttackedLX,Math.min(f.AttackedRX+686,oS.W),f.R),e=d.length,g,c=f.id,b=$(c),a=c+"_Bullet";while(e--){(g=d[e]).Altitude<2&&g.getHit1(g,850)}b.childNodes[1].src="images/Plants/LaserPea/LaserPeaAttack.gif";SetVisible($(a));ImgSpriter(a,c,[["0 0",4,1],["0 -62px",4,2],["0 -124px",5,3],["0 -186px",5,4],["0 -248px",5,5],["0 -310px",6,6],["0 -372px",6,7],["0 -434px",7,-1]],0,function(i,j){var h=$(j);$P[j]&&(h.childNodes[1].src="images/Plants/LaserPea/LaserPea.gif",SetHidden($(i)))})}}),oGoldenPrize=InheritO(CPlants,{EName:"oGoldenPrize",CName:"Golden Prize",PicArr:["images/interface/0.gif","images/interface/0.gif"],Tooltip:"Congratulations!"}),oShovel=InheritO(CPlants,{EName:"oShovel",CName:"Shovel",width:130,height:114,beAttackedPointR:70,PicArr:["images/interface/Shovel/0.gif","images/interface/Shovel/0.gif"],Tooltip:"Can remove plants!"});
	</script>
    <script>
		var CZombies=function(b,a){return(a=function(){}).prototype={name:"Zombies",HP:270,Lvl:1,NormalGif:2,CardGif:0,StaticGif:1,BookHandBack:0,AudioArr:[],CanSelect:1,CanDisplay:1,BookHandPosition:"50% 70%",AttackGif:3,LostHeadGif:4,LostHeadAttackGif:5,HeadGif:6,DieGif:7,BoomDieGif:8,width:166,height:144,beAttackedPointL:82,beAttackedPointR:156,BreakPoint:90,SunNum:50,coolTime:0,Ornaments:0,OrnHP:0,OSpeed:1.6,Speed:1.6,CSS_fliph:"",CSS_alpha:"",AKind:0,beAttacked:1,isAttacking:0,Attack:100,WalkDirection:0,LivingArea:1,Altitude:1,FreeSetbodyTime:0,FreeFreezeTime:0,FreeSlowTime:0,AudioArr:["zombie_falling_1"],CanPass:function(d,c){return c&&c!=2},CanGrow:function(d,c,e){return this.CanPass(c,oGd.$LF[c])&&e>oS.ArP.ArC[1]},ChkActs:function(h,f,j,e){var d,c,g;!(h.FreeFreezeTime||h.FreeSetbodyTime)?(h.beAttacked&&!h.isAttacking&&h.JudgeAttack(),!h.isAttacking?(c=h.AttackedRX-=d=h.Speed)<-50?(j.splice(e,1),h.DisappearDie(),g=0):(c<100&&!h.PointZombie&&(h.PointZombie=1,!oS.CardKind&&(StopMusic(),PlayAudio("losemusic",false)),h.ChangeR({R:f,ar:[oS.R-1],CustomTop:400-h.height+h.GetDY()})),h.ZX=h.AttackedLX-=d,h.Ele.style.left=Math.floor(h.X-=d)+"px",g=1):g=1):g=1;return g},ChkActs1:function(g,e,h,d){var c,f;!(g.FreeFreezeTime||g.FreeSetbodyTime)?(g.beAttacked&&!g.isAttacking&&g.JudgeAttack(),!g.isAttacking?(g.AttackedLX+=c=g.Speed)>oS.W?(h.splice(d,1),g.DisappearDie(),f=0):(g.ZX=g.AttackedRX+=c,g.Ele.style.left=Math.ceil(g.X+=c)+"px",f=1):f=1):f=1;return f},GetDX:function(){return-110},GetDY:function(){return-10},GetDTop:0,ChangeR:function(e){var h=e.R,g=e.ar||[],j=e.CustomTop,d=this,q=h-1,l,k=d.id,m=-1,f=d.Ele,n=d.EleBody,i=oGd.$LF,c;!g.length&&(d.CanPass(q,i[q])&&(g[++m]=q),d.CanPass(q+=2,i[q])&&(g[++m]=q));g.length?(l=!d.WalkDirection?-5:5,d.ZX+=l,d.AttackedLX+=l,d.AttackedRX+=l,d.X+=l,q=g[Math.floor(Math.random()*g.length)],SetStyle(f,{left:d.X+"px",top:(d.pixelTop=j==undefined?GetY(q)-d.height+d.GetDY():j)+"px",zIndex:d.zIndex=3*q+1}),d.isAttacking&&(n.src=d.PicArr[d.NormalGif]),oZ.moveTo(k,h,q)):n.src=d.PicArr[d.NormalGif];d.isAttacking=0},getShadow:function(c){return"left:"+(c.beAttackedPointL-10)+"px;top:"+(c.height-22)+"px"},Init:function(g,i,e,d){var c=0,h=this,f=[];i.AttackedRX=(i.X=(i.ZX=i.AttackedLX=g)-i.beAttackedPointL)+i.beAttackedPointR;while(--d){i.CanPass(d,e[d])&&(f[c++]=d)}i.ArR=f;i.ArHTML=['<div id="','" style="position:absolute;display:',";left:","px;top:","px;z-index:",'"><img src="'+ShadowPNG+'" style="'+i.getShadow(i)+'"><img style="position:absolute;clip:rect(0,auto,',",0);top:",'px" src="','"></div>']},getHTML:function(d,g,i,h,f,k,j,c){var e=this.ArHTML;return e[0]+d+e[1]+f+e[2]+g+e[3]+i+e[4]+h+e[5]+k+e[6]+j+e[7]+c+e[8]},prepareBirth:function(f){var h=this,e=h.ArR,d=e[Math.floor(Math.random()*e.length)],g=GetY(d)+h.GetDY(),c=g-h.height,j=3*d+1,i=h.id="Z_"+Math.random();h.R=d;h.pixelTop=c;h.zIndex=j;(h.delayT=f)&&(h.FreeSetbodyTime=oSym.Now);return h.getHTML(i,h.X,c,j,"none","auto",h.GetDTop,h.PicArr[h.NormalGif])},CustomBirth:function(i,c,d,m){var g=this,f=GetY(i)+g.GetDY(),h=f-g.height,k=3*i+1,e=g.id="Z_"+Math.random(),l=g.beAttackedPointL,j=g.beAttackedPointR;g.AttackedRX=(g.X=(g.ZX=g.AttackedLX=GetX(c)-(j-l)*.5)-l)+j;g.R=i;g.pixelTop=h;g.zIndex=k;(g.delayT=d)&&(g.FreeSetbodyTime=oSym.Now);return g.getHTML(e,g.X,h,k,"none",m||0,g.GetDTop,g.PicArr[g.NormalGif])},BirthCallBack:function(f){var e=f.delayT,d=f.id,c=f.Ele=$(d);f.EleShadow=c.firstChild;f.EleBody=c.childNodes[1];e?oSym.addTask(e,function(h,g){var i=$Z[h];i&&(i.FreeSetbodyTime=0,SetBlock(g))},[d,c]):SetBlock(c)},Birth:function(){var c=this;$Z[c.id]=c;oZ.add(c);c.BirthCallBack(c)},getCrushed:function(c){return true},getRaven:function(){return this.DisappearDie(),1},getExplosion:function(){this.ExplosionDie()},getThump:function(){this.DisappearDie()},PlayNormalballAudio:function(){PlayAudio("splat"+Math.floor(1+Math.random()*3))},PlayFireballAudio:function(){PlayAudio(["ignite","ignite2"][Math.floor(Math.random()*2)])},PlaySlowballAudio:function(){PlayAudio("frozen")},getFireball:function(h,e,g){h.FreeSlowTime=0;h.Attack=100;h.FreeFreezeTime||h.FreeSetbodyTime?(h.PlayNormalballAudio(),h.Speed=h.OSpeed):h.PlayFireballAudio();var f=h.AttackedLX,j=h.AttackedRX,c=!g?oZ.getArZ(f,f+40,h.R):oZ.getArZ(j-40,j,h.R),d=c.length;while(d--){c[d].getSputtering()}},getSputtering:function(c){this.getHit2(this,c||13,0)},getSlow:function(h,f,g){var d=oSym.Now+g,e=h.FreeSlowTime,c=0;switch(true){case!e:!(h.FreeFreezeTime||h.FreeSetbodyTime)&&(h.Speed=.5*h.OSpeed);h.Attack=50;h.PlaySlowballAudio();h.FreeSlowTime=d;c=1;break;case e<d:h.FreeSlowTime=d;h.PlayNormalballAudio();c=1}c&&oSym.addTask(g,function(j,i){var k=$Z[j];k&&k.FreeSlowTime==i&&(k.FreeSlowTime=0,k.Attack=100,k.Speed&&(k.Speed=k.OSpeed))},[f,d])},getFreeze:function(d,c){d.beAttacked&&d.getHit0(d,20,0);d.Speed=0;oSym.addTask(400,function(g,f,e){ClearChild(e);var h=$Z[g];h&&h.FreeFreezeTime==f&&(h.FreeFreezeTime=0,h.Attack=50,!h.FreeSetbodyTime&&(h.Speed=.5*h.OSpeed,h.isAttacking&&h.JudgeAttack()),oSym.addTask(1500,function(j,i){var k=$Z[j];k&&k.FreeSlowTime==i&&(k.FreeSlowTime=0,k.Attack=100,!k.FreeSetbodyTime&&(k.Speed=k.OSpeed))},[g,h.FreeSlowTime=oSym.Now+1500]))},[c,d.FreeFreezeTime=oSym.Now+400,NewImg("icetrap_"+Math.random(),"images/Plants/IceShroom/icetrap.gif",d.getShadow(d),d.Ele)])},NormalDie:function(){var c=this;PlayAudio("zombie_falling_1");c.EleBody.src=c.PicArr[c.DieGif]+Math.random();oSym.addTask(250,ClearChild,[c.Ele]);c.HP=0;delete $Z[c.id];c.PZ&&oP.MonPrgs()},ExplosionDie:function(){var c=this;c.EleBody.src=c.PicArr[c.BoomDieGif]+Math.random();oSym.addTask(300,ClearChild,[c.Ele]);c.HP=0;delete $Z[c.id];c.PZ&&oP.MonPrgs()},DisappearDie:function(){ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()},CrushDie:function(){var c=this;c.GoingDieHead(c.id,c.PicArr,c);ClearChild(c.Ele);c.HP=0;delete $Z[c.id];c.PZ&&oP.MonPrgs()},GoingDieHead:function(e,c,d){oSym.addTask(200,ClearChild,[NewImg(0,c[d.HeadGif]+Math.random(),"left:"+d.AttackedLX+"px;top:"+(d.pixelTop-20)+"px;z-index:"+d.zIndex,EDPZ)])},GoingDie:function(d){var c=this,e=c.id;c.EleBody.src=d;c.GoingDieHead(e,c.PicArr,c);c.beAttacked=0;c.FreeFreezeTime=c.FreeSetbodyTime=c.FreeSlowTime=0;c.AutoReduceHP(e)},AutoReduceHP:function(c){oSym.addTask(100,function(e){var d=$Z[e];d&&((d.HP-=60)<1?d.NormalDie():d.AutoReduceHP(e))},[c])},JudgeAttack:function(){var g=this,d=g.ZX,e=g.R+"_",f=GetC(d),h=oGd.$,c;(c=g.JudgeLR(g,e,f,d,h)||g.JudgeSR(g,e,f,d,h))?(!g.isAttacking&&(g.isAttacking=1,g.EleBody.src=g.PicArr[g.AttackGif]),g.NormalAttack(c[0],c[1])):g.isAttacking&&(g.isAttacking=0,g.EleBody.src=g.PicArr[g.NormalGif])},JudgeLR:function(f,d,e,c,g){return e>10||e<1?false:function(){d+=--e+"_";var h=3,i;while(h--){if((i=g[d+h])&&i.canEat){return i.AttackedRX>=c&&i.AttackedLX<=c?[f.id,i.id]:false}}}()},JudgeSR:function(f,d,e,c,g){return e>9?false:function(){d+=e+"_";var h=3,i;while(h--){if((i=g[d+h])&&i.canEat){return i.AttackedRX>=c&&i.AttackedLX<=c?[f.id,i.id]:false}}}()},JudgeAttackH1:function(){var e=this,d=oZ.getZ0(e.ZX,e.R),c=e.id;d&&d.beAttacked&&d.AttackedLX<900&&d.Altitude==1&&(e.AttackZombie(d.id),!d.isAttacking&&d.AttackZombie(c))},JudgeAttackH:function(){var e=this,d=oZ.getZ0(e.ZX,e.R),f=e.id,c;d&&d.beAttacked&&d.AttackedLX<oS.W&&d.Altitude==1?!e.isAttacking?(e.isAttacking=1,e.EleBody.src=e.PicArr[e.AttackGif],e.AttackZombie(f,c=d.id),!d.isAttacking&&d.AttackZombie2(d,c,f)):e.AttackZombie(f,d.id,1):e.isAttacking&&(e.isAttacking=0,e.EleBody.src=e.PicArr[e.NormalGif])},AttackZombie:function(d,c){oSym.addTask(10,function(f,e){var h=$Z[f],g;h&&h.beAttacked&&!h.FreeFreezeTime&&!h.FreeSetbodyTime&&((g=$Z[e])&&g.getHit0(g,10,0),h.JudgeAttackH())},[d,c])},AttackZombie2:function(e,d,c){e.isAttacking=1;e.EleBody.src=e.PicArr[e.AttackGif];oSym.addTask(10,function(g,f){var i=$Z[g],h;i&&i.beAttacked&&!i.FreeFreezeTime&&!i.FreeSetbodyTime&&((h=$Z[f])?(h.getHit0(h,10,0),oSym.addTask(10,arguments.callee,[g,f])):(i.isAttacking=0,i.EleBody.src=i.PicArr[i.NormalGif]))},[d,c])},NormalAttack:function(d,c){PlayAudio(["chomp","chompsoft"][Math.floor(Math.random()*2)]);oSym.addTask(50,function(e){$Z[e]&&PlayAudio(["chomp","chompsoft"][Math.floor(Math.random()*2)])},[d]);oSym.addTask(100,function(f,e){var h=$Z[f],g;h&&h.beAttacked&&!h.FreeFreezeTime&&!h.FreeSetbodyTime&&((g=$P[e])&&g.getHurt(h,h.AKind,h.Attack),h.JudgeAttack())},[d,c])},PZ:1,ExchangeLR:function(f,d){var e=f.width,h=f.beAttackedPointL,c=f.beAttackedPointR,g=f.Ele;g.style.left=(f.X=f.AttackedLX-(f.beAttackedPointL=e-c))+"px";f.beAttackedPointR=e-h;f.EleShadow.style.cssText=f.getShadow(f);f.ExchangeLR2(f,f.EleBody,d)},ExchangeLR2:$User.Browser.IE?function(e,c,d){c.style.filter=e.CSS_alpha+(e.CSS_fliph=d?" fliph":"")}:function(e,c,d){c.className=d?"fliph":""},bedevil:function(c){c.ExchangeLR(c,1);c.JudgeAttack=c.JudgeAttackH;c.PZ=0;c.WalkDirection=1;c.ZX=c.AttackedRX;c.ChkActs=c.ChkActs1;oP.MonPrgs()},SetAlpha:$User.Browser.IE?function(f,d,e,c){d.style.filter=(f.CSS_alpha="alpha(opacity="+e+")")+f.CSS_fliph}:function(f,d,e,c){d.style.opacity=c}},a}(),OrnNoneZombies=function(){var a=function(c,b){if((c.HP-=b)<c.BreakPoint){c.GoingDie(c.PicArr[[c.LostHeadGif,c.LostHeadAttackGif][c.isAttacking]]);c.getHit0=c.getHit1=c.getHit2=c.getHit3=function(){};return}c.SetAlpha(c,c.EleBody,50,.5);oSym.addTask(10,function(e,d){(d=$Z[e])&&d.SetAlpha(d,d.EleBody,100,1)},[c.id])};return InheritO(CZombies,{getHit:a,getHit0:a,getHit1:a,getHit2:a,getHit3:a,getPea:function(e,b,c){e.PlayNormalballAudio();e.getHit0(e,b,c)},getFirePea:function(g,c,j){g.PlayFireballAudio();(g.FreeSlowTime||g.FreeFreezeTime)&&(g.Speed=g.OSpeed,g.FreeSlowTime=0,g.FreeFreezeTime=0);g.Attack=100;var f=g.AttackedLX,h=g.AttackedRX,b=oZ.getArZ(f,f+40,g.R),e=b.length;while(e--){b[e].getFirePeaSputtering()}g.getHit0(g,c,j)},getFirePeaSputtering:function(){this.getHit0(this,13)},getSnowPea:function(f,c,g){var e=f.FreeSlowTime,b=oSym.Now+1e3;e==0?(f.PlaySlowballAudio(),f.Speed=.5*f.OSpeed,f.Attack=50):f.PlayNormalballAudio();e<b&&(f.FreeSlowTime=b,oSym.addTask(1e3,function(h,d){var i=$Z[h];i&&i.FreeSlowTime==d&&(i.FreeSlowTime=0,i.Attack=100,i.Speed&&(i.Speed=i.OSpeed))},[f.id,b]));f.getHit0(f,c,g)}})}(),oBackupDancer=InheritO(OrnNoneZombies,{EName:"oBackupDancer",CName:"Backup Dancer",OSpeed:3.5,Speed:3.5,Lvl:1,StandGif:9,CanSelect:0,beAttackedPointL:40,beAttackedPointR:85,width:184,height:176,Speed:3.5,OSpeed:3.5,getShadow:function(a){return"display:none"},PicArr:function(){var a="images/Zombies/BackupDancer/";return["images/Card/Zombies/BackupDancer.png",a+"0.gif",a+"BackupDancer.gif",a+"Attack.gif",a+"LostHead.gif",a+"LostHeadAttack.gif",a+"Head.gif"+$Random,a+"Die.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"Dancing.gif"+$Random,a+"LostHeadDancing.gif"+$Random,a+"Mound.gif"+$Random]}(),GetDY:function(){return 0},bedevil:function(a){a.ExchangeLR(a,1);a.JudgeAttack=a.JudgeAttackH;a.PZ=0;a.WalkDirection=1;a.ZX=a.AttackedRX;a.ChkActs=a.ChkActs1;a.Speed=3.5;a.ChangeChkActsTo1(a,a.id,a.EleBody);oP.MonPrgs()},getSlow:function(f,d,e){var b=oSym.Now+e,c=f.FreeSlowTime,a=0;switch(true){case!c:f.PlaySlowballAudio();f.Attack=50;f.FreeSlowTime=b;a=1;break;case c<b:f.PlayNormalballAudio();f.FreeSlowTime=b;a=1}a&&oSym.addTask(e,function(h,g){var i=$Z[h];i&&i.FreeSlowTime==g&&(i.FreeSlowTime=0,i.Attack=100)},[d,b])},getFreeze:function(b,a){b.beAttacked&&b.getHit0(b,20,0);oSym.addTask(400,function(e,d,c){ClearChild(c);var f=$Z[e];f&&f.FreeFreezeTime==d&&(f.FreeFreezeTime=0,f.Attack=50,!f.FreeSetbodyTime&&f.isAttacking&&f.JudgeAttack(),oSym.addTask(1500,function(h,g){var i=$Z[h];i&&i.FreeSlowTime==g&&(i.FreeSlowTime=0,i.Attack=100)},[e,f.FreeSlowTime=oSym.Now+1500]))},[a,b.FreeFreezeTime=oSym.Now+400,NewImg("icetrap_"+Math.random(),"images/Plants/IceShroom/icetrap.gif",b.getShadow(b),b.Ele)])},CustomBirth:function(g,d,a,b,j){var e=this,c=GetY(g)+e.GetDY(),f=c-e.height,i=e.beAttackedPointL,h=e.beAttackedPointR;e.AttackedRX=(e.X=(e.ZX=e.AttackedLX=d-(h-i)*.5)-i)+h;e.R=g;(e.delayT=a)&&(e.FreeSetbodyTime=oSym.Now);return e.getHTML(e.id=b,e.X,e.pixelTop=f,e.zIndex=3*g+1,"none",j||0,e.height+"px",e.PicArr[e.StandGif])},Produce:'Zombies dance in gangs of four.</p><p>Toughness:<font color="#FF0000">Low</font>',BirthCallBack:function(e){var d=e.delayT,c=e.id,b=e.Ele=$(c),a=e.EleBody=b.childNodes[1];e.EleShadow=b.firstChild;oSym.addTask(d,function(g,f){var h=$Z[g];h&&(h.FreeSetbodyTime=0,SetBlock(f))},[c,b])},ChangeChkActsTo0:function(c,b,a){if(!c.PZ){c.ChangeChkActsTo1(c,b,a);return}c.LostHeadGif=10;c.NormalGif=9;!c.isAttacking&&(a.src=c.PicArr[9]);c.Speed=c.DZStep=0;oSym.addTask(200,function(e,d){var f=$Z[e];f&&f.beAttacked&&f.ChangeChkActsTo1(f,e,d)},[b,a])},ChangeChkActsTo1:function(c,b,a){c.LostHeadGif=4;c.NormalGif=2;c.DZStep=1;!c.isAttacking&&(a.src=c.PicArr[2]);c.PZ&&oSym.addTask(220,function(e,d){var f=$Z[e];f&&f.beAttacked&&f.ChangeChkActsTo0(f,e,d)},[b,a])},ChkActs:function(g,d,h,c){var e,b,a,f;!(g.FreeFreezeTime||g.FreeSetbodyTime)?(g.beAttacked&&!g.isAttacking&&g.JudgeAttack(),e=g.id,!g.isAttacking?(a=g.AttackedRX-=b=g.Speed)<-50?(h.splice(c,1),g.DisappearDie(),f=0):(a<100&&!g.PointZombie&&(g.PointZombie=1,!oS.CardKind&&(StopMusic(),PlayAudio("losemusic",false)),g.ChangeR({R:d,ar:[oS.R-1],CustomTop:400-g.height+g.GetDY()})),g.ZX=g.AttackedLX-=b,g.Ele.style.left=Math.floor(g.X-=b)+"px",f=1):f=1):f=1;g.ChkSpeed(g);return f},ChkSpeed:function(b){if(!b.DZStep){return}var a=b.Speed;switch(true){case(b.FreeFreezeTime||b.FreeSetbodyTime)==1:a&&(b.Speed=0);break;case b.FreeSlowTime>0:a!=1.75&&(b.Speed=1.75);break;default:a!=3.5&&(b.Speed=3.5)}}}),oDancingZombie=InheritO(OrnNoneZombies,{EName:"oDancingZombie",CName:"Lead Dancer",HP:270,BreakPoint:166,Lvl:3,StandGif:9,SunNum:350,beAttackedPointL:40,beAttackedPointR:85,width:184,height:176,BookHandPosition:"70% 70%",AudioArr:["dancer"],OSpeed:7.2,Speed:7.2,NormalGif:9,GetDTop:5,getShadow:function(a){return"left:30px;top:146px"},GetDX:function(){return-50},GetDY:function(){return-5},LostHeadGif:14,addSpotlight:function(){var a,b;$User.Browser.IE6?(a="_8",b="filter:alpha(opacity=30)"):a=b="";return function(d,f,c){var g=$Z[d],e;NewEle(d+"_spotlightCon","div","position:absolute;left:-30px;top:-400px;width:184px;height:600px;overflow:hidden",0,c).appendChild(g.spotlight=NewImg(d+"_spotlight","images/Zombies/DancingZombie/spotlight"+a+".png","left:0;top:0;width:920px;height:600px;"+b));e=NewEle(d+"_spotlight2Con","div","position:absolute;left:-25px;top:135px;width:184px;height:60px;overflow:hidden",0);c.insertBefore(e,f.EleShadow);e.appendChild(g.spotlight2=NewImg(d+"_spotlight2","images/Zombies/DancingZombie/spotlight2"+a+".png","left:0;top:0;width:920px;height:60px;"+b))}}(),PicArr:function(){var d="images/Zombies/DancingZombie/",c=$User.Browser.IE6?"_8":"",a=d+"spotlight"+c+".png"+$Random,b=d+"spotlight2"+c+".png"+$Random;return["images/Card/Zombies/DancingZombie.png",d+"0.gif",d+"DancingZombie.gif",d+"Attack.gif",d+"LostHead.gif",d+"LostHeadAttack.gif",d+"Head.gif"+$Random,d+"Die.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,d+"SlidingStep.gif"+$Random,d+"Dancing.gif"+$Random,d+"Summon1.gif",d+"Summon2.gif",d+"Summon3.gif",d+"LostHeadSlidingStep.gif"+$Random,d+"LostHeadDancing.gif"+$Random,d+"LostHeadSummon.gif"+$Random,a,b]}(),Produce:'Toughness: <font color="#FF0000">Medium</font><br>Features: <font color="#FF0000">Summons dancing zombies</font>',getSnowPea:function(){Z.PlaySlowballAudio()},NormalDie:function(){var a=this;a.ResetBackupDancer(a);a.EleBody.src=a.PicArr[a.DieGif]+Math.random();oSym.addTask(250,ClearChild,[a.Ele]);a.HP=0;delete $Z[a.id];a.PZ&&oP.MonPrgs()},ExplosionDie:function(){var a=this;a.ResetBackupDancer(a);a.EleBody.src=a.PicArr[a.BoomDieGif]+Math.random();oSym.addTask(300,ClearChild,[a.Ele]);a.HP=0;delete $Z[a.id];a.PZ&&oP.MonPrgs()},DisappearDie:function(){this.ResetBackupDancer(this);ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()},CrushDie:function(){var a=this;a.ResetBackupDancer(a);a.GoingDieHead(a.id,a.PicArr,a);ClearChild(a.Ele);a.HP=0;delete $Z[a.id];a.PZ&&oP.MonPrgs()},bedevil:function(b){var a=b.id;b.ExchangeLR(b,1);b.JudgeAttack=b.JudgeAttackH;b.PZ=0;b.WalkDirection=1;b.ZX=b.AttackedRX;b.ChkActs=b.ChkActs1;b.ChangeChkActsTo1(b,a,b.EleBody);b.ResetBackupDancer(b);$(a+"_spotlightCon").style.left="20px",$(a+"_spotlight2Con").style.left="25px";oP.MonPrgs()},ResetBackupDancer:function(f){var g=f.ArDZ,d=g.length,c,b,e,a=f.DZStep;while(d--){if((c=g[d])&&(b=c[0])&&(e=$Z[b])&&e.beAttacked){if(a>0){switch(true){case(e.FreeFreezeTime||e.FreeSetbodyTime)==1:e.Speed=0;break;case e.FreeSlowTime>0:e.Speed=1.75;break;default:e.Speed=3.5}}}}a>-1&&oSym.addTask(f.DZStepT-oSym.Now,function(o,j){var m=4,l,k,n,h="ChangeChkActsTo"+j;while(m--){(l=o[m])&&(k=l[0])&&(n=$Z[k])&&n.beAttacked&&(n.DZStep=j,n[h](n,k,n.EleBody))}},[g,[1,0][a]])},BirthCallBack:function(d){var b=d.delayT,l=d.id,a=d.Ele=$(l),c=320,i=oGd.$LF,g=d.R,s=g-1,n=g+1,e,r,q=LX-60,m=LX+100,k=LX-130,j=LX-70,h=LX+30,f=d.ArDZ=[0,0,0,0];d.EleShadow=a.firstChild;d.EleBody=a.childNodes[1];s>0&&(e=i[s])&&e!=2&&(f[0]=["",s,function(o){return o},3*s+2,function(o){return o-70},GetY(s)-155]);n<=oS.R&&(e=i[n])&&e!=2&&(f[2]=["",n,function(o){return o},3*n+2,function(o){return o-70},GetY(n)-155]);e=3*g+2;r=GetY(g)-155;f[3]=["",g,function(o){return o-60},e,function(o){return o-130},r];f[1]=["",g,function(o){return o+100},e,function(o){return o+30},r];func=function(t,o){var u=$Z[t];u&&(u.ExchangeLR(d,1),u.DZMSpeed=7.2,u.DZStep=-1,u.DZStepT=oSym.Now+220,u.FreeSetbodyTime=0,SetBlock(o))};b?(oSym.addTask(b,func,[l,a]),c+=b):func(l,a);oSym.addTask(c,function(o){var t=$Z[o];t&&t.beAttacked&&!t.isAttacking&&t.NormalAttack(o)},[d.id])},ChkActs1:function(e,b,f,a){var c,d;!(e.FreeFreezeTime||e.FreeSetbodyTime)?(e.beAttacked&&!e.isAttacking&&e.JudgeAttack(),c=e.id,!e.isAttacking?(e.AttackedLX+=3.5)>oS.W?(f.splice(a,1),e.DisappearDie(),d=0):(e.ZX=e.AttackedRX+=3.5,e.Ele.style.left=Math.ceil(e.X+=3.5)+"px",d=1):d=1):d=1;return d},ChkTmp:function(c,b,d,a){c.ChkSpeed(c);return 0},ChkActs:function(g,d,h,c){var e,b,a,f;!(g.FreeFreezeTime||g.FreeSetbodyTime)?(g.beAttacked&&!g.isAttacking&&g.JudgeAttack(),e=g.id,!g.isAttacking?(a=g.AttackedRX-=b=g.Speed)<-50?(h.splice(c,1),g.DisappearDie(),f=0):(a<100&&!g.PointZombie&&(g.PointZombie=1,!oS.CardKind&&(StopMusic(),PlayAudio("losemusic",false)),g.ChangeR({R:d,ar:[oS.R-1],CustomTop:400-g.height+g.GetDY()})),g.ZX=g.AttackedLX-=b,g.Ele.style.left=Math.floor(g.X-=b)+"px",f=1):f=1):f=1;g.ChkSpeed(g);return f},ChkSpeed:function(g){if(!g.DZStep){return}var h=g.ArDZ,d=4,c,b,e,a=g.OSpeed,f=[];switch(true){case(g.isAttacking||g.FreeFreezeTime||g.FreeSetbodyTime)==1:a=0;break;case g.FreeSlowTime>0:a!=1.75&&(a=1.75)}while(d--){if((c=h[d])&&(b=c[0])&&(e=$Z[b])&&e.beAttacked){f.push(e);switch(true){case(e.isAttacking||e.FreeFreezeTime||e.FreeSetbodyTime)==1:a=0;break;case e.FreeSlowTime>0:a!=1.75&&(a=1.75)}}}if(a!=g.DZMSpeed){g.DZMSpeed=a;d=f.length;while(d--){(e=f[d]).Speed!=a&&(e.Speed=a)}g.Speed!=a&&(g.Speed=a)}},AttackZombie:function(a){this.ExchangeLR(this,0);var b=this.id;this.isAttacking=1;this.EleBody.src=this.PicArr[this.AttackGif];oSym.addTask(10,function(d,c){var f=$Z[d],e;f&&f.beAttacked&&!f.FreeFreezeTime&&!f.FreeSetbodyTime&&((e=$Z[c])?(e.getHit0(e,10,0),oSym.addTask(10,arguments.callee,[d,c])):(f.isAttacking=0,f.EleBody.src=f.PicArr[f.NormalGif],f.TurnLeft(f)))},[b,a])},ChkBackupDancer:function(h,g,f){if(!h.PZ){h.ChangeChkActsTo1(h,g,f);return}var b=h.ArDZ,d=4,j=1,c,e,a;while(d--){(e=b[d])&&(!(c=e[0])||!(a=$Z[c])||(a.PZ?false:(e[0]="",true)))&&(d=j=0)}!h.isAttacking&&j?f.src=h.PicArr[10]:h.Summon(h,g);h.ChangeChkActsTo0(h,g,f)},ChangeChkActsTo0:function(g,e,a){if(!g.PZ){g.ChangeChkActsTo1(g,e,a);return}var d=4,h=g.ArDZ,c,b,f;while(d--){(b=h[d])&&(c=b[0])&&(f=$Z[c])&&f.beAttacked&&(f.LostHeadGif=10,f.NormalGif=9,!f.isAttacking&&(f.EleBody.src=f.PicArr[9]),f.Speed=0)}g.LostHeadGif=15;g.NormalGif=10;g.Speed=g.DZMSpeed=g.DZStep=0;g.DZStepT=oSym.Now+200;oSym.addTask(200,function(j,i){var k=$Z[j];k&&k.beAttacked&&k.ChangeChkActsTo1(k,j,i)},[e,a])},ChangeChkActsTo1:function(g,e,a){var d=4,h=g.ArDZ,c,b,f;while(d--){(b=h[d])&&(c=b[0])&&(f=$Z[c])&&f.beAttacked&&(f.LostHeadGif=4,f.NormalGif=2,!f.isAttacking&&(f.EleBody.src=f.PicArr[2]))}g.LostHeadGif=4;g.NormalGif=2;g.DZStep=1;g.DZStepT=oSym.Now+220;!g.isAttacking&&(a.src=g.PicArr[2]);g.PZ&&oSym.addTask(220,function(j,i){var k=$Z[j];k&&k.beAttacked&&k.ChkBackupDancer(k,j,i)},[e,a])},TurnLeft:function(c){var a=CZombies.prototype,b=c.id;c.AttackZombie=a.AttackZombie;c.NormalAttack=a.NormalAttack;c.OSpeed=3.5;!(c.FreeSlowTime||c.FreeFreezeTime||c.FreeSetbodyTime)&&(c.Speed=3.5);c.getSnowPea=OrnNoneZombies.prototype.getSnowPea;c.getFreeze=CZombies.prototype.getFreeze;oSym.addTask(20,function(d,e){$Z[d]&&e.beAttacked&&(e.addSpotlight(d,e,e.Ele),oSym.addTask(200,function(g,f,i,h,k){var j=$Z[g];j&&(h>-736?h-=184:h=0,f.style.left=h+"px",k>-736?k-=184:k=0,i.style.left=k+"px",oSym.addTask(100,arguments.callee,[g,f,i,h,k]))},[d,e.spotlight,e.spotlight2,0,0]),oSym.addTask(200,function(h,g){var f;$Z[g]&&h.beAttacked&&(f=h.EleBody,!h.isAttacking?f.src=h.PicArr[10]:h.isAttacking=0,h.ChangeChkActsTo0(h,g,f))},[e,d]))},[b,c]);c.Summon(c,b)},NormalAttack:function(a){var b=$Z[a];b.ExchangeLR(b,0);b.TurnLeft(b)},Summon:function(d,c){d.LostHeadGif=16;var a=d.EleBody,b=d.ChkActs;d.ChkActs=d.ChkTmp;d.ChkTmp=b;a.src="images/Zombies/DancingZombie/Summon1.gif";PlayAudio("dancer");oSym.addTask(10,function(f,e){var g=$Z[f];g&&g.beAttacked&&(e.src="images/Zombies/DancingZombie/Summon2.gif",oSym.addTask(10,function(t,s,x){var h=$Z[t],v=h.ZX,m=h.ArDZ,n=[],k="images/Zombies/BackupDancer/Mound.gif"+$Random+Math.random(),r=4,w=[],u=[],o=0,q,l;if(h&&h.beAttacked){s.src="images/Zombies/DancingZombie/Summon3.gif";while(r--){(q=m[r])&&(!(l=q[0])||!$Z[l])&&(u[o]=(w[o]=new oBackupDancer).CustomBirth(q[1],q[2](v),100,q[0]="Z_"+Math.random()),n.push(NewImg("",k,"z-index:"+q[3]+";left:"+q[4](v)+"px;top:"+q[5]+"px",EDPZ)),++o)}oSym.addTask(220,function(){var i=arguments.length;while(i--){ClearChild(arguments[i])}},n);oSym.addTask(110,function(A,y,z,i){var B=$Z[A];B&&B.beAttacked&&(oP.AppearUP(y,z,i),oSym.addTask(100,function(D,C){var E=$Z[D];if(E&&E.beAttacked){return}var j=C.length,E;while(j--){(E=C[j]).ChangeChkActsTo0(E,E.id,E.EleBody)}},[A,z]))},[t,u,w,o]);oSym.addTask(200,function(y,i){var z=$Z[y],j;z&&z.beAttacked&&(j=z.ChkActs,z.ChkActs=z.ChkTmp,z.ChkTmp=j)},[t,s])}},[f,e]))},[c,a])}}),oZombie=InheritO(OrnNoneZombies,{EName:"oZombie",CName: "Common Zombie", StandGif: 9, PicArr: function() {var a = "images/Zombies/Zombie/"; return ["images/Card/Zombies/Zombie.png", a + "0.gif", a + "Zombie.gif", a + "ZombieAttack.gif", a + "ZombieLostHead.gif", a + "ZombieLostHeadAttack.gif", a + "ZombieHead.gif" + $Random, a + "ZombieDie.gif" + $Random, "images/Zombies/BoomDie.gif" + $Random, a + "1.gif"]}(), Produce: 'Toughness: <font color="#FF0000">Low</font></p>This type of zombie loves brains, greedy and never satisfied.'}),oZombie2=InheritO(oZombie,{EName:"oZombie2"}),oZombie3=InheritO(oZombie,{EName:"oZombie3"}),oMustacheZombie=InheritO(oZombie,{EName:"oMustacheZombie",CName: "Bearded Man", HP: 540, Produce: 'A mysterious zombie found in the Evergreen Tower. <p>Toughness: <font color="#FF0000">High</font></p>',PicArr:function(){var a="images/Zombies/Zombie/";var b="images/Zombies/MustacheZombie/";return["images/Card/Zombies/MustacheZombie.png",b+"0.gif",b+"Zombie.gif",b+"ZombieAttack.gif",a+"ZombieLostHead.gif",a+"ZombieLostHeadAttack.gif",a+"ZombieHead.gif"+$Random,a+"ZombieDie.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,b+"1.gif"]}()}),oFlagZombie=InheritO(oZombie,{PicArr:function(){var a="images/Zombies/FlagZombie/";return["images/Card/Zombies/FlagZombie.png",a+"0.gif",a+"FlagZombie.gif",a+"FlagZombieAttack.gif",a+"FlagZombieLostHead.gif",a+"FlagZombieLostHeadAttack.gif","images/Zombies/Zombie/ZombieHead.gif"+$Random,"images/Zombies/Zombie/ZombieDie.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"1.gif"]}(),EName:"oFlagZombie",CName: "Flag Runner", OSpeed: 2.2, Speed: 2.2, beAttackedPointR: 101, Produce: 'Flag Zombie signifies an incoming "wave" of zombies. <p>Toughness: <font color="#FF0000">Low</font></p>'}),OrnIZombies=function(){var a=function(f,b){var d=f.OrnHP,c=f.HP,e=OrnNoneZombies.prototype;(d=f.OrnHP-=b)<1&&(f.HP+=d,f.Ornaments=0,f.EleBody.src=f.PicArr[[f.NormalGif=f.OrnLostNormalGif,f.AttackGif=f.OrnLostAttackGif][f.isAttacking]],f.PlayNormalballAudio=e.PlayNormalballAudio,f.PlayFireballAudio=e.PlayFireballAudio,f.PlaySlowballAudio=e.PlaySlowballAudio,f.getHit=f.getHit0=f.getHit1=f.getHit2=f.getHit3=e.getHit);f.SetAlpha(f,f.EleBody,50,.5);oSym.addTask(10,function(h,g){(g=$Z[h])&&g.SetAlpha(g,g.EleBody,100,1)},[f.id])};return InheritO(OrnNoneZombies,{Ornaments:1,OrnLostNormalGif:9,OrnLostAttackGif:10,getHit:a,getHit0:a,getHit1:a,getHit2:a,getHit3:a})}(),oConeheadZombie=InheritO(OrnIZombies,{EName:"oConeheadZombie",CName:"Cone Head", OrnHP:370, Lvl:2, SunNum:75, StandGif:11, PicArr:function(){var b="images/Zombies/ConeheadZombie/",a="images/Zombies/Zombie/";return["images/Card/Zombies/ConeheadZombie.png",b+"0.gif",b+"ConeheadZombie.gif",b+"ConeheadZombieAttack.gif",a+"ZombieLostHead.gif",a+"ZombieLostHeadAttack.gif",a+"ZombieHead.gif"+$Random,a+"ZombieDie.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"Zombie.gif",a+"ZombieAttack.gif",b+"1.gif"]}(),AudioArr:["plastichit"],PlayNormalballAudio:function(){PlayAudio("plastichit")},Produce:'His cone helmet makes him twice as tough as a normal zombie. <p>Toughness: <font color="#FF0000">Medium</font></p>'}),oLionDanceZombie=InheritO(oConeheadZombie,{EName:"oLionDanceZombie",CName:"Lion Dance", HP:370, OrnHP:1100, Speed:4.8, Attack:550, width:216, height:164, beAttackedPointL:60, beAttackedPointR:130, PicArr:function(){var b="images/Zombies/LionDanceZombie/",a="images/Zombies/LionDanceZombie/";return["images/Card/Zombies/LionDanceZombie.png",b+"0.gif",b+"ConeheadZombie.gif",b+"ConeheadZombieAttack.gif",a+"ZombieLostHead.gif",a+"ZombieLostHeadAttack.gif",a+"ZombieHead.gif"+$Random,a+"ZombieDie.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"Zombie.gif",a+"ZombieAttack.gif",b+"1.gif"]}(),Produce:'Appears only on level 101 of the Eternal Tower. <p>Toughness: <font color="#FF0000">High</font></p> Lion dance is a popular folk art.'}),oBucketheadZombie=InheritO(oConeheadZombie,{EName:"oBucketheadZombie",CName:"Buckethead",OrnHP:1100,Lvl:3,SunNum:125,PlayNormalballAudio:function(){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)])},Produce:'His iron can helmet can withstand a lot of damage. <p>Toughness: <font color="#FF0000">High</font><br>Weakness: <font color="#FF0000">Potato Mine</font></p>'},{PicArr:{0:"images/Card/Zombies/BucketheadZombie.png",1:"images/Zombies/BucketheadZombie/0.gif",2:"images/Zombies/BucketheadZombie/BucketheadZombie.gif",3:"images/Zombies/BucketheadZombie/BucketheadZombieAttack.gif",9:"images/Zombies/Zombie/Zombie.gif",11:"images/Zombies/BucketheadZombie/1.gif"}}),oFootballZombie=InheritO(oConeheadZombie,{EName:"oFootballZombie",CName:"Freshman Player",OrnHP:1400,Lvl:3,SunNum:175,StandGif:11,width:154,height:160,OSpeed:3.2,Speed:3.2,beAttackedPointL:40,beAttackedPointR:134,PlayNormalballAudio:function(){PlayAudio("plastichit")},PicArr:function(){var a="images/Zombies/FootballZombie/";return["images/Card/Zombies/FootballZombie.png",a+"0.gif",a+"FootballZombie.gif",a+"Attack.gif",a+"LostHead.gif",a+"LostHeadAttack.gif","images/Zombies/Zombie/ZombieHead.gif"+$Random,a+"Die.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"OrnLost.gif",a+"OrnLostAttack.gif",a+"1.gif"]}(),getShadow:function(a){return"left:"+(a.beAttackedPointL+15)+"px;top:"+(a.height-22)+"px"},Produce:'Football Zombie, hes just a Freshman. <p>Toughness: <font color="#FF0000">Extremely High</font><br>Speed: <font color="#FF0000">Fast</font></p>'}),oHeiFootballZombie=InheritO(oFootballZombie,{EName:"oHeiFootballZombie",CName:"Varsity Player",OrnHP:2800,Lvl:3,StandGif:11,width:154,height:160,OSpeed:3.3,Speed:3.3,beAttackedPointL:40,beAttackedPointR:134,PicArr:function(){var a="images/Zombies/HeiFootballZombie/";return["images/Card/Zombies/HeiFootballZombie.png",a+"0.gif",a+"FootballZombie.gif",a+"Attack.gif",a+"LostHead.gif",a+"LostHeadAttack.gif","images/Zombies/Zombie/ZombieHead.gif"+$Random,a+"Die.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"OrnLost.gif",a+"OrnLostAttack.gif",a+"1.gif"]}(),Produce:'Has no idea what a football is. <p>Toughness: <font color="#FF0000">Extremely High</font><br>Speed: <font color="#FF0000">Fast</font></p>'}),oCFootballZombie=InheritO(oFootballZombie,{EName:"oCFootballZombie",CName:"元帅僵尸",PicArr:function(){var a="images/Zombies/wall/FootballZombie/";return["images/Card/Zombies/FootballZombie.png",a+"0.gif",a+"FootballZombie.gif",a+"Attack.gif",a+"LostHead.gif",a+"LostHeadAttack.gif","images/Zombies/Zombie/ZombieHead.gif"+$Random,a+"Die.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"OrnLost.gif",a+"OrnLostAttack.gif",a+"1.gif"]}(),Produce:""}),oPoleVaultingZombie=InheritO(OrnNoneZombies,{EName:"oPoleVaultingZombie",CName: "Vaulter", HP: 270, width: 348, height: 218, OSpeed: 3.2, Speed: 3.2, beAttackedPointL: 215, beAttackedPointR: 260, StandGif: 13, GetDX: function(){return -238}, GetDY: function(){return 2}, Lvl: 2, SunNum: 75, PicArr: function(){var a = "images/Zombies/PoleVaultingZombie/"; return ["images/Card/Zombies/PoleVaultingZombie.png", a + "0.gif", a + "PoleVaultingZombie.gif", a + "PoleVaultingZombieAttack.gif", a + "PoleVaultingZombieLostHead.gif", a + "PoleVaultingZombieLostHeadAttack.gif", a + "PoleVaultingZombieHead.gif" + $Random, a + "PoleVaultingZombieDie.gif" + $Random, a + "BoomDie.gif" + $Random, a + "PoleVaultingZombieWalk.gif", a + "PoleVaultingZombieLostHeadWalk.gif", a + "PoleVaultingZombieJump.gif", a + "PoleVaultingZombieJump2.gif", a + "1.gif"]}(), AudioArr: ["polevault","grassstep"], Produce: 'The Pole Vaulting Zombie uses a pole to jump over obstacles. <p>Toughness: <font color="#FF0000">Medium</font><br>Speed: <font color="#FF0000">Fast, then slow (after jumping)</font><br>Ability: <font color="#FF0000">Jumps over the first plant it encounters</font></p>',getShadow:function(a){return"left:"+(a.beAttackedPointL-20)+"px;top:"+(a.height-35)+"px"},GoingDieHead:function(c,a,b){oSym.addTask(200,ClearChild,[NewImg(0,a[b.HeadGif]+Math.random(),"left:"+b.X+"px;top:"+(b.pixelTop-20)+"px;z-index:"+b.zIndex,EDPZ)])},JudgeAttack:function(){var g=this,b=g.ZX,d=g.R+"_",c=GetC(b),h=oGd.$,f,a,e=b-74;for(f=c-2;f<=c;f++){if(f>9){continue}for(a=2;a>-1;(p=h[d+f+"_"+a--])&&(p.EName!="oBrains"?p.AttackedRX>=e&&p.AttackedLX<b&&p.canEat&&(a=-1,g.JudgeAttack=CZombies.prototype.JudgeAttack,g.NormalAttack(g.id,p.id,p.AttackedLX)):p.AttackedRX>=b&&p.AttackedLX<b&&(a=-1,g.JudgeAttack=CZombies.prototype.JudgeAttack,(g.NormalAttack=CZombies.prototype.NormalAttack)(g.id,p.id)))){}}},getCrushed:function(a){this.NormalAttack(this.id,a.id,a.AttackedLX);this.getCrushed=function(){return false};a.Stature>0&&oSym.addTask(50,function(c){var b=$Z[c];b&&b.CrushDie()},[this.id]);return false},getRaven:function(a){return!this.isAttacking&&this.NormalAttack(this.id,a,$P[a].AttackedLX),0},NormalAttack:function(d,b,g){var f=$Z[d],a=f.Ele,c=f.EleShadow,e=f.EleBody;e.src="images/Zombies/PoleVaultingZombie/PoleVaultingZombieJump.gif"+$Random+Math.random();PlayAudio("grassstep");SetHidden(c);f.isAttacking=1;f.Altitude=2;f.getFreeze=function(){f.getSnowPea(f,20)};oSym.addTask(50,function(h){$Z[h]&&PlayAudio("polevault")},[d]);oSym.addTask(100,function(m,j,i,l,n){var h=$Z[m],k,q,r;h&&((k=$P[j])&&k.Stature>0?(h.AttackedRX=(h.X=(h.AttackedLX=h.ZX=q=k.AttackedRX)-h.beAttackedPointL)+h.beAttackedPointR,SetStyle(i,{left:h.X+"px"}),n.src="images/Zombies/PoleVaultingZombie/PoleVaultingZombieWalk.gif",SetVisible(l),h.isAttacking=0,h.Altitude=1,h.OSpeed=h.Speed=1.6,h.NormalGif=9,h.LostHeadGif=10,h.NormalAttack=(r=CZombies.prototype).NormalAttack,h.getCrushed=r.getCrushed,h.getFreeze=r.getFreeze,h.getRaven=r.getRaven):(h.ZX=h.AttackedLX=(h.X=(h.AttackedRX=g)-h.beAttackedPointR)+h.beAttackedPointL,SetStyle(i,{left:h.X+"px"}),n.src="images/Zombies/PoleVaultingZombie/PoleVaultingZombieJump2.gif"+$Random+Math.random(),SetVisible(l),oSym.addTask(80,function(s,v){var u=$Z[s],t;u&&(v.src="images/Zombies/PoleVaultingZombie/PoleVaultingZombieWalk.gif",u.isAttacking=0,u.Altitude=1,u.OSpeed=u.Speed=1.6,u.NormalGif=9,u.LostHeadGif=10,u.NormalAttack=(t=CZombies.prototype).NormalAttack,u.getCrushed=t.getCrushed,u.getFreeze=t.getFreeze,u.getRaven=t.getRaven)},[m,n])))},[d,b,a,c,e])}}),oCPoleVaultingZombie=InheritO(oPoleVaultingZombie,{EName:"oCPoleVaultingZombie",CName:"Vaulter",PicArr:function(){var b="images/Zombies/PoleVaultingZombie/";var a="images/Zombies/wall/PoleVaultingZombie/";return["images/Card/Zombies/PoleVaultingZombie.png",a+"0.gif",a+"PoleVaultingZombie.gif",a+"PoleVaultingZombieAttack.gif",a+"PoleVaultingZombieLostHead.gif",a+"PoleVaultingZombieLostHeadAttack.gif",a+"PoleVaultingZombieHead.gif"+$Random,a+"PoleVaultingZombieDie.gif"+$Random,b+"BoomDie.gif"+$Random,a+"PoleVaultingZombieWalk.gif",a+"PoleVaultingZombieLostHeadWalk.gif",a+"PoleVaultingZombieJump.gif",a+"PoleVaultingZombieJump2.gif",a+"1.gif"]}(),NormalAttack:function(d,b,g){var f=$Z[d],a=f.Ele,c=f.EleShadow,e=f.EleBody;e.src="images/Zombies/wall/PoleVaultingZombie/PoleVaultingZombieJump.gif"+$Random+Math.random();PlayAudio("grassstep");SetHidden(c);f.isAttacking=1;f.Altitude=2;f.getFreeze=function(){f.getSnowPea(f,20)};oSym.addTask(50,function(h){$Z[h]&&PlayAudio("polevault")},[d]);oSym.addTask(100,function(m,j,i,l,n){var h=$Z[m],k,q,r;h&&((k=$P[j])&&k.Stature>0?(h.AttackedRX=(h.X=(h.AttackedLX=h.ZX=q=k.AttackedRX)-h.beAttackedPointL)+h.beAttackedPointR,SetStyle(i,{left:h.X+"px"}),n.src="images/Zombies/wall/PoleVaultingZombie/PoleVaultingZombieWalk.gif",SetVisible(l),h.isAttacking=0,h.Altitude=1,h.OSpeed=h.Speed=1.6,h.NormalGif=9,h.LostHeadGif=10,h.NormalAttack=(r=CZombies.prototype).NormalAttack,h.getCrushed=r.getCrushed,h.getFreeze=r.getFreeze,h.getRaven=r.getRaven):(h.ZX=h.AttackedLX=(h.X=(h.AttackedRX=g)-h.beAttackedPointR)+h.beAttackedPointL,SetStyle(i,{left:h.X+"px"}),n.src="images/Zombies/wall/PoleVaultingZombie/PoleVaultingZombieJump2.gif"+$Random+Math.random(),SetVisible(l),oSym.addTask(80,function(s,v){var u=$Z[s],t;u&&(v.src="images/Zombies/wall/PoleVaultingZombie/PoleVaultingZombieWalk.gif",u.isAttacking=0,u.Altitude=1,u.OSpeed=u.Speed=1.6,u.NormalGif=9,u.LostHeadGif=10,u.NormalAttack=(t=CZombies.prototype).NormalAttack,u.getCrushed=t.getCrushed,u.getFreeze=t.getFreeze,u.getRaven=t.getRaven)},[m,n])))},[d,b,a,c,e])}}),OrnIIZombies=InheritO(OrnNoneZombies,{Ornaments:2,BreakPoint:91,NormalGif:2,AttackGif:3,LostHeadGif:4,LostHeadAttackGif:5,OrnLostNormalGif:6,OrnLostAttackGif:7,OrnLostHeadNormalGif:8,OrnLostHeadAttackGif:9,HeadGif:10,DieGif:11,BoomDieGif:12}),oNewspaperZombie=InheritO(OrnIIZombies,{EName:"oNewspaperZombie",CName: "News Reader", OrnHP: 150, Lvl: 2, LostPaperGif: 13, StandGif: 14, width: 216, height: 164, beAttackedPointL: 60, beAttackedPointR: 130, LostPaperSpeed: 4.8, PicArr: function(){var a = "images/Zombies/NewspaperZombie/"; return ["images/Card/Zombies/NewspaperZombie.png", a + "0.gif", a + "HeadWalk1.gif", a + "HeadAttack1.gif", a + "LostHeadWalk1.gif", a + "LostHeadAttack1.gif", a + "HeadWalk0.gif", a + "HeadAttack0.gif", a + "LostHeadWalk0.gif", a + "LostHeadAttack0.gif", a + "Head.gif" + $Random, a + "Die.gif" + $Random, "images/Zombies/BoomDie.gif" + $Random, a + "LostNewspaper.gif", a + "1.gif"]}(), AudioArr: ["newspaper_rarrgh2"], Produce: 'His newspaper only provides limited defense. <p>Toughness: <font color="#FF0000">Low</font><br>Newspaper Toughness: <font color="#FF0000">Low</font><br>Speed: Normal, then fast (after losing newspaper)</p>',getShadow:function(a){return"left:75px;top:"+(a.height-25)+"px"},GoingDie:function(b){var a=this,c=a.id;a.EleBody.src=b;oSym.addTask(200,ClearChild,[NewImg(0,a.PicArr[a.HeadGif]+Math.random(),"left:"+a.AttackedLX+"px;top:"+(a.pixelTop-20)+"px;z-index:"+a.zIndex,EDPZ)]);a.beAttacked=0;a.FreeFreezeTime=a.FreeSetbodyTime=a.FreeSlowTime=0;a.AutoReduceHP(c)},getHurtOrnLost:function(j,a,g,m,c,l,k,i){var e=this;if(!e.beAttacked){k&&e.DisappearDie();return}var b=e.id,h=e.HP,d=e.PicArr,f=e.isAttacking;switch(true){case(h-=g)<1:e.HP=0;e.NormalDie();return;case h<91:e.HP=h;e.GoingDie(d[[e.OrnLostHeadNormalGif,e.OrnLostHeadAttackGif][f]]);return}e.HP=h;switch(m){case-1:e.getSlow(e,b,1e3);break;case 1:e.getFireball(e,b,a);break;default:!i&&j==-1&&e.PlayNormalballAudio()}SetAlpha(e.EleBody,50,.5);oSym.addTask(10,function(q){var n=$Z[q];n&&SetAlpha(n.EleBody,100,1)},[b])},getSnowPea:function(c,a,b){PlayAudio("splat"+Math.floor(1+Math.random()*3));c.getHit0(c,a,b)},getFirePea:function(f,b,e){f.PlayFireballAudio();(f.FreeSlowTime||f.FreeFreezeTime)&&(f.Speed=f.OSpeed,f.FreeSlowTime=0,f.FreeFreezeTime=0);f.Attack=100;var d=f.AttackedLX,g=f.AttackedRX,a=oZ.getArZ(d,d+40,f.R),c=a.length,h;while(c--){(h=a[c])!=this&&h.getFirePeaSputtering()}(f.HP-=b)<f.BreakPoint?(f.getFirePea=OrnNoneZombies.prototype.getFirePea,f.GoingDie(f.PicArr[[f.LostHeadGif,f.LostHeadAttackGif][f.isAttacking]]),f.getHit=f.getHit0=f.getHit1=f.getHit2=f.getHit3=function(){}):(f.CheckOrnHP(f,f.id,f.OrnHP,b,f.PicArr,f.isAttacking,0),f.SetAlpha(f,f.EleBody,50,.5),oSym.addTask(10,function(j,i){(i=$Z[j])&&i.SetAlpha(i,i.EleBody,100,1)},[f.id]))},getHit0:function(c,a,b){b==c.WalkDirection?(c.CheckOrnHP(c,c.id,c.OrnHP,a,c.PicArr,c.isAttacking,1),c.SetAlpha(c,c.EleBody,50,.5),oSym.addTask(10,function(e,d){(d=$Z[e])&&d.SetAlpha(d,d.EleBody,100,1)},[c.id])):(c.HP-=a)<c.BreakPoint&&(c.GoingDie(c.PicArr[[c.LostHeadGif,c.LostHeadAttackGif][c.isAttacking]]),c.getFirePea=OrnNoneZombies.prototype.getFirePea,c.getSnowPea=OrnNoneZombies.prototype.getSnowPea,c.getHit=c.getHit0=c.getHit1=c.getHit2=c.getHit3=function(){})},getHit1:function(b,a){(b.HP-=a)<b.BreakPoint?(b.GoingDie(b.PicArr[[b.LostHeadGif,b.LostHeadAttackGif][b.isAttacking]]),b.getFirePea=OrnNoneZombies.prototype.getFirePea,b.getSnowPea=OrnNoneZombies.prototype.getSnowPea,b.getHit=b.getHit0=b.getHit1=b.getHit2=b.getHit3=function(){}):(b.CheckOrnHP(b,b.id,b.OrnHP,a,b.PicArr,b.isAttacking,0),b.SetAlpha(b,b.EleBody,50,.5),oSym.addTask(10,function(d,c){(c=$Z[d])&&c.SetAlpha(c,c.EleBody,100,1)},[b.id]))},getHit2:function(b,a){(b.HP-=a)<b.BreakPoint?(b.GoingDie(b.PicArr[[b.LostHeadGif,b.LostHeadAttackGif][b.isAttacking]]),b.getFirePea=OrnNoneZombies.prototype.getFirePea,b.getSnowPea=OrnNoneZombies.prototype.getSnowPea,b.getHit=b.getHit0=b.getHit1=b.getHit2=b.getHit3=function(){}):(b.SetAlpha(b,b.EleBody,50,.5),oSym.addTask(10,function(d,c){(c=$Z[d])&&c.SetAlpha(c,c.EleBody,100,1)},[b.id]))},getHit3:function(b,a){(b.HP-=a)<b.BreakPoint?(b.GoingDie(b.PicArr[[b.LostHeadGif,b.LostHeadAttackGif][b.isAttacking]]),b.getFirePea=OrnNoneZombies.prototype.getFirePea,b.getSnowPea=OrnNoneZombies.prototype.getSnowPea,b.getHit=b.getHit0=b.getHit1=b.getHit2=b.getHit3=function(){}):(b.CheckOrnHP(b,b.id,b.OrnHP,a,b.PicArr,b.isAttacking,0),b.SetAlpha(b,b.EleBody,50,.5),oSym.addTask(10,function(d,c){(c=$Z[d])&&c.SetAlpha(c,c.EleBody,100,1)},[b.id]))},CheckOrnHP:function(g,h,d,c,f,b,a){var e=OrnNoneZombies.prototype;(g.OrnHP=d-=c)<1&&(a&&(g.HP+=d),g.ChkActs=function(){return 1},g.ChkActs1=function(){return 1},g.EleBody.src=f[g.LostPaperGif]+$Random+Math.random(),g.Ornaments=0,g.LostHeadGif=8,g.LostHeadAttackGif=9,g.getFirePea=e.getFirePea,g.getSnowPea=e.getSnowPea,g.getHit=g.getHit0=g.getHit1=g.getHit2=g.getHit3=e.getHit,oSym.addTask(150,function(m,l){var k=$Z[m];if(!k){return}var j=CZombies.prototype,i=k.OSpeed=k.LostPaperSpeed;k.ChkActs=j.ChkActs;k.ChkActs1=j.ChkActs1;k.Speed&&(k.Speed=!k.FreeSlowTime?i:.5*i);if(!k.beAttacked){return}PlayAudio("newspaper_rarrgh2");k.EleBody.src=l;k.JudgeAttack()},[h,f[[g.NormalGif=g.OrnLostNormalGif,g.AttackGif=g.OrnLostAttackGif][b]]]))}}),oCNewspaperZombie=InheritO(oNewspaperZombie,{EName:"oCNewspaperZombie"}),oScreenDoorZombie=InheritO(oNewspaperZombie,{EName:"oScreenDoorZombie",CName:"Door-Man",OrnHP:1100,Lvl:3,SunNum:100,StandGif:13,width:166,height:144,beAttackedPointL:60,beAttackedPointR:116,PicArr:function(){var a="images/Zombies/ScreenDoorZombie/",b="images/Zombies/Zombie/";return["images/Card/Zombies/ScreenDoorZombie.png",a+"0.gif",a+"HeadWalk1.gif",a+"HeadAttack1.gif",a+"LostHeadWalk1.gif",a+"LostHeadAttack1.gif",b+"Zombie.gif",b+"ZombieAttack.gif",b+"ZombieLostHead.gif",b+"ZombieLostHeadAttack.gif",b+"ZombieHead.gif"+$Random,b+"ZombieDie.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"1.gif"]}(),PlayNormalballAudio:function(){PlayAudio("splat"+Math.floor(1+Math.random()*3))},Produce:'His screen is quite an effective shield.<p>toughness:<font color="#FF0000">Low</font><br>Screen Toughness:<font color="#FF0000">High</font><br>Weaknesses: Big Puff Mushroom and Magnet Mushroom',GoingDie:CZombies.prototype.GoingDie,getFirePea:function(c,a,b){PlayAudio(b==c.WalkDirection?["shieldhit","shieldhit2"][Math.floor(Math.random()*2)]:"splat"+Math.floor(1+Math.random()*3));c.getHit0(c,a,b)},getFirePeaSputtering:function(){},getSnowPea:function(c,a,b){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)]);c.getHit0(c,a,b)},getPea:function(c,a,b){PlayAudio(b==c.WalkDirection?["shieldhit","shieldhit2"][Math.floor(Math.random()*2)]:"splat"+Math.floor(1+Math.random()*3));c.getHit0(c,a,b)},getHit0:function(c,a,b){b==c.WalkDirection?(c.CheckOrnHP(c,c.id,c.OrnHP,a,c.PicArr,c.isAttacking,1),c.SetAlpha(c,c.EleBody,50,.5),oSym.addTask(10,function(e,d){(d=$Z[e])&&d.SetAlpha(d,d.EleBody,100,1)},[c.id])):(c.HP-=a)<c.BreakPoint&&(c.GoingDie(c.PicArr[[c.LostHeadGif,c.LostHeadAttackGif][c.isAttacking]]),c.getHit=c.getHit0=c.getHit1=c.getHit2=c.getHit3=function(){})},CheckOrnHP:function(g,h,d,c,f,b,a){var e=OrnNoneZombies.prototype;(g.OrnHP=d-=c)<1&&(a&&(g.HP+=d),g.Ornaments=0,g.EleBody.src=f[[g.NormalGif=g.OrnLostNormalGif,g.AttackGif=g.OrnLostAttackGif][b]],g.LostHeadGif=8,g.LostHeadAttackGif=9,g.getPea=e.getPea,g.getFirePea=e.getFirePea,g.getFirePeaSputtering=e.getFirePeaSputtering,g.getSnowPea=g.getSnowPea,g.PlayNormalballAudio=e.PlayNormalballAudio,g.PlayFireballAudio=e.PlayFireballAudio,g.PlaySlowballAudio=e.PlaySlowballAudio,g.getHit=g.getHit0=g.getHit1=g.getHit2=g.getHit3=e.getHit)},getFireball:function(c,a,b){b!=c.WalkDirection?(c.FreeSlowTime=0,c.Attack=100,c.Speed!=c.OSpeed?(c.PlayNormalballAudio(),c.Speed=c.OSpeed):c.PlayFireballAudio()):c.PlayNormalballAudio()},getSputtering:function(){},getSlow:function(d,a,c,b,e){b!=d.WalkDirection||e!=-1?CZombies.prototype.getSlow(d,a,c):d.PlayNormalballAudio()}}),oTrashZombie=InheritO(oScreenDoorZombie,{EName:"oTrashZombie",CName:"Trash-Man",PicArr:function(){var a="images/Zombies/TrashZombie/",b="images/Zombies/Zombie/";return["images/Card/Zombies/TrashZombie.png",a+"0.gif",a+"HeadWalk1.gif",a+"HeadAttack1.gif",a+"LostHeadWalk1.gif",a+"LostHeadAttack1.gif",b+"Zombie.gif",b+"ZombieAttack.gif",b+"ZombieLostHead.gif",b+"ZombieLostHeadAttack.gif",b+"ZombieHead.gif"+$Random,b+"ZombieDie.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"1.gif"]}(),Produce:"A mysterious zombie haunting the Tower of Evergreen."}),oAquaticZombie=InheritO(OrnNoneZombies,{StandGif:4,AttackGif:5,HeadGif:6,DieGif:7,WalkGif0:2,WalkGif1:3,CanPass:function(b,a){return a==2},BirthCallBack:function(g){var e=g.delayT,c=g.id,b=g.Ele=$(c),d=g.AttackedLX,f,a,h;f=g.EleShadow=b.firstChild;g.EleBody=b.childNodes[1];switch(true){case d>GetX(9):g.ChkActs=g.ChkActsL1;g.WalkStatus=0;break;case d<GetX(0):g.ChkActs=g.ChkActsL3;g.WalkStatus=0;break;default:g.ChkActs=g.ChkActsL2;g.WalkStatus=1;g.EleBody.src=g.PicArr[g.NormalGif=g.WalkGif1];SetHidden(f);NewEle(a=c+"_splash","div","position:absolute;background:url(images/interface/splash.png);left:61px;top:"+(g.height-88)+"px;width:97px;height:88px;over-flow:hidden",0,b);ImgSpriter(a,c,[["0 0",9,1],["-97px 0",9,2],["-194px 0",9,3],["-291px 0",9,4],["-388px 0",9,5],["-485px 0",9,6],["-582px 0",9,7],["-679px 0",9,-1]],0,function(i,j){ClearChild($(i))})}e?oSym.addTask(e,function(j,i){var k=$Z[j];k&&(k.FreeSetbodyTime=0,SetBlock(i))},[c,b]):SetBlock(b)},ChkActsL1:function(f,e,g,d){var c,a,b=f.id;!(f.FreeFreezeTime||f.FreeSetbodyTime)&&(f.AttackedRX-=c=f.Speed,LX=f.ZX=f.AttackedLX-=c,f.Ele.style.left=Math.floor(f.X-=c)+"px");f.AttackedLX<GetX(9)&&(PlayAudio("zombie_entering_water"),f.WalkStatus=1,f.EleBody.src=f.PicArr[f.NormalGif=f.WalkGif1],SetHidden(f.EleShadow),NewEle(a=b+"_splash","div","position:absolute;background:url(images/interface/splash.png);left:61px;top:"+(f.height-88)+"px;width:97px;height:88px;over-flow:hidden",0,f.Ele),f.ChkActs=f.ChkActsL2,ImgSpriter(a,b,[["0 0",9,1],["-97px 0",9,2],["-194px 0",9,3],["-291px 0",9,4],["-388px 0",9,5],["-485px 0",9,6],["-582px 0",9,7],["-679px 0",9,-1]],0,function(h,i){ClearChild($(h))}));return 1},ChkActsL2:function(d,c,e,b){var a;!(d.FreeFreezeTime||d.FreeSetbodyTime)&&(d.beAttacked&&!d.isAttacking&&d.JudgeAttack(),!d.isAttacking&&(d.AttackedRX-=a=d.Speed,d.ZX=d.AttackedLX-=a,d.Ele.style.left=Math.floor(d.X-=a)+"px"));d.AttackedLX<GetX(0)&&(d.WalkStatus=0,d.EleBody.src=d.PicArr[d.NormalGif=d.WalkGif0],SetVisible(d.EleShadow),d.ChkActs=d.ChkActsL3);return 1},ChkActsL3:CZombies.prototype.ChkActs,ChkActs1:function(d,c,e,b){var a;!(d.FreeFreezeTime||d.FreeSetbodyTime)&&(d.beAttacked&&!d.isAttacking&&d.JudgeAttack(),!d.isAttacking&&(d.AttackedLX+=a=d.Speed,d.ZX=d.AttackedRX+=a,d.Ele.style.left=Math.ceil(d.X+=a)+"px"));d.AttackedLX>GetX(9)&&(d.WalkStatus=0,d.EleBody.src=d.PicArr[d.NormalGif=d.WalkGif0],SetVisible(d.EleShadow),d.ChkActs=d.ChkActs2);return 1},ChkActs2:function(e,c,f,b){var a,d;!(e.FreeFreezeTime||e.FreeSetbodyTime)?(e.beAttacked&&!e.isAttacking&&e.JudgeAttack(),!e.isAttacking?(e.AttackedLX+=a=e.Speed)>oS.W?(f.splice(b,1),e.DisappearDie(),d=0):(e.ZX=e.AttackedRX+=a,e.Ele.style.left=Math.ceil(e.X+=a)+"px",d=1):d=1):d=1;return d},ExchangeLR:function(d,b){var c=d.width,f=d.beAttackedPointL,a=d.beAttackedPointR,e=d.Ele;e.style.left=(d.X=d.AttackedLX-(d.beAttackedPointL=c-a))+"px";d.beAttackedPointR=c-f;d.EleShadow.style.cssText="visibility:hidden;left:"+(d.beAttackedPointL-10)+"px;top:"+(d.height-22)+"px";d.ExchangeLR2(d,d.EleBody,b)},GoingDie:function(){var b=this,c=b.id,a=b.PicArr;b.EleBody.src=a[7]+Math.random();b.GoingDieHead(c,a,b);b.beAttacked=0;b.FreeFreezeTime=b.FreeSetbodyTime=b.FreeSlowTime=0;b.AutoReduceHP(c)},AutoReduceHP:function(a){oSym.addTask(100,function(c){var b=$Z[c];b&&((b.HP-=60)<1?(b.NormalDie(),oSym.addTask(50,ClearChild,[b.Ele])):oSym.addTask(100,arguments.callee,[c]))},[a])},ExplosionDie:function(){ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()},DisappearDie:function(){ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()},CrushDie:function(){ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()},NormalDie:function(){this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()}}),oDuckyTubeZombie1=InheritO(oAquaticZombie,{EName:"oDuckyTubeZombie1",CName: "Floater", beAttackedPointR: 130, GetDY: function() {return 5}, Produce: 'The duck on a raft allows the zombie to float on the surface of the water. <p>Toughness: <font color="#FF0000">Low</font><br></font></p>',PicArr:function(){var a="images/Zombies/DuckyTubeZombie1/";return["images/Card/Zombies/DuckyTubeZombie1.png",a+"0.gif",a+"Walk1.gif",a+"Walk2.gif",a+"1.gif",a+"Attack.gif",a+"ZombieHead.gif"+$Random,a+"Die.gif"+$Random]}(),AudioArr:["zombie_entering_water"]}),oWarshipsZombie=InheritO(oDuckyTubeZombie1,{EName:"oWarshipsZombie",CName: "Snorkelers", HP: "5000", OSpeed: .1, Speed: .1, width: 464, height: 364, beAttackedPointL: 140, beAttackedPointR: 290, Attack: 550, BookHandBack: 4.9, getShadow: function(a) {return "display:none"}, Produce: 'Usually appears in the last wave in the pool. <p>Toughness: <font color="#FF0000">Very high</font><br></font></p>',PicArr:function(){var a="images/Zombies/WarshipsZombie/";return["images/Card/Zombies/WarshipsZombie.png",a+"0.gif",a+"Walk1.gif",a+"Walk2.gif",a+"1.gif",a+"Attack.gif",a+"ZombieHead.gif"+$Random,a+"Die.gif"+$Random]}()}),oDuckyTubeZombie2=InheritO(oDuckyTubeZombie1,{EName:"oDuckyTubeZombie2",CName:"Floater 2",OrnHP:370,Lvl:2,SunNum:75,CanDisplay:0,OrnLostNormalGif:9,OrnLostAttackGif:10,PlayNormalballAudio:function(){PlayAudio("plastichit")},PicArr:function(){var b="images/Zombies/DuckyTubeZombie2/",a="images/Zombies/DuckyTubeZombie1/";return["images/Card/Zombies/DuckyTubeZombie1.png",b+"0.gif",b+"Walk1.gif",b+"Walk2.gif",b+"1.gif",b+"Attack.gif","images/Zombies/Zombie/ZombieHead.gif"+$Random,a+"Die.gif"+$Random,a+"Walk1.gif",a+"Walk2.gif",a+"Attack.gif"]}(),AudioArr:["plastichit","zombie_entering_water"],getHit:OrnIZombies.prototype.getHit,getHit0:OrnIZombies.prototype.getHit0,getHit1:OrnIZombies.prototype.getHit1,getHit2:OrnIZombies.prototype.getHit2,getHit3:OrnIZombies.prototype.getHit3}),oDuckyTubeZombie3=InheritO(oDuckyTubeZombie2,{EName:"oDuckyTubeZombie3",CName:"Floater 3",OrnHP:1100,Lvl:3,SunNum:125,PlayNormalballAudio:function(){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)])},AudioArr:["shieldhit","shieldhit2","zombie_entering_water"],PicArr:function(){var b="images/Zombies/DuckyTubeZombie3/",a="images/Zombies/DuckyTubeZombie1/";return["images/Card/Zombies/DuckyTubeZombie1.png",b+"0.gif",b+"Walk1.gif",b+"Walk2.gif",b+"1.gif",b+"Attack.gif","images/Zombies/Zombie/ZombieHead.gif"+$Random,a+"Die.gif"+$Random,a+"Walk1.gif",a+"Walk2.gif",a+"Attack.gif"]}()}),oDuckyTubeZombie4=InheritO(oDuckyTubeZombie3,{EName:"oDuckyTubeZombie4",CName:"Floater 4",PicArr:function(){var b="images/Zombies/DuckyTubeZombie4/",a="images/Zombies/DuckyTubeZombie1/";return["images/Card/Zombies/DuckyTubeZombie1.png",b+"0.gif",b+"Walk1.gif",b+"Walk2.gif",b+"1.gif",b+"Attack.gif","images/Zombies/Zombie/ZombieHead.gif"+$Random,a+"Die.gif"+$Random,a+"Walk1.gif",a+"Walk2.gif",a+"Attack.gif"]}(),getHit:OrnIIZombies.prototype.getHit,getHit0:oScreenDoorZombie.prototype.getHit0,getHit1:OrnIIZombies.prototype.getHit1,getHit2:OrnIIZombies.prototype.getHit2,getHit3:OrnIIZombies.prototype.getHit3,getSnowPea:oScreenDoorZombie.prototype.getSnowPea,CheckOrnHP:oScreenDoorZombie.prototype.CheckOrnHP}),oAquaticZombie=InheritO(OrnNoneZombies,{StandGif:4,AttackGif:5,HeadGif:6,DieGif:7,WalkGif0:2,WalkGif1:3,CanPass:function(b,a){return a==2},BirthCallBack:function(g){var e=g.delayT,c=g.id,b=g.Ele=$(c),d=g.AttackedLX,f,a,h;f=g.EleShadow=b.firstChild;g.EleBody=b.childNodes[1];switch(true){case d>GetX(9):g.ChkActs=g.ChkActsL1;g.WalkStatus=0;break;case d<GetX(0):g.ChkActs=g.ChkActsL3;g.WalkStatus=0;break;default:g.ChkActs=g.ChkActsL2;g.WalkStatus=1;g.EleBody.src=g.PicArr[g.NormalGif=g.WalkGif1];SetHidden(f);NewEle(a=c+"_splash","div","position:absolute;background:url(images/interface/splash.png);left:61px;top:"+(g.height-88)+"px;width:97px;height:88px;over-flow:hidden",0,b);ImgSpriter(a,c,[["0 0",9,1],["-97px 0",9,2],["-194px 0",9,3],["-291px 0",9,4],["-388px 0",9,5],["-485px 0",9,6],["-582px 0",9,7],["-679px 0",9,-1]],0,function(i,j){ClearChild($(i))})}e?oSym.addTask(e,function(j,i){var k=$Z[j];k&&(k.FreeSetbodyTime=0,SetBlock(i))},[c,b]):SetBlock(b)},ChkActsL1:function(f,e,g,d){var c,a,b=f.id;!(f.FreeFreezeTime||f.FreeSetbodyTime)&&(f.AttackedRX-=c=f.Speed,LX=f.ZX=f.AttackedLX-=c,f.Ele.style.left=Math.floor(f.X-=c)+"px");f.AttackedLX<GetX(9)&&(PlayAudio("zombie_entering_water"),f.WalkStatus=1,f.EleBody.src=f.PicArr[f.NormalGif=f.WalkGif1],SetHidden(f.EleShadow),NewEle(a=b+"_splash","div","position:absolute;background:url(images/interface/splash.png);left:61px;top:"+(f.height-88)+"px;width:97px;height:88px;over-flow:hidden",0,f.Ele),f.ChkActs=f.ChkActsL2,ImgSpriter(a,b,[["0 0",9,1],["-97px 0",9,2],["-194px 0",9,3],["-291px 0",9,4],["-388px 0",9,5],["-485px 0",9,6],["-582px 0",9,7],["-679px 0",9,-1]],0,function(h,i){ClearChild($(h))}));return 1},ChkActsL2:function(d,c,e,b){var a;!(d.FreeFreezeTime||d.FreeSetbodyTime)&&(d.beAttacked&&!d.isAttacking&&d.JudgeAttack(),!d.isAttacking&&(d.AttackedRX-=a=d.Speed,d.ZX=d.AttackedLX-=a,d.Ele.style.left=Math.floor(d.X-=a)+"px"));d.AttackedLX<GetX(0)&&(d.WalkStatus=0,d.EleBody.src=d.PicArr[d.NormalGif=d.WalkGif0],SetVisible(d.EleShadow),d.ChkActs=d.ChkActsL3);return 1},ChkActsL3:CZombies.prototype.ChkActs,ChkActs1:function(d,c,e,b){var a;!(d.FreeFreezeTime||d.FreeSetbodyTime)&&(d.beAttacked&&!d.isAttacking&&d.JudgeAttack(),!d.isAttacking&&(d.AttackedLX+=a=d.Speed,d.ZX=d.AttackedRX+=a,d.Ele.style.left=Math.ceil(d.X+=a)+"px"));d.AttackedLX>GetX(9)&&(d.WalkStatus=0,d.EleBody.src=d.PicArr[d.NormalGif=d.WalkGif0],SetVisible(d.EleShadow),d.ChkActs=d.ChkActs2);return 1},ChkActs2:function(e,c,f,b){var a,d;!(e.FreeFreezeTime||e.FreeSetbodyTime)?(e.beAttacked&&!e.isAttacking&&e.JudgeAttack(),!e.isAttacking?(e.AttackedLX+=a=e.Speed)>oS.W?(f.splice(b,1),e.DisappearDie(),d=0):(e.ZX=e.AttackedRX+=a,e.Ele.style.left=Math.ceil(e.X+=a)+"px",d=1):d=1):d=1;return d},ExchangeLR:function(d,b){var c=d.width,f=d.beAttackedPointL,a=d.beAttackedPointR,e=d.Ele;e.style.left=(d.X=d.AttackedLX-(d.beAttackedPointL=c-a))+"px";d.beAttackedPointR=c-f;d.EleShadow.style.cssText="visibility:hidden;left:"+(d.beAttackedPointL-10)+"px;top:"+(d.height-22)+"px";d.ExchangeLR2(d,d.EleBody,b)},GoingDie:function(){var b=this,c=b.id,a=b.PicArr;b.EleBody.src=a[7]+Math.random();b.GoingDieHead(c,a,b);b.beAttacked=0;b.FreeFreezeTime=b.FreeSetbodyTime=b.FreeSlowTime=0;b.AutoReduceHP(c)},AutoReduceHP:function(a){oSym.addTask(100,function(c){var b=$Z[c];b&&((b.HP-=60)<1?(b.NormalDie(),oSym.addTask(50,ClearChild,[b.Ele])):oSym.addTask(100,arguments.callee,[c]))},[a])},ExplosionDie:function(){ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()},DisappearDie:function(){ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()},CrushDie:function(){ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()},NormalDie:function(){this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()}}),oSnorkelZombie=InheritO(oDuckyTubeZombie1,{EName:"oSnorkelZombie",CName:"Snorkelers",Lvl:1,SunNum:75,width:143,height:200,beAttackedPointL:40,beAttackedPointR:100,OSpeed:3.2,Speed:3.2,Altitude:1,BirthCallBack:function(g){var e=g.delayT,c=g.id,b=g.Ele=$(c),d=g.AttackedLX,f,a,h;f=g.EleShadow=b.firstChild;g.EleBody=b.childNodes[1];switch(true){case d>GetX(9):g.ChkActs=g.ChkActsL1;g.WalkStatus=0;break;case d<GetX(0):g.ChkActs=g.ChkActsL3;g.WalkStatus=0;break;default:g.ChkActs=g.ChkActsL2;g.WalkStatus=1;g.EleBody.src=g.PicArr[g.NormalGif=g.WalkGif1];SetHidden(f);NewEle(a=c+"_splash","div","position:absolute;background:url(images/interface/splash.png);left:61px;top:"+(g.height-88)+"px;width:97px;height:88px;over-flow:hidden",0,b);ImgSpriter(a,c,[["0 0",9,1],["-97px 0",9,2],["-194px 0",9,3],["-291px 0",9,4],["-388px 0",9,5],["-485px 0",9,6],["-582px 0",9,7],["-679px 0",9,-1]],0,function(i,j){ClearChild($(i))})}e?oSym.addTask(e,function(j,i){var k=$Z[j];k&&(k.FreeSetbodyTime=0,SetBlock(i))},[c,b]):SetBlock(b)},Produce:'Diving zombies can move forward underwater.<p>Toughness:<font color="#FF0000">Low</font><br>Features: <font color="#FF0000">Swim to avoid attacks<br></font></p>',JumpTime:40,getShadow:function(a){return"left:"+a.beAttackedPointL+"px;top:"+(a.height-45)+"px"},PicArr:function(){var a="images/Zombies/SnorkelZombie/";return["images/Card/Zombies/SnorkelZombie.png",a+"0.gif",a+"Walk1.gif",a+"Walk2.gif",a+"1.gif",a+"Attack.gif",a+"Head.gif"+$Random,a+"Die.gif"+$Random,a+"Jump.gif"+$Random,a+"Risk.gif"+$Random,a+"Sink.gif"+$Random]}(),AudioArr:["zombie_entering_water"],Jump:function(a){a.beAttacked&&(PlayAudio("zombie_entering_water"),a.Altitude=2,SetHidden(a.EleShadow),a.EleBody.src=a.PicArr[8]+Math.random(),oSym.addTask(160,function(c,b){$Z[c]&&b.beAttacked&&(b.WalkStatus=1,b.Altitude=0,b.OSpeed=b.Speed=2,b.EleBody.src=b.PicArr[b.NormalGif=b.WalkGif1],b.ChkActs=b.ChkActsL2)},[a.id,a]),a.ChkActs=function(){return 1})},ChkActsL1:function(d,c,e,b){if(d.JumpTime<=0){d.Jump(d);return 1}var a;!(d.FreeFreezeTime||d.FreeSetbodyTime)&&(d.AttackedRX-=a=d.Speed,LX=d.ZX=d.AttackedLX-=a,d.Ele.style.left=Math.floor(d.X-=a)+"px",--d.JumpTime);return 1},ChkActsL2:function(d,c,e,b){var a;!(d.FreeFreezeTime||d.FreeSetbodyTime)&&(d.AttackedLX>GetX(0)?(d.beAttacked&&!d.isAttacking&&d.JudgeAttack(),!d.isAttacking&&(d.AttackedRX-=a=d.Speed,d.ZX=d.AttackedLX-=a,d.Ele.style.left=Math.floor(d.X-=a)+"px")):d.beAttacked&&(d.WalkStatus=0,d.Altitude=1,d.EleBody.src=d.PicArr[d.NormalGif=d.WalkGif0],SetVisible(d.EleShadow),d.ChkActs=d.ChkActsL3));return 1},JudgeAttack:function(){var e=this,b=e.ZX,c=e.R+"_",d=GetC(b),g=oGd.$,a,f=e.id;(a=e.JudgeLR(e,c,d,b,g)||e.JudgeSR(e,c,d,b,g))?!e.isAttacking?(e.isAttacking=1,e.EleBody.src=e.PicArr[9]+Math.random(),oSym.addTask(50,function(i,h){$Z[i]&&h.beAttacked&&(h.EleBody.src=h.PicArr[h.AttackGif],h.Altitude=1,h.NormalAttack(a[0],a[1]))},[f,e])):e.NormalAttack(a[0],a[1]):e.isAttacking&&(e.EleBody.src=e.PicArr[10]+Math.random(),e.Altitude=0,oSym.addTask(70,function(i,h){$Z[i]&&h.beAttacked&&(h.isAttacking=0,h.EleBody.src=h.PicArr[h.NormalGif])},[f,e]))},NormalAttack:function(b,a){oSym.addTask(100,function(d,c){var f=$Z[d],e;f&&f.beAttacked&&!f.FreeFreezeTime&&!f.FreeSetbodyTime&&((e=$P[c])&&e.getHurt(f,0,100),f.JudgeAttack())},[b,a])},JudgeAttackH:function(){var c=this,b=oZ.getZ0(c.ZX,c.R),d=c.id,a;b&&b.beAttacked&&b.AttackedLX<900&&b.Altitude<2?!c.isAttacking?(c.isAttacking=1,c.EleBody.src=c.PicArr[9]+Math.random(),a=b.id,!b.isAttacking&&b.AttackZombie2(b,a,d),oSym.addTask(50,function(g,h,f,e){$Z[h]&&g.beAttacked&&($Z[e]&&f.beAttacked?(g.EleBody.src=g.PicArr[g.AttackGif],g.Altitude=1,g.AttackZombie(h,e)):g.JudgeAttackH())},[c,d,b,a])):c.AttackZombie(d,a):c.isAttacking&&(c.EleBody.src=c.PicArr[10]+Math.random(),c.Altitude=0,oSym.addTask(70,function(f,e){$Z[f]&&e.beAttacked&&(e.isAttacking=0,e.EleBody.src=e.PicArr[e.NormalGif])},[d,c]))},AttackZombie2:function(c,b,a){c.isAttacking=1;c.EleBody.src=c.PicArr[9]+Math.random();oSym.addTask(50,function(g,e,d,f){$Z[e]&&g.beAttacked&&((f=$Z[d])&&f.beAttacked?(g.EleBody.src=g.PicArr[g.AttackGif],g.Altitude=1,oSym.addTask(10,function(k,i,j,h){$Z[i]&&k.beAttacked&&!k.FreeFreezeTime&&!k.FreeSetbodyTime&&($Z[h]&&j.beAttacked?(j.getHit0(j,10,0),oSym.addTask(10,arguments.callee,[k,i,j,h])):(k.EleBody.src=k.PicArr[10]+Math.random(),k.Altitude=0,oSym.addTask(70,function(l,m){$Z[l]&&m.beAttacked&&(m.isAttacking=0,m.EleBody.src=m.PicArr[m.NormalGif])},[i,k])))},[g,e,f,d])):(g.EleBody.src=g.PicArr[10]+Math.random(),g.Altitude=0,oSym.addTask(70,function(h,i){$Z[h]&&i.beAttacked&&(i.isAttacking=0,i.EleBody.src=i.PicArr[i.NormalGif])},[e,g])))},[c,b,a])},AutoReduceHP:function(a){oSym.addTask(100,function(c){var b=$Z[c];b&&((b.HP-=60)<1?(b.NormalDie(),oSym.addTask(200,ClearChild,[b.Ele])):oSym.addTask(100,arguments.callee,[c]))},[a])}}),oCSnorkelZombie=InheritO(oSnorkelZombie,{}),oSubZombie=InheritO(oSnorkelZombie,{EName:"oSubZombie",CName:"Submarine",HP:"500",OSpeed:1,Speed:1,width:464,height:364,beAttackedPointL:140,beAttackedPointR:290,BookHandBack:4.9,Produce:'A powerful mechanical submarine that can evade most attacks in water.<p>Toughness:<font color="#FF0000">Extremely High</font><br>Features: <font color="#FF0000">Dives underwater to avoid attack.<br></font></p></font></p>',PicArr:function(){var a="images/Zombies/SubZombie/";return["images/Card/Zombies/SubZombie.png",a+"0.gif",a+"Walk1.gif",a+"Walk2.gif",a+"1.gif",a+"Attack.gif",a+"Head.gif"+$Random,a+"Die.gif"+$Random,a+"Jump.gif"+$Random,a+"Risk.gif"+$Random,a+"Sink.gif"+$Random]}()}),oSmallZombie=InheritO(oZombie,{EName:"oSmallZombie",CName:"Small Zombie",HP:67,width:83,height:72,beAttackedPointL:41,beAttackedPointR:78,BreakPoint:25,Init:function(e,g,c,b){var a=0,f=this,d=[];g.AttackedRX=(g.X=(g.ZX=g.AttackedLX=e)-g.beAttackedPointL)+g.beAttackedPointR;while(--b){g.CanPass(b,c[b])&&(d[a++]=b)}g.ArR=d;g.ArHTML=['<div id="','" style="position:absolute;display:',";left:","px;top:","px;z-index:",'"><img src="'+ShadowPNG+'" style="'+g.getShadow(g)+'"><img style="position:absolute;clip:rect(0,auto,',",0);width:83px;height:72px;top:",'px" src="','"></div>']},GoingDieHead:function(c,a,b){oSym.addTask(200,ClearChild,[NewImg(0,a[b.HeadGif]+Math.random(),"width:75px;height:93px;left:"+b.AttackedLX+"px;top:"+(b.pixelTop-20)+"px;z-index:"+b.zIndex,EDPZ)])},getShadow:function(a){return"width:43px;height:18px;left:"+(a.beAttackedPointL-5)+"px;top:"+(a.height-15)+"px"}}),oSmallFlagZombie=InheritO(oFlagZombie,{EName:"oSmallFlagZombie",CName:"Small Flag Zombie",HP:67,width:83,height:72,beAttackedPointL:41,beAttackedPointR:78,BreakPoint:25,Init:function(e,g,c,b){var a=0,f=this,d=[];g.AttackedRX=(g.X=(g.ZX=g.AttackedLX=e)-g.beAttackedPointL)+g.beAttackedPointR;while(--b){g.CanPass(b,c[b])&&(d[a++]=b)}g.ArR=d;g.ArHTML=['<div id="','" style="position:absolute;display:',";left:","px;top:","px;z-index:",'"><img src="'+ShadowPNG+'" style="'+g.getShadow(g)+'"><img style="position:absolute;clip:rect(0,auto,',",0);width:83px;height:72px;top:",'px" src="','"></div>']},GoingDieHead:function(c,a,b){oSym.addTask(200,ClearChild,[NewImg(0,a[b.HeadGif]+Math.random(),"width:75px;height:93px;left:"+b.AttackedLX+"px;top:"+(b.pixelTop-20)+"px;z-index:"+b.zIndex,EDPZ)])},getShadow:function(a){return"width:43px;height:18px;left:"+(a.beAttackedPointL-5)+"px;top:"+(a.height-15)+"px"}}),oSmallDuckyTubeZombie1=InheritO(oDuckyTubeZombie1,{EName:"oSmallDuckyTubeZombie1",CName:"Small Floater",HP:67,width:83,height:72,beAttackedPointL:41,beAttackedPointR:73,BreakPoint:25,Init:function(e,g,c,b){var a=0,f=this,d=[];g.AttackedRX=(g.X=(g.ZX=g.AttackedLX=e)-g.beAttackedPointL)+g.beAttackedPointR;while(--b){g.CanPass(b,c[b])&&(d[a++]=b)}g.ArR=d;g.ArHTML=['<div id="','" style="position:absolute;display:',";left:","px;top:","px;z-index:",'"><img src="'+ShadowPNG+'" style="'+g.getShadow(g)+'"><img style="position:absolute;clip:rect(0,auto,',",0);width:83px;height:72px;top:",'px" src="','"></div>']},GoingDieHead:function(c,a,b){oSym.addTask(200,ClearChild,[NewImg(0,a[b.HeadGif]+Math.random(),"width:75px;height:93px;left:"+b.AttackedLX+"px;top:"+(b.pixelTop-20)+"px;z-index:"+b.zIndex,EDPZ)])},getShadow:function(a){return"width:43px;height:18px;left:"+(a.beAttackedPointL-5)+"px;top:"+(a.height-15)+"px"}}),oSmallConeheadZombie=InheritO(oConeheadZombie,{EName:"oSmallConeheadZombie",CName:"Small Barricade Zombie",OrnHP:92,HP:67,width:83,height:72,beAttackedPointL:41,beAttackedPointR:78,BreakPoint:25,Init:function(e,g,c,b){var a=0,f=this,d=[];g.AttackedRX=(g.X=(g.ZX=g.AttackedLX=e)-g.beAttackedPointL)+g.beAttackedPointR;while(--b){g.CanPass(b,c[b])&&(d[a++]=b)}g.ArR=d;g.ArHTML=['<div id="','" style="position:absolute;display:',";left:","px;top:","px;z-index:",'"><img src="'+ShadowPNG+'" style="'+g.getShadow(g)+'"><img style="position:absolute;clip:rect(0,auto,',",0);width:83px;height:72px;top:",'px" src="','"></div>']},GoingDieHead:function(c,a,b){oSym.addTask(200,ClearChild,[NewImg(0,a[b.HeadGif]+Math.random(),"width:75px;height:93px;left:"+b.AttackedLX+"px;top:"+(b.pixelTop-20)+"px;z-index:"+b.zIndex,EDPZ)])},getShadow:function(a){return"width:43px;height:18px;left:"+(a.beAttackedPointL-5)+"px;top:"+(a.height-15)+"px"}}),oSmallFootballZombie=InheritO(oFootballZombie,{EName:"oSmallFootballZombie",CName:"Small Football Zombie",OrnHP:350,HP:67,width:77,height:80,beAttackedPointL:20,beAttackedPointR:77,BreakPoint:25,Init:function(e,g,c,b){var a=0,f=this,d=[];g.AttackedRX=(g.X=(g.ZX=g.AttackedLX=e)-g.beAttackedPointL)+g.beAttackedPointR;while(--b){g.CanPass(b,c[b])&&(d[a++]=b)}g.ArR=d;g.ArHTML=['<div id="','" style="position:absolute;display:',";left:","px;top:","px;z-index:",'"><img src="'+ShadowPNG+'" style="'+g.getShadow(g)+'"><img style="position:absolute;clip:rect(0,auto,',",0);width:77px;height:80px;top:",'px" src="','"></div>']},GoingDieHead:function(c,a,b){oSym.addTask(200,ClearChild,[NewImg(0,a[b.HeadGif]+Math.random(),"width:75px;height:93px;left:"+b.AttackedLX+"px;top:"+(b.pixelTop-20)+"px;z-index:"+b.zIndex,EDPZ)])},getShadow:function(a){return"width:43px;height:18px;left:"+(a.beAttackedPointL+15)+"px;top:"+(a.height-22)+"px"}}),oSmallSnorkelZombie=InheritO(oSnorkelZombie,{EName:"oSmallSnorkelZombie",CName:"Small Snorkel Zombie",HP:67,width:71,height:100,beAttackedPointL:20,beAttackedPointR:50,BreakPoint:25,Init:function(e,g,c,b){var a=0,f=this,d=[];g.AttackedRX=(g.X=(g.ZX=g.AttackedLX=e)-g.beAttackedPointL)+g.beAttackedPointR;while(--b){g.CanPass(b,c[b])&&(d[a++]=b)}g.ArR=d;g.ArHTML=['<div id="','" style="position:absolute;display:',";left:","px;top:","px;z-index:",'"><img src="'+ShadowPNG+'" style="'+g.getShadow(g)+'"><img style="position:absolute;clip:rect(0,auto,',",0);width:71px;height:100px;top:",'px" src="','"></div>']},GoingDieHead:function(c,a,b){oSym.addTask(200,ClearChild,[NewImg(0,a[b.HeadGif]+Math.random(),"width:71px;height:105px;left:"+b.AttackedLX+"px;top:"+(b.pixelTop-20)+"px;z-index:"+b.zIndex,EDPZ)])},getShadow:function(a){return"width:43px;height:18px;left:"+a.beAttackedPointL+"px;top:"+(a.height-45)+"px"}}),oZomboni=function(){var a=function(d,b){var c=d.HP;switch(true){case(d.HP=c-=b)<200:d.GoingDie();d.getHit0=d.getHit1=d.getHit2=d.getHit3=function(){};return;case c<391:d.EleBody.src="images/Zombies/Zomboni/3.gif";break;case c<871:d.EleBody.src="images/Zombies/Zomboni/2.gif"}d.SetAlpha(d,d.EleBody,50,.5);oSym.addTask(10,function(f,e){(e=$Z[f])&&e.SetAlpha(e,e.EleBody,100,1)},[d.id])};return InheritO(OrnNoneZombies,{EName:"oZomboni",CName:"Ice Driver",HP:1350,Lvl:3,StandGif:2,DieGif:6,BoomDieGif:7,BookHandPosition:"40% 35%",width:464,height:364,GetDTop:104,beAttackedPointL:140,beAttackedPointR:290,BreakPoint:200,SunNum:350,GetDY:function(){return 0},OSpeed:2.5,Speed:2.5,AKind:2,Attack:50,Produce:'Ice-cart zombie uses ice and snow to roll over your plants<p>Toughness:<font color="#FF0000">高</font><br>Features: <font color="#FF0000">Crush plants, leaving an ice path.</font></p>',PicArr:function(){var b="images/Zombies/Zomboni/";return["images/Card/Zombies/Zomboni.png",b+"0.gif",b+"1.gif",b+"2.gif",b+"3.gif",b+"4.gif",b+"5.gif"+$Random,b+"BoomDie.gif"+$Random,b+"ice.png",b+"ice_cap.png"]}(),AudioArr:["zamboni","explosion"],BirthCallBack:function(h){var g=h.delayT,e=h.id,c=h.Ele=$(e),d=h.R,f,b=oGd.$Ice;h.EleShadow=c.firstChild;h.EleBody=c.childNodes[1];!b[d]?(f=NewEle("dIceCar"+d,"div","position:absolute;z-index:1;left:145px;top:"+(GetY(d)-65)+"px;width:800px;height:72px",0,EDPZ),NewImg("","images/interface/blank.png","position:absolute;clip:rect(0,auto,auto,800px);width:800px;height:72px;left:5px;background:url(images/Zombies/Zomboni/ice.png) repeat-x",f),NewImg("","images/Zombies/Zomboni/ice_cap.png","position:absolute;display:none;left:0",f),b[d]=[1,11,h.AttackedLX]):++b[d][0];g?oSym.addTask(g,function(j,i){var k=$Z[j];k&&(k.FreeSetbodyTime=0,SetBlock(i),PlayAudio("zamboni"))},[e,c]):(SetBlock(c),PlayAudio("zamboni"))},ChkActs:function(e,j,q,k){var b,r,m,g,n=oGd.$Ice[j],d,h,f,c,l=$("dIceCar"+j);e.JudgeAttack();(r=e.AttackedRX-=b=e.Speed)<-50?(q.splice(k,1),e.DisappearDie(),m=0):(r<100&&!e.PointZombie&&(e.PointZombie=1,!oS.CardKind&&(StopMusic(),PlayAudio("losemusic",false)),e.ChangeR({R:j,ar:[oS.R-1],CustomTop:400-e.height+e.GetDY()})),e.ZX=e.AttackedLX-=b,e.Ele.style.left=Math.floor(e.X-=b)+"px",m=1);d=e.X;h=d+250;f=d+100;c=GetC(h);c>-1&&c<n[1]&&(oGd.$Crater[j+"_"+c]=1,n[1]=c);h>120&&h<n[2]&&(n[2]=h,l.firstChild.style.clip="rect(0,auto,auto,"+f+"px)",l.childNodes[1].style.left=Math.max(0,f)+"px");GetC(e.AttackedLX)>5&&(e.OSpeed=e.Speed-=.005);return m},ChkActs1:function(f,d,g,c){var b,e;f.JudgeAttack();(f.AttackedLX+=b=f.Speed)>oS.W?(g.splice(c,1),f.DisappearDie(),e=0):(f.ZX=f.AttackedRX+=b,f.Ele.style.left=Math.ceil(f.X+=b)+"px",e=1);return e},getPea:function(c,b){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)]);c.getHit0(c,b)},getFirePea:function(c,b){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)]);c.getHit0(c,b)},getSnowPea:function(c,b){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)]);c.getHit0(c,b)},getFirePeaSputtering:function(){},getFreeze:function(c,b){c.getHit0(c,20)},getShadow:function(b){return"left:"+(b.beAttackedPointL-10)+"px;top:"+(b.height-22)+"px"},getHit:a,getHit0:a,getHit1:a,getHit2:a,getHit3:a,GoingDie:function(){var b=this;b.beAttacked=0;b.AutoReduceHP(b.id)},NormalDie:function(){var b=this;PlayAudio("explosion");b.EleBody.src=b.PicArr[b.DieGif]+Math.random();oSym.addTask(70,ClearChild,[b.Ele]);b.HP=0;delete $Z[b.id];b.JudgeIce();b.PZ&&oP.MonPrgs()},DisappearDie:function(){var b=this;ClearChild(b.Ele);b.HP=0;delete $Z[b.id];b.JudgeIce();b.PZ&&oP.MonPrgs()},ExplosionDie:function(){var b=this;b.EleBody.src=b.PicArr[b.BoomDieGif]+Math.random();oSym.addTask(300,ClearChild,[b.Ele]);b.HP=0;delete $Z[b.id];b.JudgeIce();b.PZ&&oP.MonPrgs()},CrushDie:function(){this.NormalDie()},JudgeIce:function(){var d=this,b=d.R,e=$("dIceCar"+b),c=oGd.$Ice[b];e&&e.childNodes[1]&&SetBlock(e.childNodes[1]);--c[0]<=0&&oSym.addTask(3e3,function(k,h){var j=oGd.$Ice[h],g,f=oGd.$Crater;if(j&&j[0]<=0&&k){ClearChild(k);g=j[1];while(g<11){delete f[h+"_"+g++];delete oGd.$Ice[h]}}},[e,b])},flatTire:function(){var b=this;b.EleBody.src="images/Zombies/Zomboni/4.gif";b.beAttacked=0;b.HP=0;b.getHit0=b.getHit1=b.getHit2=b.getHit3=function(){};b.ChkActs=b.ChkActs1=function(){};oSym.addTask(290,function(e,c){var d=$Z[e];d&&d.NormalDie()},[b.id,b.EleBody])},JudgeAttack:function(){var f=this,c=f.ZX,d=f.R+"_",e=GetC(c),g=oGd.$,b;(b=f.JudgeLR(f,d,e,c,g)||f.JudgeSR(f,d,e,c,g))&&f.NormalAttack(b[0],b[1])},JudgeLR:function(e,c,d,b,f){return d>10||d<1?false:function(){c+=--d+"_";var g=3,h;while(g--){if(h=f[c+g]){return h.AttackedRX>=b&&h.AttackedLX<=b?[e.id,h.id]:false}}}()},JudgeSR:function(e,c,d,b,f){return d>9?false:function(){c+=d+"_";var g=3,h;while(g--){if(h=f[c+g]){return h.AttackedRX>=b&&h.AttackedLX<=b?[e.id,h.id]:false}}}()},NormalAttack:function(c,b){var d=$Z[c];$P[b].getHurt(d,2,d.Attack)},getThump:function(){this.NormalDie()}})}(),oCZomboni=function(){var a=function(d,b){var c=d.HP;switch(true){case(d.HP=c-=b)<200:d.GoingDie();d.getHit0=d.getHit1=d.getHit2=d.getHit3=function(){};return;case c<391:d.EleBody.src="images/Zombies/wall/Zomboni/3.gif";break;case c<871:d.EleBody.src="images/Zombies/wall/Zomboni/2.gif"}d.SetAlpha(d,d.EleBody,50,.5);oSym.addTask(10,function(f,e){(e=$Z[f])&&e.SetAlpha(e,e.EleBody,100,1)},[d.id])};return InheritO(oZomboni,{EName:"oCZomboni",CName:"Oil Truck",HP:1350,Lvl:3,StandGif:2,DieGif:6,BoomDieGif:7,BookHandPosition:"40% 35%",width:464,height:364,GetDTop:104,beAttackedPointL:140,beAttackedPointR:290,BreakPoint:200,SunNum:350,GetDY:function(){return 0},OSpeed:2.5,Speed:2.5,AKind:2,Attack:50,PicArr:function(){var b="images/Zombies/wall/Zomboni/";return["images/Card/Zombies/Zomboni.png",b+"0.gif",b+"1.gif",b+"2.gif",b+"3.gif",b+"4.gif",b+"5.gif"+$Random,b+"BoomDie.gif"+$Random,b+"ice.png",b+"ice_cap.png"]}(),AudioArr:["zamboni","explosion"],BirthCallBack:function(h){var g=h.delayT,e=h.id,c=h.Ele=$(e),d=h.R,f,b=oGd.$Ice;h.EleShadow=c.firstChild;h.EleBody=c.childNodes[1];!b[d]?(f=NewEle("dIceCar"+d,"div","position:absolute;z-index:1;left:145px;top:"+(GetY(d)-65)+"px;width:800px;height:72px",0,EDPZ),NewImg("","images/interface/blank.png","position:absolute;clip:rect(0,auto,auto,800px);width:800px;height:72px;left:5px;background:url(images/Zombies/wall/Zomboni/ice.png) repeat-x",f),NewImg("","images/Zombies/wall/Zomboni/ice_cap.png","position:absolute;display:none;left:0",f),b[d]=[1,11,h.AttackedLX]):++b[d][0];g?oSym.addTask(g,function(j,i){var k=$Z[j];k&&(k.FreeSetbodyTime=0,SetBlock(i),PlayAudio("zamboni"))},[e,c]):(SetBlock(c),PlayAudio("zamboni"))},ChkActs:function(e,j,q,k){var b,r,m,g,n=oGd.$Ice[j],d,h,f,c,l=$("dIceCar"+j);e.JudgeAttack();(r=e.AttackedRX-=b=e.Speed)<-50?(q.splice(k,1),e.DisappearDie(),m=0):(r<100&&!e.PointZombie&&(e.PointZombie=1,!oS.CardKind&&(StopMusic(),PlayAudio("losemusic",false)),e.ChangeR({R:j,ar:[oS.R-1],CustomTop:400-e.height+e.GetDY()})),e.ZX=e.AttackedLX-=b,e.Ele.style.left=Math.floor(e.X-=b)+"px",m=1);d=e.X;h=d+250;f=d+100;c=GetC(h);c>-1&&c<n[1]&&(oGd.$Crater[j+"_"+c]=1,n[1]=c);h>120&&h<n[2]&&(n[2]=h,l.firstChild.style.clip="rect(0,auto,auto,"+f+"px)",l.childNodes[1].style.left=Math.max(0,f)+"px");GetC(e.AttackedLX)>5&&(e.OSpeed=e.Speed-=.005);return m},ChkActs1:function(f,d,g,c){var b,e;f.JudgeAttack();(f.AttackedLX+=b=f.Speed)>oS.W?(g.splice(c,1),f.DisappearDie(),e=0):(f.ZX=f.AttackedRX+=b,f.Ele.style.left=Math.ceil(f.X+=b)+"px",e=1);return e},getPea:function(c,b){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)]);c.getHit0(c,b)},getFirePea:function(c,b){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)]);c.getHit0(c,b)},getSnowPea:function(c,b){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)]);c.getHit0(c,b)},getFirePeaSputtering:function(){},getFreeze:function(c,b){c.getHit0(c,20)},getShadow:function(b){return"left:"+(b.beAttackedPointL-10)+"px;top:"+(b.height-22)+"px"},getHit:a,getHit0:a,getHit1:a,getHit2:a,getHit3:a,GoingDie:function(){var b=this;b.beAttacked=0;b.AutoReduceHP(b.id)},NormalDie:function(){var b=this;PlayAudio("explosion");b.EleBody.src=b.PicArr[b.DieGif]+Math.random();oSym.addTask(70,ClearChild,[b.Ele]);b.HP=0;delete $Z[b.id];b.JudgeIce();b.PZ&&oP.MonPrgs()},DisappearDie:function(){var b=this;ClearChild(b.Ele);b.HP=0;delete $Z[b.id];b.JudgeIce();b.PZ&&oP.MonPrgs()},ExplosionDie:function(){var b=this;b.EleBody.src=b.PicArr[b.BoomDieGif]+Math.random();oSym.addTask(300,ClearChild,[b.Ele]);b.HP=0;delete $Z[b.id];b.JudgeIce();b.PZ&&oP.MonPrgs()},CrushDie:function(){this.NormalDie()},JudgeIce:function(){var d=this,b=d.R,e=$("dIceCar"+b),c=oGd.$Ice[b];e&&e.childNodes[1]&&SetBlock(e.childNodes[1]);--c[0]<=0&&oSym.addTask(3e3,function(k,h){var j=oGd.$Ice[h],g,f=oGd.$Crater;if(j&&j[0]<=0&&k){ClearChild(k);g=j[1];while(g<11){delete f[h+"_"+g++];delete oGd.$Ice[h]}}},[e,b])},flatTire:function(){var b=this;b.EleBody.src="images/Zombies/wall/Zomboni/4.gif";b.beAttacked=0;b.HP=0;b.getHit0=b.getHit1=b.getHit2=b.getHit3=function(){};b.ChkActs=b.ChkActs1=function(){};oSym.addTask(290,function(e,c){var d=$Z[e];d&&d.NormalDie()},[b.id,b.EleBody])},JudgeAttack:function(){var f=this,c=f.ZX,d=f.R+"_",e=GetC(c),g=oGd.$,b;(b=f.JudgeLR(f,d,e,c,g)||f.JudgeSR(f,d,e,c,g))&&f.NormalAttack(b[0],b[1])},JudgeLR:function(e,c,d,b,f){return d>10||d<1?false:function(){c+=--d+"_";var g=3,h;while(g--){if(h=f[c+g]){return h.AttackedRX>=b&&h.AttackedLX<=b?[e.id,h.id]:false}}}()},JudgeSR:function(e,c,d,b,f){return d>9?false:function(){c+=d+"_";var g=3,h;while(g--){if(h=f[c+g]){return h.AttackedRX>=b&&h.AttackedLX<=b?[e.id,h.id]:false}}}()},NormalAttack:function(c,b){var d=$Z[c];$P[b].getHurt(d,2,d.Attack)},getThump:function(){this.NormalDie()}})}(),oDolphinRiderZombie=InheritO(oAquaticZombie,{EName:"oDolphinRiderZombie",CName:"Dolphin Rider",HP:270,Lvl:2,BreakPoint:167,width:282,height:210,Lvl:2,getShadow:function(a){return"left:105px;top:175px"},GetDX:function(){return-137},GetDY:function(){return 0},GetDTop:0,Altitude:1,haveDolphin:1,JumpTime:45,beAttackedPointL:110,beAttackedPointR:190,SunNum:350,OSpeed:3.2,Speed:3.2,PicArr:function(){var a="images/Zombies/DolphinRiderZombie/";return["images/Card/Zombies/DolphinRiderZombie.png",a+"0.gif",a+"Walk1.gif",a+"Walk2.gif",a+"1.gif",a+"Attack.gif",a+"Head.gif"+$Random,a+"Die.gif"+$Random,a+"Jump.gif"+$Random,a+"Jump2.gif"+$Random,a+"Walk3.gif",a+"Walk4.gif",a+"Die2.gif"+$Random,a+"Jump3.gif"+$Random]}(),AudioArr:["dolphin_before_jumping","dolphin_appears","zombie_entering_water"],Produce: 'Dolphin rider zombie is skilled at using the weaknesses in your pool defenses.<p>Toughness:<font color="#FF0000">Medium</font><br>Speed:<font color="#FF0000">Fast, Slow (after jumping)</font><br> <font color="#FF0000"></font></font></p>',BirthCallBack:function(a){PlayAudio("dolphin_appears");oAquaticZombie.prototype.BirthCallBack(a)},Jump:function(a){a.beAttacked&&(PlayAudio("zombie_entering_water"),a.Altitude=2,SetHidden(a.EleShadow),a.EleBody.src=a.PicArr[8]+Math.random(),oSym.addTask(240,function(d,b){var c;$Z[d]&&b.beAttacked&&(b.WalkStatus=1,b.Altitude=1,b.OSpeed=b.Speed=10.8,SetStyle(b.Ele,{left:(c=b.X-=140)+"px"}),b.AttackedLX=c+(b.beAttackedPointL=185),b.AttackedRX=c+(b.beAttackedPointR=265),b.EleBody.src=b.PicArr[b.NormalGif=b.WalkGif1],b.ChkActs=b.ChkActsL2)},[a.id,a]),a.ChkActs=function(){return 1})},ChkActsL1:function(d,c,e,b){if(d.JumpTime<=0){d.Jump(d);return 1}var a;!(d.FreeFreezeTime||d.FreeSetbodyTime)&&(d.AttackedRX-=a=d.Speed,LX=d.ZX=d.AttackedLX-=a,d.Ele.style.left=Math.floor(d.X-=a)+"px",--d.JumpTime);return 1},getCrushed:function(a){this.NormalAttack(this.id,a.id,a.AttackedLX);this.getCrushed=function(){return false};a.Stature>0&&oSym.addTask(50,function(c){var b=$Z[c];b&&b.CrushDie()},[this.id]);return false},getRaven:function(a){return!this.isAttacking&&this.NormalAttack(this.id,a,$P[a].AttackedLX),0},JudgeAttack:function(){var f=this,b=f.ZX,d=f.R+"_",c=GetC(b),g=oGd.$,e,a;for(e=c-2;e<=c;e++){if(e>9){continue}for(a=2;a>-1;(p=g[d+e+"_"+a--])&&(p.EName!="oBrains"?p.AttackedRX>=b&&p.AttackedLX<b&&(a=-1,f.JudgeAttack=CZombies.prototype.JudgeAttack,f.NormalAttack(f.id,p.id,p.AttackedLX)):p.AttackedRX>=b&&p.AttackedLX<b&&(a=-1,f.JudgeAttack=CZombies.prototype.JudgeAttack,(f.NormalAttack=CZombies.prototype.NormalAttack)(f.id,p.id)))){}}},AttackZombie2:function(c,b,a){c.NormalAttack(b,a,$Z[a].AttackedLX)},NormalAttack:function(d,b,g){var f=$Z[d],a=f.Ele,c=f.EleShadow,e=f.EleBody;e.src=f.PicArr[9]+Math.random();SetHidden(c);f.isAttacking=1;f.Altitude=2;f.haveDolphin=0;PlayAudio("dolphin_before_jumping");f.getFreeze=function(){f.getSnow(f,20,0)};oSym.addTask(50,function(m,j,i,l,q){var h=$Z[m],k,r,s,n=function(){q.src=h.PicArr[10];h.isAttacking=0;h.Altitude=1;h.OSpeed=h.Speed=1.6;h.WalkGif0=11;h.NormalGif=h.WalkGif1=10;h.LostHeadGif=h.DieGif=12;h.NormalAttack=(s=CZombies.prototype).NormalAttack;h.getCrushed=s.getCrushed;h.getFreeze=s.getFreeze;h.getRaven=s.getRaven;h.AttackZombie2=s.AttackZombie2};h&&((k=$P[j])&&k.Stature>0?(h.AttackedRX=(h.X=(h.AttackedLX=h.ZX=r=k.AttackedRX)-(h.beAttackedPointL=45))+(h.beAttackedPointR=100),SetStyle(i,{left:h.X+"px"}),h.EleShadow.style.left="45px",n()):(h.ZX=h.AttackedLX=(h.X=(h.AttackedRX=g)-(h.beAttackedPointR=100))+(h.beAttackedPointL=45),SetStyle(i,{left:h.X+"px"}),h.EleShadow.style.left="45px",q.src=h.PicArr[13]+Math.random(),oSym.addTask(170,function(t,w){var v=$Z[t],u;v&&n()},[m,q])))},[d,b,a,c,e])},GoingDie:function(){var b=this,c=b.id,a=b.PicArr;b.EleBody.src=a[b.haveDolphin?7:12]+Math.random();b.GoingDieHead(c,a,b);b.beAttacked=0;b.FreeFreezeTime=b.FreeSetbodyTime=b.FreeSlowTime=0;b.AutoReduceHP(c)}}),oCDolphinRiderZombie=InheritO(oDolphinRiderZombie,{}),oImp=InheritO(OrnNoneZombies,{EName:"oImp",CName:"Imp",HP:270,Lvl:4,StandGif:9,OSpeed:1.4,Speed:1.4,PicArr:function(){var a="images/Zombies/Imp/";return["images/Card/Zombies/Imp.png",a+"0.gif",a+"Zombie.gif",a+"ZombieAttack.gif",a+"ZombieLostHead.gif",a+"ZombieLostHeadAttack.gif",a+"ZombieHead.gif"+$Random,a+"ZombieDie.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"1.gif"]}(),Produce: 'Imp zombie will quickly break through your defenses.</p><p>Toughness:<font color="#FF0000">Low</font><br>'}),oJX=InheritO(OrnNoneZombies,{EName:"oJX",CName:"Crab Zombie",HP:275,Lvl:4,StandGif:9,OSpeed:1.2,Speed:1.4,Attack:120,PicArr:function(){var a="images/Zombies/JX/";return["images/Card/Zombies/JX.png",a+"0.gif",a+"Zombie.gif",a+"ZombieAttack.gif",a+"ZombieLostHead.gif",a+"ZombieLostHeadAttack.gif",a+"ZombieHead.gif"+$Random,a+"ZombieDie.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"1.gif"]}(),Produce:'This guy is quite crabby. Toughness: <font color="#FF0000">Medium</font><br>'}),oJackinTheBoxZombie=InheritO(OrnNoneZombies,{EName:"oJackinTheBoxZombie",CName:"Jack-n-the-Box",SunNum:100,HP:270,BreakPoint:167,Lvl:3,Status:1,BookHandPosition:"30% 70%",width:196,height:181,beAttackedPointL:120,beAttackedPointR:170,StandGif:5,NormalGif:6,DieGif:3,BoomDieGif:4,HeadGif:11,LostHeadGif:9,LostHeadAttackGif:10,AttackGif:2,OSpeed:3.6,Speed:3.6,Produce:'This zombie carries a Pandoras box that will explode. <br> <br> Toughness: <font color="#FF0000">Medium</font><br>Speed: <font color="#FF0000">Fast</font><br>Features: <font color="#FF0000">Explodes on contact</font><br>Weakness: <font color="#FF0000">Magnetic mushroom</font><br>',AudioArr:["jackinthebox","explosion"],PicArr:function(){var a="images/Zombies/JackinTheBoxZombie/";return["images/Card/Zombies/JackboxZombie.png",a+"0.gif",a+"Attack.gif",a+"Die.gif"+$Random,a+"BoomDie.gif"+$Random,a+"1.gif",a+"Walk.gif",a+"OpenBox.gif",a+"Boom.gif"+$Random,a+"LostHead.gif",a+"LostHeadAttack.gif","images/Zombies/Zombie/ZombieHead.gif"+$Random]}(),RandomOpenBox:function(a){oSym.addTask(Math.floor(Math.random()*100)>4?Math.floor(1325+Math.random()*976):Math.floor(450+Math.random()*301),function(c){var b=$Z[c];b&&b.beAttacked&&b.OpenBox(c)},[a])},OpenBox:function(b){var a=$Z[b];a.EleBody.src=a.PicArr[7];a.ChkActs=a.ChkActs1=function(){return 1};a.JudgeAttack=function(){var g=this,d=g.ZX,e=g.R+"_",f=GetC(d),h=oGd.$,c;(c=g.JudgeLR(g,e,f,d,h)||g.JudgeSR(g,e,f,d,h))?(!g.isAttacking&&(g.isAttacking=1,g.EleBody.src=g.PicArr[g.AttackGif]),g.NormalAttack(c[0],c[1])):g.isAttacking&&(g.isAttacking=0)};a.JudgeAttackH=function(){var e=this,d=oZ.getZ0(e.ZX,e.R),f=e.id,c;d&&d.beAttacked&&d.AttackedLX<oS.W&&d.Altitude==1?!e.isAttacking?(e.isAttacking=1,e.EleBody.src=e.PicArr[e.AttackGif],e.AttackZombie(f,c=d.id),!d.isAttacking&&d.AttackZombie2(d,c,f)):e.AttackZombie(f,d.id,1):e.isAttacking&&(e.isAttacking=0)};a.getPea=a.getSnowPea=a.getFirePeaSputtering=a.getFirePea=a.getHit=a.getHit0=a.getHit1=a.getHit2=a.getHit3=a.ChangeR=a.bedevil=function(){};oSym.addTask(50,function(c){$Z[c]&&(a.Status=0,!--oGd.$JackinTheBox&&StopAudio("jackinthebox"),PlayAudio("jackinthebox"),oSym.addTask(90,function(f){var e=$Z[f],d;e&&(d=NewImg("","","width:306px;height:300px;left:"+(e.X-16)+"px;top:"+(e.pixelTop-90)+"px;z-index:20"),PlayAudio("explosion"),d.src=e.PicArr[8]+Math.random(),EDPZ.appendChild(d),oSym.addTask(70,ClearChild,[d]),e.PZ?function(k,g){var q=Math.max(1,k-1),o=Math.min(oS.R,k+1),n=Math.max(1,g-1),h=Math.min(oS.C,g+1),r=oGd.$,l,j="",m;do{g=n;do{j=q+"_"+g+"_";for(l=0;l<4;l++){(m=r[j+l])&&m.BoomDie()}}while(g++<h)}while(q++<o)}(e.R,GetC(e.ZX)):function(j,l){var m=j-120,o=j+120,h=Math.min(1,l-1),g=Math.max(oS.R,l+1),n,k;do{k=(n=oZ.getArZ(m,o,h)).length;while(k--){n[k].ExplosionDie()}}while(h++<g)}(e.ZX,e.R),e.DisappearDie())},[c]))},[b])},getShadow:function(a){return"left:"+(a.beAttackedPointL-8)+"px;top:"+(a.height-32)+"px"},BirthCallBack:function(d){var c=d.delayT,b=d.id,a=d.Ele=$(b);d.EleShadow=a.firstChild;d.EleBody=a.childNodes[1];c?oSym.addTask(c,function(f,e){var g=$Z[f];g&&(PlayAudio("jackinthebox",true),++oGd.$JackinTheBox,g.FreeSetbodyTime=0,SetBlock(e),g.RandomOpenBox(f))},[b,a]):(PlayAudio("jackinthebox",true),++oGd.$JackinTheBox,SetBlock(a),d.RandomOpenBox(b))},NormalDie:function(){var a=this;a.Status&&!--oGd.$JackinTheBox&&StopAudio("jackinthebox");a.EleBody.src=a.PicArr[a.DieGif]+Math.random();oSym.addTask(250,ClearChild,[a.Ele]);a.HP=0;delete $Z[a.id];a.PZ&&oP.MonPrgs()},ExplosionDie:function(){var a=this;a.Status&&!--oGd.$JackinTheBox&&StopAudio("jackinthebox");a.EleBody.src=a.PicArr[a.BoomDieGif]+Math.random();oSym.addTask(300,ClearChild,[a.Ele]);a.HP=0;delete $Z[a.id];a.PZ&&oP.MonPrgs()},DisappearDie:function(){this.Status&&!--oGd.$JackinTheBox&&StopAudio("jackinthebox");ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()},CrushDie:function(){var a=this;a.Status&&!--oGd.$JackinTheBox&&StopAudio("jackinthebox");a.GoingDieHead(a.id,a.PicArr,a);ClearChild(a.Ele);a.HP=0;delete $Z[a.id];a.PZ&&oP.MonPrgs()}}),oCJackinTheBoxZombie=InheritO(oJackinTheBoxZombie,{EName:"oCJackinTheBoxZombie"});oBalloonZombie=InheritO(OrnIZombies,{EName:"oBalloonZombie",CName:"Balloon Flyer",OrnHP:10,StandGif:2,CardGif:0,SunNum:100,width:207,height:197,beAttackedPointL:30,beAttackedPointR:85,OSpeed:3.2,Speed:3.2,Altitude:3,OrnLostNormalGif:9,OrnLostAttackGif:3,getShadow:function(c){return"left:"+(c.beAttackedPointL-0)+"px;top:"+(c.height-22)+"px"},AudioArr:["ballooninflate","balloon_pop"],BookHandPosition:"80% 80%",PicArr:function(){var a="images/Zombies/BalloonZombie/";return["images/Card/Zombies/Balloonzombie.png",a+"0.gif",a+"1.gif",a+"Attack.gif",a+"Walk2.gif",a+"Attack2.gif",a+"Head.gif"+$Random,a+"Die.gif"+$Random,a+"Boom.gif",a+"Walk.gif",a+"Drop.gif",a+"Boom2.gif",a+"BalloonZombie.gif"]}(),Produce:'The balloon flyer floats in the air, avoiding most attacks. <br><br>Toughness: <font color="#FF0000">Low</font><br>Features: <font color="#FF0000">Flight</font><br>Weakness: <font color="#FF0000">Cactus and clovers</font></p>',GetDX:function(){return-10},BirthCallBack:function(e){var d=e.delayT,c=e.id,a=e.Ele=$(c),f=oGd.$Balloon,b=e.R;e.EleShadow=a.firstChild;e.EleBody=a.childNodes[1];d?oSym.addTask(d,function(i,g){var j=$Z[i],k=oGd.$Balloon,h=j.R;j&&(j.FreeSetbodyTime=0,SetBlock(g));k[h]==undefined?k[h]=1:++k[h];PlayAudio("ballooninflate")},[c,a]):(SetBlock(a),f[b]==undefined?f[b]=1:++f[b],PlayAudio("ballooninflate"))},ChkActs:function(f,d,g,c){var b,a,e;!(f.FreeFreezeTime||f.FreeSetbodyTime)?(a=f.AttackedRX-=b=f.Speed)<-50?(g.splice(c,1),f.DisappearDie(),e=0):(a<100&&!f.PointZombie&&(f.PointZombie=1,!oS.CardKind&&(StopMusic(),PlayAudio("losemusic",false)),f.ChangeR({R:d,ar:[oS.R-1],CustomTop:400-f.height+f.GetDY()})),f.ZX=f.AttackedLX-=b,f.Ele.style.left=Math.floor(f.X-=b)+"px",e=1):e=1;return e},Drop:function(){var a=this;PlayAudio("balloon_pop");a.EleBody.src="images/Zombies/BalloonZombie/Drop.gif"+$Random+Math.random();a.ChkActs=function(){return 1};a.Altitude=4;--oGd.$Balloon[a.R];oSym.addTask(120,function(b){var c=$Z[b];if(c){c.BoomDieGif=11;c.Altitude=1;c.OSpeed=c.Speed=1.6;c.getFreeze=OrnIZombies.prototype.getFreeze;c.EleBody.src="images/Zombies/BalloonZombie/Walk.gif";c.ChkActs=OrnIZombies.prototype.ChkActs;c.ExplosionDie=function(){var d=this;d.EleBody.src=d.PicArr[d.BoomDieGif];oSym.addTask(200,ClearChild,[d.Ele]);d.HP=0;delete $Z[d.id];d.PZ&&oP.MonPrgs()};c.DisappearDie=function(){ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()};c.CrushDie=function(){var d=this;d.GoingDieHead(d.id,d.PicArr,d);ClearChild(d.Ele);d.HP=0;delete $Z[d.id];d.PZ&&oP.MonPrgs()}}},[a.id])},getFreeze:function(b,a){b.Attack=50;b.Speed=.5*b.OSpeed;oSym.addTask(1500,function(d,c){var e=$Z[d];e&&e.FreeSlowTime==c&&(e.FreeSlowTime=0,e.Attack=100,e.Speed=e.OSpeed)},[a,b.FreeSlowTime=oSym.Now+1500])},NormalDie:function(){var a=this;a.EleBody.src=a.PicArr[a.DieGif]+Math.random();oSym.addTask(250,ClearChild,[a.Ele]);a.HP=0;delete $Z[a.id];a.PZ&&oP.MonPrgs()},ExplosionDie:function(){var a=this;a.EleBody.src=a.PicArr[a.BoomDieGif];oSym.addTask(200,ClearChild,[a.Ele]);a.HP=0;delete $Z[a.id];a.PZ&&oP.MonPrgs();--oGd.$Balloon[a.R]},DisappearDie:function(){ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs();--oGd.$Balloon[this.R]},CrushDie:function(){this.DisappearDie()}}),oJY=InheritO(oBalloonZombie,{EName:"oJY",CName:"Flying Fish",OrnHP:1,HP:1,PicArr:function(){var a="images/Zombies/JY/";return["images/Card/Zombies/JY.png",a+"0.gif",a+"1.gif",a+"Attack.gif",a+"Walk2.gif",a+"Attack2.gif",a+"Head.gif"+$Random,a+"Die.gif"+$Random,a+"Boom.gif",a+"Walk.gif",a+"Drop.gif",a+"Boom2.gif",a+"BalloonZombie.gif"]}(),Produce:'Uses a fish-shaped aircraft to avoid attacks on land. <br> <br> Speed: <font color="#FF0000">Fast</font><br>Features: <font color="#FF0000">Flight</font><br>Weakness: <font color="#FF0000">Cactus</font></p>',GetDX:function(){return-10},BirthCallBack:function(e){var d=e.delayT,c=e.id,a=e.Ele=$(c),f=oGd.$Balloon,b=e.R;e.EleShadow=a.firstChild;e.EleBody=a.childNodes[1];d?oSym.addTask(d,function(i,g){var j=$Z[i],k=oGd.$Balloon,h=j.R;j&&(j.FreeSetbodyTime=0,SetBlock(g));k[h]==undefined?k[h]=1:++k[h];PlayAudio("ballooninflate")},[c,a]):(SetBlock(a),f[b]==undefined?f[b]=1:++f[b],PlayAudio("ballooninflate"))},ChkActs:function(f,d,g,c){var b,a,e;!(f.FreeFreezeTime||f.FreeSetbodyTime)?(a=f.AttackedRX-=b=f.Speed)<-50?(g.splice(c,1),f.DisappearDie(),e=0):(a<100&&!f.PointZombie&&(f.PointZombie=1,!oS.CardKind&&(StopMusic(),PlayAudio("losemusic",false)),f.ChangeR({R:d,ar:[oS.R-1],CustomTop:400-f.height+f.GetDY()})),f.ZX=f.AttackedLX-=b,f.Ele.style.left=Math.floor(f.X-=b)+"px",e=1):e=1;return e},Drop:function(){var a=this;PlayAudio("balloon_pop");a.EleBody.src="images/Zombies/JY/Drop.gif"+$Random+Math.random();a.ChkActs=function(){return 1};a.Altitude=4;--oGd.$Balloon[a.R];oSym.addTask(120,function(b){var c=$Z[b];if(c){c.BoomDieGif=11;c.Altitude=1;c.OSpeed=c.Speed=1.6;c.getFreeze=OrnIZombies.prototype.getFreeze;c.EleBody.src="images/Zombies/JY/Walk.gif";c.ChkActs=OrnIZombies.prototype.ChkActs;c.ExplosionDie=function(){var d=this;d.EleBody.src=d.PicArr[d.BoomDieGif];oSym.addTask(200,ClearChild,[d.Ele]);d.HP=0;delete $Z[d.id];d.PZ&&oP.MonPrgs()};c.DisappearDie=function(){ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs()};c.CrushDie=function(){var d=this;d.GoingDieHead(d.id,d.PicArr,d);ClearChild(d.Ele);d.HP=0;delete $Z[d.id];d.PZ&&oP.MonPrgs()}}},[a.id])},getFreeze:function(b,a){b.Attack=50;b.Speed=.5*b.OSpeed;oSym.addTask(1500,function(d,c){var e=$Z[d];e&&e.FreeSlowTime==c&&(e.FreeSlowTime=0,e.Attack=100,e.Speed=e.OSpeed)},[a,b.FreeSlowTime=oSym.Now+1500])},NormalDie:function(){var a=this;a.EleBody.src=a.PicArr[a.DieGif]+Math.random();oSym.addTask(250,ClearChild,[a.Ele]);a.HP=0;delete $Z[a.id];a.PZ&&oP.MonPrgs()},ExplosionDie:function(){var a=this;a.EleBody.src=a.PicArr[a.BoomDieGif];oSym.addTask(200,ClearChild,[a.Ele]);a.HP=0;delete $Z[a.id];a.PZ&&oP.MonPrgs();--oGd.$Balloon[a.R]},DisappearDie:function(){ClearChild(this.Ele);this.HP=0;delete $Z[this.id];this.PZ&&oP.MonPrgs();--oGd.$Balloon[this.R]},CrushDie:function(){this.DisappearDie()}}),oCZombie=InheritO(OrnNoneZombies,{EName:"oCZombie",CName:"Nomad",StandGif:9,PicArr:function(){var a="images/Zombies/wall/Zombie/";return["images/Card/Zombies/CZombie.png",a+"0.gif",a+"Zombie.gif",a+"ZombieAttack.gif",a+"ZombieLostHead.gif",a+"ZombieLostHeadAttack.gif",a+"ZombieHead.gif"+$Random,a+"ZombieDie.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"1.gif"]}(),Produce:'The zombie dressed in ancient costumes. <br><br> Toughness: <font color="#FF0000">Low</font></p>'}),oCZombie2=InheritO(oCZombie,{EName:"oCZombie2"},{PicArr:{2:"images/Zombies/wall/Zombie/Zombie.gif",9:"images/Zombies/wall/Zombie/1.gif"}}),oCZombie3=InheritO(oCZombie,{EName:"oCZombie3"},{PicArr:{2:"images/Zombies/wall/Zombie/Zombie.gif",9:"images/Zombies/wall/Zombie/1.gif"}});oCConeheadZombie=InheritO(OrnIZombies,{EName:"oCConeheadZombie",CName:"Bamboo Basket",OrnHP:370,Lvl:2,SunNum:75,StandGif:11,PicArr:function(){var b="images/Zombies/wall/ConeheadZombie/",a="images/Zombies/wall/Zombie/";return["images/Card/Zombies/CConeheadZombie.png",b+"0.gif",b+"ConeheadZombie.gif",b+"ConeheadZombieAttack.gif",a+"ZombieLostHead.gif",a+"ZombieLostHeadAttack.gif",a+"ZombieHead.gif"+$Random,a+"ZombieDie.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"Zombie.gif",a+"ZombieAttack.gif",b+"1.gif"]}(),AudioArr:["plastichit"],PlayNormalballAudio:function(){PlayAudio("plastichit")},Produce:'His bamboo basket helmet makes him better able to withstand attacks from plants. <br><br> Toughness: <font color="#FF0000">Carrying normal armor</font></p>'});oCBucketheadZombie=InheritO(oCConeheadZombie,{EName:"oCBucketheadZombie",CName:"Beggar",OrnHP:1100,Lvl:3,SunNum:125,PlayNormalballAudio:function(){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)])},Produce:'His ceramic bowl can effectively resist the impact of bullets. Toughness: <font color="#FF0000">Carrying sturdy armor</font></p>'},{PicArr:{0:"images/Card/Zombies/CBucketheadZombie.png",1:"images/Zombies/wall/BucketheadZombie/0.gif",2:"images/Zombies/wall/BucketheadZombie/BucketheadZombie.gif",3:"images/Zombies/wall/BucketheadZombie/BucketheadZombieAttack.gif",9:"images/Zombies/wall/Zombie/Zombie.gif",11:"images/Zombies/wall/BucketheadZombie/1.gif"}});othugZombie=InheritO(OrnNoneZombies,{EName:"othugZombie",CName:"Assassin",HP:550,width:348,height:218,OSpeed:1.5,Speed:1.5,beAttackedPointL:215,beAttackedPointR:260,StandGif:13,GetDX:function(){return-238},GetDY:function(){return 2},Lvl:2,SunNum:75,PicArr:function(){var a="images/Zombies/wall/thugZombie/";return["images/Card/Zombies/thugZombie.png",a+"0.gif",a+"PoleVaultingZombie.gif",a+"PoleVaultingZombieAttack.gif",a+"PoleVaultingZombieLostHead.gif",a+"PoleVaultingZombieLostHeadAttack.gif",a+"PoleVaultingZombieHead.gif"+$Random,a+"PoleVaultingZombieDie.gif"+$Random,"images/Zombies/PoleVaultingZombie/BoomDie.gif"+$Random,a+"PoleVaultingZombieWalk.gif",a+"PoleVaultingZombieLostHeadWalk.gif",a+"PoleVaultingZombieJump.gif",a+"PoleVaultingZombieJump2.gif",a+"1.gif"]}(),Produce:'The assassin zombie unexpectedly breaks through your formation. Toughness: <font color="#FF0000">High</font></p>',getShadow:function(a){return"left:"+(a.beAttackedPointL-20)+"px;top:"+(a.height-35)+"px"},GoingDieHead:function(c,a,b){oSym.addTask(200,ClearChild,[NewImg(0,a[b.HeadGif]+Math.random(),"left:"+b.X+"px;top:"+(b.pixelTop-20)+"px;z-index:"+b.zIndex,EDPZ)])},JudgeAttack:function(){var g=this,b=g.ZX,d=g.R+"_",c=GetC(b),h=oGd.$,f,a,e=b-74;for(f=c-2;f<=c;f++){if(f>9){continue}for(a=2;a>-1;(p=h[d+f+"_"+a--])&&(p.EName!="oBrains"?p.AttackedRX>=e&&p.AttackedLX<b&&p.canEat&&(a=-1,g.JudgeAttack=CZombies.prototype.JudgeAttack,g.NormalAttack(g.id,p.id,p.AttackedLX)):p.AttackedRX>=b&&p.AttackedLX<b&&(a=-1,g.JudgeAttack=CZombies.prototype.JudgeAttack,(g.NormalAttack=CZombies.prototype.NormalAttack)(g.id,p.id)))){}}},getCrushed:function(a){this.NormalAttack(this.id,a.id,a.AttackedLX);this.getCrushed=function(){return false};a.Stature>0&&oSym.addTask(50,function(c){var b=$Z[c];b&&b.CrushDie()},[this.id]);return false},getRaven:function(a){return!this.isAttacking&&this.NormalAttack(this.id,a,$P[a].AttackedLX),0},NormalAttack:function(d,b,g){var f=$Z[d],a=f.Ele,c=f.EleShadow,e=f.EleBody;e.src="images/Zombies/wall/thugZombie/PoleVaultingZombieJump.gif"+$Random+Math.random();SetHidden(c);f.isAttacking=2;f.Altitude=2;f.getFreeze=function(){f.getSnowPea(f,20)};oSym.addTask(50,function(h){$Z[h]&&PlayAudio("polevault")},[d]);oSym.addTask(100,function(m,j,i,l,n){var h=$Z[m],k,q,r;h&&((k=$P[j])&&k.Stature>0?(h.AttackedRX=(h.X=(h.AttackedLX=h.ZX=q=k.AttackedRX)-h.beAttackedPointL)+h.beAttackedPointR,SetStyle(i,{left:h.X+"px"}),n.src="images/Zombies/wall/thugZombie/PoleVaultingZombieWalk.gif",SetVisible(l),h.isAttacking=0,h.Altitude=1,h.OSpeed=h.Speed=1.6,h.NormalGif=9,h.LostHeadGif=10,h.NormalAttack=(r=CZombies.prototype).NormalAttack,h.getCrushed=r.getCrushed,h.getFreeze=r.getFreeze,h.getRaven=r.getRaven):(h.ZX=h.AttackedLX=(h.X=(h.AttackedRX=g)-h.beAttackedPointR)+h.beAttackedPointL,SetStyle(i,{left:h.X+"px"}),n.src="images/Zombies/wall/thugZombie/PoleVaultingZombieJump2.gif"+$Random+Math.random(),SetVisible(l),oSym.addTask(80,function(s,v){var u=$Z[s],t;u&&(v.src="images/Zombies/wall/thugZombie/PoleVaultingZombieWalk.gif",u.isAttacking=0,u.Altitude=1,u.OSpeed=u.Speed=1.2,u.NormalGif=9,u.LostHeadGif=10,u.NormalAttack=(t=CZombies.prototype).NormalAttack,u.getCrushed=t.getCrushed,u.getFreeze=t.getFreeze,u.getRaven=t.getRaven)},[m,n])))},[d,b,a,c,e])}}),oEunZombie=InheritO(OrnIIZombies,{EName:"oEunZombie",CName:"Egyptian Pharaoh",OrnHP:500,HP:270,Lvl:2,LostPaperGif:13,StandGif:14,width:216,height:164,beAttackedPointL:60,beAttackedPointR:130,Speed:1.5,LostPaperSpeed:1.5,PicArr:function(){var a="images/Zombies/wall/EunZombie/";return["images/Card/Zombies/EunZombie.png",a+"0.gif",a+"HeadWalk1.gif",a+"HeadAttack1.gif",a+"LostHeadWalk1.gif",a+"LostHeadAttack1.gif",a+"HeadWalk0.gif",a+"HeadAttack0.gif",a+"LostHeadWalk0.gif",a+"LostHeadAttack0.gif",a+"Head.gif"+$Random,a+"Die.gif"+$Random,"images/Zombies/NewspaperZombie/BoomDie.gif"+$Random,a+"LostNewspaper.gif",a+"1.gif"]}(),Produce:'This old guy is not very different <p> Toughness: <font color="#FF0000">High</font> <br> Features: <font color="#FF0000">Explodes when the talisman is broken</font></p>',getShadow:function(a){return"left:75px;top:"+(a.height-25)+"px"},GoingDie:function(b){var a=this,c=a.id;a.EleBody.src=b;oSym.addTask(200,ClearChild,[NewImg(0,a.PicArr[a.HeadGif]+Math.random(),"left:"+a.AttackedLX+"px;top:"+(a.pixelTop-20)+"px;z-index:"+a.zIndex,EDPZ)]);a.beAttacked=0;a.FreeFreezeTime=a.FreeSetbodyTime=a.FreeSlowTime=0;a.AutoReduceHP(c)},getHurtOrnLost:function(j,a,g,m,c,l,k,i){var e=this;if(!e.beAttacked){k&&e.DisappearDie();return}var b=e.id,h=e.HP,d=e.PicArr,f=e.isAttacking;switch(true){case(h-=g)<1:e.HP=0;e.NormalDie();return;case h<91:e.HP=h;e.GoingDie(d[[e.OrnLostHeadNormalGif,e.OrnLostHeadAttackGif][f]]);return}e.HP=h;switch(m){case-1:e.getSlow(e,b,1e3);break;case 1:e.getFireball(e,b,a);break;default:!i&&j==-1&&e.PlayNormalballAudio()}SetAlpha(e.EleBody,50,.5);oSym.addTask(10,function(q){var n=$Z[q];n&&SetAlpha(n.EleBody,100,1)},[b])},getSnowPea:function(c,a,b){PlayAudio("splat"+Math.floor(1+Math.random()*3));c.getHit0(c,a,b)},getFirePea:function(f,b,e){f.PlayFireballAudio();(f.FreeSlowTime||f.FreeFreezeTime)&&(f.Speed=f.OSpeed,f.FreeSlowTime=0,f.FreeFreezeTime=0);f.Attack=110;var d=f.AttackedLX,g=f.AttackedRX,a=oZ.getArZ(d,d+40,f.R),c=a.length,h;while(c--){(h=a[c])!=this&&h.getFirePeaSputtering()}(f.HP-=b)<f.BreakPoint?(f.getFirePea=OrnNoneZombies.prototype.getFirePea,f.GoingDie(f.PicArr[[f.LostHeadGif,f.LostHeadAttackGif][f.isAttacking]]),f.getHit=f.getHit0=f.getHit1=f.getHit2=f.getHit3=function(){}):(f.CheckOrnHP(f,f.id,f.OrnHP,b,f.PicArr,f.isAttacking,0),f.SetAlpha(f,f.EleBody,50,.5),oSym.addTask(10,function(j,i){(i=$Z[j])&&i.SetAlpha(i,i.EleBody,100,1)},[f.id]))},getHit0:function(c,a,b){b==c.WalkDirection?(c.CheckOrnHP(c,c.id,c.OrnHP,a,c.PicArr,c.isAttacking,1),c.SetAlpha(c,c.EleBody,50,.5),oSym.addTask(10,function(e,d){(d=$Z[e])&&d.SetAlpha(d,d.EleBody,100,1)},[c.id])):(c.HP-=a)<c.BreakPoint&&(c.GoingDie(c.PicArr[[c.LostHeadGif,c.LostHeadAttackGif][c.isAttacking]]),c.getFirePea=OrnNoneZombies.prototype.getFirePea,c.getSnowPea=OrnNoneZombies.prototype.getSnowPea,c.getHit=c.getHit0=c.getHit1=c.getHit2=c.getHit3=function(){})},getHit1:function(b,a){(b.HP-=a)<b.BreakPoint?(b.GoingDie(b.PicArr[[b.LostHeadGif,b.LostHeadAttackGif][b.isAttacking]]),b.getFirePea=OrnNoneZombies.prototype.getFirePea,b.getSnowPea=OrnNoneZombies.prototype.getSnowPea,b.getHit=b.getHit0=b.getHit1=b.getHit2=b.getHit3=function(){}):(b.CheckOrnHP(b,b.id,b.OrnHP,a,b.PicArr,b.isAttacking,0),b.SetAlpha(b,b.EleBody,50,.5),oSym.addTask(10,function(d,c){(c=$Z[d])&&c.SetAlpha(c,c.EleBody,100,1)},[b.id]))},getHit2:function(b,a){(b.HP-=a)<b.BreakPoint?(b.GoingDie(b.PicArr[[b.LostHeadGif,b.LostHeadAttackGif][b.isAttacking]]),b.getFirePea=OrnNoneZombies.prototype.getFirePea,b.getSnowPea=OrnNoneZombies.prototype.getSnowPea,b.getHit=b.getHit0=b.getHit1=b.getHit2=b.getHit3=function(){}):(b.SetAlpha(b,b.EleBody,50,.5),oSym.addTask(10,function(d,c){(c=$Z[d])&&c.SetAlpha(c,c.EleBody,100,1)},[b.id]))},getHit3:function(b,a){(b.HP-=a)<b.BreakPoint?(b.GoingDie(b.PicArr[[b.LostHeadGif,b.LostHeadAttackGif][b.isAttacking]]),b.getFirePea=OrnNoneZombies.prototype.getFirePea,b.getSnowPea=OrnNoneZombies.prototype.getSnowPea,b.getHit=b.getHit0=b.getHit1=b.getHit2=b.getHit3=function(){}):(b.CheckOrnHP(b,b.id,b.OrnHP,a,b.PicArr,b.isAttacking,0),b.SetAlpha(b,b.EleBody,50,.5),oSym.addTask(10,function(d,c){(c=$Z[d])&&c.SetAlpha(c,c.EleBody,100,1)},[b.id]))},CheckOrnHP:function(g,h,d,c,f,b,a){var e=OrnNoneZombies.prototype;(g.OrnHP=d-=c)<1&&(a&&(g.HP+=d),g.ChkActs=function(){return 1},g.ChkActs1=function(){return 1},g.EleBody.src=f[g.LostPaperGif]+$Random+Math.random(),g.Ornaments=0,g.LostHeadGif=8,g.LostHeadAttackGif=9,g.getFirePea=e.getFirePea,g.getSnowPea=e.getSnowPea,g.getHit=g.getHit0=g.getHit1=g.getHit2=g.getHit3=e.getHit,oSym.addTask(150,function(m,l){var k=$Z[m];if(!k){return}var j=CZombies.prototype,i=k.OSpeed=k.LostPaperSpeed;k.ChkActs=j.ChkActs;k.ChkActs1=j.ChkActs1;k.Speed&&(k.Speed=!k.FreeSlowTime?i:.5*i);if(!k.beAttacked){return}PlayAudio("newspaper_rarrgh2");k.EleBody.src=l;k.JudgeAttack()},[h,f[[g.NormalGif=g.OrnLostNormalGif,g.AttackGif=g.OrnLostAttackGif][b]]]))}});oZZ=InheritO(OrnNoneZombies,{EName:"oZZ",CName:"Grieving Ghost",Lvl:4,HP:500,StandGif:9,OSpeed:1.5,Speed:1.5,width:216,height:164,beAttackedPointL:60,beAttackedPointR:130,getShadow:function(a){return"display:none"},PicArr:function(){var a="images/Zombies/wall/ZZ/";return["images/Card/Zombies/ZZ.png",a+"0.gif",a+"Zombie.gif",a+"ZombieAttack.gif",a+"ZombieLostHead.gif",a+"ZombieLostHeadAttack.gif",a+"ZombieHead.gif"+$Random,a+"ZombieDie.gif"+$Random,"images/Zombies/NewspaperZombie/BoomDie.gif"+$Random,a+"1.gif"]}(),Produce:'The Grieving Ghost is unpredictable, often times even invisible. <p> Toughness: <font color="#FF0000">Medium</font> <br> Features: <font color="#FF0000"></font></p>'}),oEmperor=InheritO(oCZombie,{EName:"oEmperor",CName:"Emporer",HP:15e3,width:464,height:364,beAttackedPointL:140,beAttackedPointR:290,OSpeed:1,Speed:1,Attack:3600,PlayNormalballAudio:function(){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)])},PicArr:function(){var a="images/Zombies/wall/Emperor/";return["images/Card/Zombies/Emperor.png",a+"0.gif",a+"Zombie.gif",a+"ZombieAttack.gif",a+"ZombieLostHead.gif",a+"ZombieLostHeadAttack.gif","images/Zombies/Imp/ZombieHead.gif"+$Random,a+"ZombieDie.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"1.gif"]}(),Produce: 'Qin Shi Huangs zombie is so fierce and imposing, right? <p> Toughness: <font color="#FF0000">Very high</font> <br> Speed: <font color="#FF0000">Slow</font> </p>'}),oWJY=InheritO(oEunZombie,{EName:"oWJY",CName:"Mystery Man",HP:17e3,OrnHP:1e4,lvl:8,OSpeed:.3,Speed:.3,Attack:550,LostPaperSpeed:1.5,PicArr:function(){var a="images/Zombies/WJY/";return["images/Card/Zombies/WJY.png",a+"0.gif",a+"HeadWalk1.gif",a+"HeadAttack1.gif",a+"LostHeadWalk1.gif",a+"LostHeadAttack1.gif",a+"HeadWalk0.gif",a+"HeadAttack0.gif",a+"LostHeadWalk0.gif",a+"LostHeadAttack0.gif",a+"Head.gif"+$Random,a+"Die.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"LostNewspaper.gif",a+"1.gif"]}(),Produce: 'This man is a doctor of some kind. <p> Physical strength: <font color="#FF0000">Invincible</font> </p>'});oWJY1=InheritO(oDuckyTubeZombie1,{EName:"oWJY1",CName:"Mystery Man - Water",OSpeed:.1,Speed:.1,HP:2e4,width:216,height:164,beAttackedPointL:60,beAttackedPointR:130,getShadow:function(a){return"display:none"},PicArr:function(){var a="images/Zombies/WJY/water/";return["images/Card/Zombies/DuckyTubeZombie1.png",a+"0.gif",a+"Walk1.gif",a+"Walk2.gif",a+"1.gif",a+"Attack.gif",a+"ZombieHead.gif"+$Random,a+"Die.gif"+$Random]}(),AudioArr:["zombie_entering_water"]}),oXBZombie=InheritO(OrnNoneZombies,{EName:"oXBZombie",CName:"Shrimper",Lvl:4,StandGif:9,OSpeed:3.2,Speed:3.2,PicArr:function(){var a="images/Zombies/XB/";return["images/Card/Zombies/XB.png",a+"0.gif",a+"Zombie.gif",a+"ZombieAttack.gif",a+"ZombieLostHead.gif",a+"ZombieLostHeadAttack.gif",a+"ZombieHead.gif"+$Random,a+"ZombieDie.gif"+$Random,"images/Zombies/BoomDie.gif"+$Random,a+"1.gif"]}(),Produce: 'The streamlined shrimp head gives him twice the speed of other zombies. <p> Toughness: <font color="#FF0000">Low</font> <br> Weakness: <font color="#FF0000">Ice Shooter</font> </p>'}),oCXZombie=InheritO(oZombie,{EName:"oCXZombie",CName:"Turtle Guy",Lvl:4,HP:1300,OSpeed:.5,Speed:.5,width:216,height:164,beAttackedPointL:60,beAttackedPointR:130,PicArr:function(){var a="images/Zombies/CX/";return["images/Card/Zombies/CX.png",a+"0.gif",a+"Zombie.gif",a+"ZombieAttack.gif",a+"ZombieLostHead.gif",a+"ZombieLostHeadAttack.gif",a+"ZombieHead.gif"+$Random,a+"ZombieDie.gif"+$Random,"images/Zombies/NewspaperZombie/BoomDie.gif"+$Random,a+"1.gif"]}(),Produce: 'His hard turtle shell can reduce most damage. <p> Toughness: <font color="#FF0000">Very high</font> <br> Weakness: <font color="#FF0000">Sea Star Fruit</font> </p>'}),oLGBOSS=function(){var a=function(d,b){var c=d.HP;switch(true){case(d.HP=c-=b)<1e3:d.GoingDie();d.getHit0=d.getHit1=d.getHit2=d.getHit3=function(){};return;case c<3e3:d.EleBody.src="images/Zombies/LGBOSS/3.gif";break;case c<5e3:d.EleBody.src="images/Zombies/LGBOSS/2.gif"}d.SetAlpha(d,d.EleBody,50,.5);oSym.addTask(10,function(f,e){(e=$Z[f])&&e.SetAlpha(e,e.EleBody,100,1)},[d.id])};return InheritO(oZomboni,{EName:"oLGBOSS",CName:"Dragon King",HP:6e3,width:464,height:377,beAttackedPointL:140,beAttackedPointR:300,Produce: 'The Dragon King of the East Sea has an infinitely long body. <p> Toughness: <font color="#FF0000">Invincible</font> <br> Skills: <font color="#FF0000">Large body, crushing plants</font> </p>',PicArr:function(){var b="images/Zombies/LGBOSS/";return["images/Card/Zombies/LGBOSS.png",b+"0.gif",b+"1.gif",b+"2.gif",b+"3.gif",b+"5.gif"+$Random,b+"BoomDie.gif"+$Random,b+"ice.png",b+"ice_cap.png"]}(),AudioArr:["zamboni","explosion"],BirthCallBack:function(h){var g=h.delayT,e=h.id,c=h.Ele=$(e),d=h.R,f,b=oGd.$Ice;h.EleShadow=c.firstChild;h.EleBody=c.childNodes[1];!b[d]?(f=NewEle("dIceCar"+d,"div","position:absolute;z-index:1;left:145px;top:"+(GetY(d)-65)+"px;width:800px;height:205px",0,EDPZ),NewImg("","images/interface/blank.png","position:absolute;clip:rect(0,auto,auto,800px);width:800px;height:205px;left:0px;background:url(images/Zombies/LGBOSS/ice.png) repeat-x",f),NewImg("","images/Zombies/LGBOSS/ice_cap.png","position:absolute;display:none;left:0",f),b[d]=[1,11,h.AttackedLX]):++b[d][0];g?oSym.addTask(g,function(j,i){var k=$Z[j];k&&(k.FreeSetbodyTime=0,SetBlock(i),PlayAudio("zamboni"))},[e,c]):(SetBlock(c),PlayAudio("zamboni"))},ChkActs:function(e,j,q,k){var b,r,m,g,n=oGd.$Ice[j],d,h,f,c,l=$("dIceCar"+j);e.JudgeAttack();(r=e.AttackedRX-=b=e.Speed)<-50?(q.splice(k,1),e.DisappearDie(),m=0):(r<100&&!e.PointZombie&&(e.PointZombie=1,!oS.CardKind&&(StopMusic(),PlayAudio("losemusic",false)),e.ChangeR({R:j,ar:[oS.R-1],CustomTop:400-e.height+e.GetDY()})),e.ZX=e.AttackedLX-=b,e.Ele.style.left=Math.floor(e.X-=b)+"px",m=1);d=e.X;h=d+250;f=d+100;c=GetC(h);c>-1&&c<n[1]&&(oGd.$Crater[j+"_"+c]=1,n[1]=c);h>120&&h<n[2]&&(n[2]=h,l.firstChild.style.clip="rect(0,auto,auto,"+f+"px)",l.childNodes[1].style.left=Math.max(0,f)+"px");GetC(e.AttackedLX)>5&&(e.OSpeed=e.Speed-=.005);return m},ChkActs1:function(f,d,g,c){var b,e;f.JudgeAttack();(f.AttackedLX+=b=f.Speed)>oS.W?(g.splice(c,1),f.DisappearDie(),e=0):(f.ZX=f.AttackedRX+=b,f.Ele.style.left=Math.ceil(f.X+=b)+"px",e=1);return e},getPea:function(c,b){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)]);c.getHit0(c,b)},getFirePea:function(c,b){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)]);c.getHit0(c,b)},getSnowPea:function(c,b){PlayAudio(["shieldhit","shieldhit2"][Math.floor(Math.random()*2)]);c.getHit0(c,b)},getFirePeaSputtering:function(){},getFreeze:function(c,b){c.getHit0(c,20)},getShadow:function(b){return"left:"+(b.beAttackedPointL-10)+"px;top:"+(b.height-22)+"px"},getHit:a,getHit0:a,getHit1:a,getHit2:a,getHit3:a,GoingDie:function(){var b=this;b.beAttacked=0;b.AutoReduceHP(b.id)},NormalDie:function(){var b=this;PlayAudio("explosion");b.EleBody.src=b.PicArr[b.DieGif]+Math.random();oSym.addTask(70,ClearChild,[b.Ele]);b.HP=0;delete $Z[b.id];b.JudgeIce();b.PZ&&oP.MonPrgs()},DisappearDie:function(){var b=this;ClearChild(b.Ele);b.HP=0;delete $Z[b.id];b.JudgeIce();b.PZ&&oP.MonPrgs()},ExplosionDie:function(){var b=this;b.EleBody.src=b.PicArr[b.BoomDieGif]+Math.random();oSym.addTask(300,ClearChild,[b.Ele]);b.HP=0;delete $Z[b.id];b.JudgeIce();b.PZ&&oP.MonPrgs()},CrushDie:function(){this.NormalDie()},JudgeIce:function(){var d=this,b=d.R,e=$("dIceCar"+b),c=oGd.$Ice[b];e&&e.childNodes[1]&&SetBlock(e.childNodes[1]);--c[0]<=0&&oSym.addTask(3e3,function(k,h){var j=oGd.$Ice[h],g,f=oGd.$Crater;if(j&&j[0]<=0&&k){ClearChild(k);g=j[1];while(g<11){delete f[h+"_"+g++];delete oGd.$Ice[h]}}},[e,b])},flatTire:function(){var b=this;b.EleBody.src="images/Zombies/LGBOSS/5.gif";b.beAttacked=0;b.HP=0;b.getHit0=b.getHit1=b.getHit2=b.getHit3=function(){};b.ChkActs=b.ChkActs1=function(){};oSym.addTask(290,function(e,c){var d=$Z[e];d&&d.NormalDie()},[b.id,b.EleBody])},JudgeAttack:function(){var f=this,c=f.ZX,d=f.R+"_",e=GetC(c),g=oGd.$,b;(b=f.JudgeLR(f,d,e,c,g)||f.JudgeSR(f,d,e,c,g))&&f.NormalAttack(b[0],b[1])},JudgeLR:function(e,c,d,b,f){return d>10||d<1?false:function(){c+=--d+"_";var g=3,h;while(g--){if(h=f[c+g]){return h.AttackedRX>=b&&h.AttackedLX<=b?[e.id,h.id]:false}}}()},JudgeSR:function(e,c,d,b,f){return d>9?false:function(){c+=d+"_";var g=3,h;while(g--){if(h=f[c+g]){return h.AttackedRX>=b&&h.AttackedLX<=b?[e.id,h.id]:false}}}()},NormalAttack:function(c,b){var d=$Z[c];$P[b].getHurt(d,2,d.Attack)},getThump:function(){this.NormalDie()}})}();
	</script>
	<script>
		setTimeout(() => {
			// SelectModal(0);SetBlock($('dSurface'),$('iSurfaceBackground'));
			// ResetGame($('dMenu0'));
			// StartAdventure();
			// ViewHandBook();
			// SetNone($('dSurface'),$('dPause'));
			// SearchLvl(0);
			// InitGame();
			// SelectModal(0); SetBlock($('dSurface'), $('iSurfaceBackground'));
			// ShowOptions();
			// ShowNameDiv();
			// ShowLevel();
			// ShowMiniGame();
			// ShowRiddleGame();

			// Get a reference to the canvas element
			var widthTest = document.getElementById("dBody");

			// Get the intrinsic width of the canvas
			var widthScreen = widthTest.clientWidth;
			var heightScreen = widthTest.clientHeight;
			scalingFactorX = 2.2 / (widthScreen/550)
			scalingFactorY = 2.2 / (heightScreen/750)

			scalingFactorX = 2.2 
			scalingFactorY = 1.4

			console.log(heightScreen)
			console.log(scalingFactorY)


			CSpeed(2,10,1);
		}, 100)
	
	</script>
<!--     <div style="display:none"><script src="http://s4.cnzz.com/z_stat.php?id=1256097379&web_id=1256097379" language="JavaScript"></script></div>
 -->     <!--本网页来自江南游戏 || pvzweb.usa3v.net-->
</body>
</html>